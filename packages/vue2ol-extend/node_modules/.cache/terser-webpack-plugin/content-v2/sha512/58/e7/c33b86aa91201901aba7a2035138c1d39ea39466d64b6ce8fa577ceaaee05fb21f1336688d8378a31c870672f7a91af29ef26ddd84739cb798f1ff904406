{"code":"!function(t){function e(e){for(var r,s,a=e[0],u=e[1],l=e[2],h=0,p=[];h<a.length;h++)s=a[h],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(c&&c(e);p.length;)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,a=1;a<n.length;a++){var u=n[a];0!==i[u]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},i={1:0},o=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,r){n=i[t]=[e,r]}));e.push(n[2]=r);var o,a=document.createElement(\"script\");a.charset=\"utf-8\",a.timeout=120,s.nc&&a.setAttribute(\"nonce\",s.nc),a.src=function(t){return s.p+\"assets/js/\"+({}[t]||t)+\".\"+{2:\"df9d2ead\",3:\"3a18a07e\",4:\"f4c0206f\",5:\"01d25370\",6:\"ae2f47d4\",7:\"f7b0c58a\",8:\"25c4f109\",9:\"f3e62a1b\",10:\"f919f505\"}[t]+\".js\"}(t);var u=new Error;o=function(e){a.onerror=a.onload=null,clearTimeout(l);var n=i[t];if(0!==n){if(n){var r=e&&(\"load\"===e.type?\"missing\":e.type),o=e&&e.target&&e.target.src;u.message=\"Loading chunk \"+t+\" failed.\\n(\"+r+\": \"+o+\")\",u.name=\"ChunkLoadError\",u.type=r,u.request=o,n[1](u)}i[t]=void 0}};var l=setTimeout((function(){o({type:\"timeout\",target:a})}),12e4);a.onerror=a.onload=o,document.head.appendChild(a)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,\"a\",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p=\"/gis-js/vue2ol/\",s.oe=function(t){throw console.error(t),t};var a=window.webpackJsonp=window.webpackJsonp||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var c=u;o.push([245,0]),n()}([function(t,e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n(\"object\"==typeof globalThis&&globalThis)||n(\"object\"==typeof window&&window)||n(\"object\"==typeof self&&self)||n(\"object\"==typeof global&&global)||function(){return this}()||Function(\"return this\")()},function(t,e,n){var r=n(0),i=n(31).f,o=n(22),s=n(15),a=n(111),u=n(116),l=n(107);t.exports=function(t,e){var n,c,h,p,f,d=t.target,g=t.global,y=t.stat;if(n=g?r:y?r[d]||a(d,{}):(r[d]||{}).prototype)for(c in e){if(p=e[c],h=t.noTargetGet?(f=i(n,c))&&f.value:n[c],!l(g?c:d+(y?\".\":\"#\")+c,t.forced)&&void 0!==h){if(typeof p==typeof h)continue;u(p,h)}(t.sham||h&&h.sham)&&o(p,\"sham\",!0),s(n,c,p,t)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){\"use strict\";function r(t,e,n,r,i,o,s,a){var u,l=\"function\"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId=\"data-v-\"+o),s?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=u):i&&(u=a?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:l}}n.d(e,\"a\",(function(){return r}))},function(t,e,n){var r=n(53),i=Function.prototype,o=i.bind,s=i.call,a=r&&o.bind(s,s);t.exports=r?function(t){return t&&a(t)}:function(t){return t&&function(){return s.apply(t,arguments)}}},function(t,e){t.exports=function(t){return\"function\"==typeof t}},function(t,e,n){var r=n(0),i=n(45),o=n(10),s=n(78),a=n(46),u=n(144),l=i(\"wks\"),c=r.Symbol,h=c&&c.for,p=u?c:c&&c.withoutSetter||s;t.exports=function(t){if(!o(l,t)||!a&&\"string\"!=typeof l[t]){var e=\"Symbol.\"+t;a&&o(c,t)?l[t]=c[t]:l[t]=u&&h?h(e):p(e)}return l[t]}},function(t,e,n){var r=n(119),i=n(15),o=n(267);r||i(Object.prototype,\"toString\",o,{unsafe:!0})},function(t,e,n){var r=n(53),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},function(t,e,n){var r=n(2);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var r=n(4),i=n(18),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},function(t,e,n){var r=n(5);t.exports=function(t){return\"object\"==typeof t?null!==t:r(t)}},function(t,e,n){var r=n(0),i=n(11),o=r.String,s=r.TypeError;t.exports=function(t){if(i(t))return t;throw s(o(t)+\" is not an object\")}},function(t,e,n){var r=n(0),i=n(9),o=n(146),s=n(145),a=n(12),u=n(80),l=r.TypeError,c=Object.defineProperty,h=Object.getOwnPropertyDescriptor;e.f=i?s?function(t,e,n){if(a(t),e=u(e),a(n),\"function\"==typeof t&&\"prototype\"===e&&\"value\"in n&&\"writable\"in n&&!n.writable){var r=h(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:\"configurable\"in n?n.configurable:r.configurable,enumerable:\"enumerable\"in n?n.enumerable:r.enumerable,writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(a(t),e=u(e),a(n),o)try{return c(t,e,n)}catch(t){}if(\"get\"in n||\"set\"in n)throw l(\"Accessors not supported\");return\"value\"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(0),i=n(89),o=r.String;t.exports=function(t){if(\"Symbol\"===i(t))throw TypeError(\"Cannot convert a Symbol value to a string\");return o(t)}},function(t,e,n){var r=n(0),i=n(5),o=n(22),s=n(227),a=n(111);t.exports=function(t,e,n,u){var l=!!u&&!!u.unsafe,c=!!u&&!!u.enumerable,h=!!u&&!!u.noTargetGet,p=u&&void 0!==u.name?u.name:e;return i(n)&&s(n,p,u),t===r?(c?t[e]=n:a(e,n),t):(l?!h&&t[e]&&(c=!0):delete t[e],c?t[e]=n:o(t,e,n),t)}},function(t,e,n){var r=n(0),i=n(5),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},function(t,e){t.exports=!1},function(t,e,n){var r=n(0),i=n(21),o=r.Object;t.exports=function(t){return o(i(t))}},function(t,e,n){\"use strict\";var r=n(1),i=n(94);r({target:\"RegExp\",proto:!0,forced:/./.exec!==i},{exec:i})},function(t,e,n){var r=n(52),i=n(21);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(0).TypeError;t.exports=function(t){if(null==t)throw r(\"Can't call method on \"+t);return t}},function(t,e,n){var r=n(9),i=n(13),o=n(47);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(0),i=n(5),o=n(57),s=r.TypeError;t.exports=function(t){if(i(t))return t;throw s(o(t)+\" is not a function\")}},function(t,e,n){var r=n(75);t.exports=function(t){return r(t.length)}},function(t,e,n){\"use strict\";var r=n(166).charAt,i=n(14),o=n(40),s=n(150),a=o.set,u=o.getterFor(\"String Iterator\");s(String,\"String\",(function(t){a(this,{type:\"String Iterator\",string:i(t),index:0})}),(function(){var t,e=u(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(186),i=\"object\"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function(\"return this\")();t.exports=o},function(t,e,n){!function(t){\"use strict\";var e=6371008.8,n={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*e,kilometers:6371.0088,kilometres:6371.0088,meters:e,metres:e,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:e/1852,radians:1,yards:6967335.223679999},r={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e,yards:1.0936133},i={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function o(t,e,n){void 0===n&&(n={});var r={type:\"Feature\"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function s(t,e,n){switch(t){case\"Point\":return a(e).geometry;case\"LineString\":return h(e).geometry;case\"Polygon\":return l(e).geometry;case\"MultiPoint\":return g(e).geometry;case\"MultiLineString\":return d(e).geometry;case\"MultiPolygon\":return y(e).geometry;default:throw new Error(t+\" is invalid\")}}function a(t,e,n){if(void 0===n&&(n={}),!t)throw new Error(\"coordinates is required\");if(!Array.isArray(t))throw new Error(\"coordinates must be an Array\");if(t.length<2)throw new Error(\"coordinates must be at least 2 numbers long\");if(!P(t[0])||!P(t[1]))throw new Error(\"coordinates must contain numbers\");return o({type:\"Point\",coordinates:t},e,n)}function u(t,e,n){return void 0===n&&(n={}),f(t.map((function(t){return a(t,e)})),n)}function l(t,e,n){void 0===n&&(n={});for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.length<4)throw new Error(\"Each LinearRing of a Polygon must have 4 or more Positions.\");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error(\"First and last Position are not equivalent.\")}return o({type:\"Polygon\",coordinates:t},e,n)}function c(t,e,n){return void 0===n&&(n={}),f(t.map((function(t){return l(t,e)})),n)}function h(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error(\"coordinates must be an array of two or more positions\");return o({type:\"LineString\",coordinates:t},e,n)}function p(t,e,n){return void 0===n&&(n={}),f(t.map((function(t){return h(t,e)})),n)}function f(t,e){void 0===e&&(e={});var n={type:\"FeatureCollection\"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function d(t,e,n){return void 0===n&&(n={}),o({type:\"MultiLineString\",coordinates:t},e,n)}function g(t,e,n){return void 0===n&&(n={}),o({type:\"MultiPoint\",coordinates:t},e,n)}function y(t,e,n){return void 0===n&&(n={}),o({type:\"MultiPolygon\",coordinates:t},e,n)}function v(t,e,n){return void 0===n&&(n={}),o({type:\"GeometryCollection\",geometries:t},e,n)}function _(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error(\"precision must be a positive number\");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function m(t,e){void 0===e&&(e=\"kilometers\");var r=n[e];if(!r)throw new Error(e+\" units is invalid\");return t*r}function b(t,e){void 0===e&&(e=\"kilometers\");var r=n[e];if(!r)throw new Error(e+\" units is invalid\");return t/r}function x(t,e){return E(b(t,e))}function w(t){var e=t%360;return e<0&&(e+=360),e}function E(t){return t%(2*Math.PI)*180/Math.PI}function C(t){return t%360*Math.PI/180}function S(t,e,n){if(void 0===e&&(e=\"kilometers\"),void 0===n&&(n=\"kilometers\"),!(t>=0))throw new Error(\"length must be a positive number\");return m(b(t,e),n)}function O(t,e,n){if(void 0===e&&(e=\"meters\"),void 0===n&&(n=\"kilometers\"),!(t>=0))throw new Error(\"area must be a positive number\");var r=i[e];if(!r)throw new Error(\"invalid original units\");var o=i[n];if(!o)throw new Error(\"invalid final units\");return t/r*o}function P(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function I(t){return!!t&&t.constructor===Object}function T(t){if(!t)throw new Error(\"bbox is required\");if(!Array.isArray(t))throw new Error(\"bbox must be an Array\");if(4!==t.length&&6!==t.length)throw new Error(\"bbox must be an Array of 4 or 6 numbers\");t.forEach((function(t){if(!P(t))throw new Error(\"bbox must only contain numbers\")}))}function M(t){if(!t)throw new Error(\"id is required\");if(-1===[\"string\",\"number\"].indexOf(typeof t))throw new Error(\"id must be a number or a string\")}var A=Object.freeze({__proto__:null,earthRadius:e,factors:n,unitsFactors:r,areaFactors:i,feature:o,geometry:s,point:a,points:u,polygon:l,polygons:c,lineString:h,lineStrings:p,featureCollection:f,multiLineString:d,multiPoint:g,multiPolygon:y,geometryCollection:v,round:_,radiansToLength:m,lengthToRadians:b,lengthToDegrees:x,bearingToAzimuth:w,radiansToDegrees:E,degreesToRadians:C,convertLength:S,convertArea:O,isNumber:P,isObject:I,validateBBox:T,validateId:M});function L(t,e,n){if(null!==t)for(var r,i,o,s,a,u,l,c,h=0,p=0,f=t.type,d=\"FeatureCollection\"===f,g=\"Feature\"===f,y=d?t.features.length:1,v=0;v<y;v++){a=(c=!!(l=d?t.features[v].geometry:g?t.geometry:t)&&\"GeometryCollection\"===l.type)?l.geometries.length:1;for(var _=0;_<a;_++){var m=0,b=0;if(null!==(s=c?l.geometries[_]:l)){u=s.coordinates;var x=s.type;switch(h=!n||\"Polygon\"!==x&&\"MultiPolygon\"!==x?0:1,x){case null:break;case\"Point\":if(!1===e(u,p,v,m,b))return!1;p++,m++;break;case\"LineString\":case\"MultiPoint\":for(r=0;r<u.length;r++){if(!1===e(u[r],p,v,m,b))return!1;p++,\"MultiPoint\"===x&&m++}\"LineString\"===x&&m++;break;case\"Polygon\":case\"MultiLineString\":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-h;i++){if(!1===e(u[r][i],p,v,m,b))return!1;p++}\"MultiLineString\"===x&&m++,\"Polygon\"===x&&b++}\"Polygon\"===x&&m++;break;case\"MultiPolygon\":for(r=0;r<u.length;r++){for(b=0,i=0;i<u[r].length;i++){for(o=0;o<u[r][i].length-h;o++){if(!1===e(u[r][i][o],p,v,m,b))return!1;p++}b++}m++}break;case\"GeometryCollection\":for(r=0;r<s.geometries.length;r++)if(!1===L(s.geometries[r],e,n))return!1;break;default:throw new Error(\"Unknown Geometry Type\")}}}}}function R(t,e,n,r){var i=n;return L(t,(function(t,r,o,s,a){i=0===r&&void 0===n?t:e(i,t,r,o,s,a)}),r),i}function N(t,e){var n;switch(t.type){case\"FeatureCollection\":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case\"Feature\":e(t.properties,0)}}function F(t,e,n){var r=n;return N(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r}function j(t,e){if(\"Feature\"===t.type)e(t,0);else if(\"FeatureCollection\"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function D(t,e,n){var r=n;return j(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r}function k(t){var e=[];return L(t,(function(t){e.push(t)})),e}function G(t,e){var n,r,i,o,s,a,u,l,c,h,p=0,f=\"FeatureCollection\"===t.type,d=\"Feature\"===t.type,g=f?t.features.length:1;for(n=0;n<g;n++){for(a=f?t.features[n].geometry:d?t.geometry:t,l=f?t.features[n].properties:d?t.properties:{},c=f?t.features[n].bbox:d?t.bbox:void 0,h=f?t.features[n].id:d?t.id:void 0,s=(u=!!a&&\"GeometryCollection\"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=u?a.geometries[i]:a))switch(o.type){case\"Point\":case\"LineString\":case\"MultiPoint\":case\"Polygon\":case\"MultiLineString\":case\"MultiPolygon\":if(!1===e(o,p,l,c,h))return!1;break;case\"GeometryCollection\":for(r=0;r<o.geometries.length;r++)if(!1===e(o.geometries[r],p,l,c,h))return!1;break;default:throw new Error(\"Unknown Geometry Type\")}else if(!1===e(null,p,l,c,h))return!1;p++}}function B(t,e,n){var r=n;return G(t,(function(t,i,o,s,a){r=0===i&&void 0===n?t:e(r,t,i,o,s,a)})),r}function z(t,e){G(t,(function(t,n,r,i,s){var a,u=null===t?null:t.type;switch(u){case null:case\"Point\":case\"LineString\":case\"Polygon\":return!1!==e(o(t,r,{bbox:i,id:s}),n,0)&&void 0}switch(u){case\"MultiPoint\":a=\"Point\";break;case\"MultiLineString\":a=\"LineString\";break;case\"MultiPolygon\":a=\"Polygon\"}for(var l=0;l<t.coordinates.length;l++){var c=t.coordinates[l];if(!1===e(o({type:a,coordinates:c},r),n,l))return!1}}))}function V(t,e,n){var r=n;return z(t,(function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)})),r}function q(t,e){z(t,(function(t,n,r){var i=0;if(t.geometry){var o=t.geometry.type;if(\"Point\"!==o&&\"MultiPoint\"!==o){var s,a=0,u=0,l=0;return!1!==L(t,(function(o,c,p,f,d){if(void 0===s||n>a||f>u||d>l)return s=o,a=n,u=f,l=d,void(i=0);var g=h([s,o],t.properties);if(!1===e(g,n,r,d,i))return!1;i++,s=o}))&&void 0}}}))}function U(t,e,n){var r=n,i=!1;return q(t,(function(t,o,s,a,u){r=!1===i&&void 0===n?t:e(r,t,o,s,a,u),i=!0})),r}function $(t,e){if(!t)throw new Error(\"geojson is required\");z(t,(function(t,n,r){if(null!==t.geometry){var i=t.geometry.type,o=t.geometry.coordinates;switch(i){case\"LineString\":if(!1===e(t,n,r,0,0))return!1;break;case\"Polygon\":for(var s=0;s<o.length;s++)if(!1===e(h(o[s],t.properties),n,r,s))return!1}}}))}function X(t,e,n){var r=n;return $(t,(function(t,i,o,s){r=0===i&&void 0===n?t:e(r,t,i,o,s)})),r}function Y(t,e){if(!I(e=e||{}))throw new Error(\"options is invalid\");var n,r=e.featureIndex||0,i=e.multiFeatureIndex||0,o=e.geometryIndex||0,s=e.segmentIndex||0,a=e.properties;switch(t.type){case\"FeatureCollection\":r<0&&(r=t.features.length+r),a=a||t.features[r].properties,n=t.features[r].geometry;break;case\"Feature\":a=a||t.properties,n=t.geometry;break;case\"Point\":case\"MultiPoint\":return null;case\"LineString\":case\"Polygon\":case\"MultiLineString\":case\"MultiPolygon\":n=t;break;default:throw new Error(\"geojson is invalid\")}if(null===n)return null;var u=n.coordinates;switch(n.type){case\"Point\":case\"MultiPoint\":return null;case\"LineString\":return s<0&&(s=u.length+s-1),h([u[s],u[s+1]],a,e);case\"Polygon\":return o<0&&(o=u.length+o),s<0&&(s=u[o].length+s-1),h([u[o][s],u[o][s+1]],a,e);case\"MultiLineString\":return i<0&&(i=u.length+i),s<0&&(s=u[i].length+s-1),h([u[i][s],u[i][s+1]],a,e);case\"MultiPolygon\":return i<0&&(i=u.length+i),o<0&&(o=u[i].length+o),s<0&&(s=u[i][o].length-s-1),h([u[i][o][s],u[i][o][s+1]],a,e)}throw new Error(\"geojson is invalid\")}function W(t,e){if(!I(e=e||{}))throw new Error(\"options is invalid\");var n,r=e.featureIndex||0,i=e.multiFeatureIndex||0,o=e.geometryIndex||0,s=e.coordIndex||0,u=e.properties;switch(t.type){case\"FeatureCollection\":r<0&&(r=t.features.length+r),u=u||t.features[r].properties,n=t.features[r].geometry;break;case\"Feature\":u=u||t.properties,n=t.geometry;break;case\"Point\":case\"MultiPoint\":return null;case\"LineString\":case\"Polygon\":case\"MultiLineString\":case\"MultiPolygon\":n=t;break;default:throw new Error(\"geojson is invalid\")}if(null===n)return null;var l=n.coordinates;switch(n.type){case\"Point\":return a(l,u,e);case\"MultiPoint\":return i<0&&(i=l.length+i),a(l[i],u,e);case\"LineString\":return s<0&&(s=l.length+s),a(l[s],u,e);case\"Polygon\":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),a(l[o][s],u,e);case\"MultiLineString\":return i<0&&(i=l.length+i),s<0&&(s=l[i].length+s),a(l[i][s],u,e);case\"MultiPolygon\":return i<0&&(i=l.length+i),o<0&&(o=l[i].length+o),s<0&&(s=l[i][o].length-s),a(l[i][o][s],u,e)}throw new Error(\"geojson is invalid\")}var H=Object.freeze({__proto__:null,coordAll:k,coordEach:L,coordReduce:R,featureEach:j,featureReduce:D,findPoint:W,findSegment:Y,flattenEach:z,flattenReduce:V,geomEach:G,geomReduce:B,lineEach:$,lineReduce:X,propEach:N,propReduce:F,segmentEach:q,segmentReduce:U});function K(t){var e=[1/0,1/0,-1/0,-1/0];return L(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function Z(t){if(!t)throw new Error(\"coord is required\");if(!Array.isArray(t)){if(\"Feature\"===t.type&&null!==t.geometry&&\"Point\"===t.geometry.type)return t.geometry.coordinates;if(\"Point\"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error(\"coord must be GeoJSON Point or an Array of numbers\")}function J(t){if(Array.isArray(t))return t;if(\"Feature\"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error(\"coords must be GeoJSON Feature, Geometry Object or an Array\")}function Q(t){if(t.length>1&&P(t[0])&&P(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return Q(t[0]);throw new Error(\"coordinates must only contain numbers\")}function tt(t,e,n){if(!e||!n)throw new Error(\"type and name required\");if(!t||t.type!==e)throw new Error(\"Invalid input to \"+n+\": must be a \"+e+\", given \"+t.type)}function et(t,e,n){if(!t)throw new Error(\"No feature passed\");if(!n)throw new Error(\".featureOf() requires a name\");if(!t||\"Feature\"!==t.type||!t.geometry)throw new Error(\"Invalid input to \"+n+\", Feature with geometry required\");if(!t.geometry||t.geometry.type!==e)throw new Error(\"Invalid input to \"+n+\": must be a \"+e+\", given \"+t.geometry.type)}function nt(t,e,n){if(!t)throw new Error(\"No featureCollection passed\");if(!n)throw new Error(\".collectionOf() requires a name\");if(!t||\"FeatureCollection\"!==t.type)throw new Error(\"Invalid input to \"+n+\", FeatureCollection required\");for(var r=0,i=t.features;r<i.length;r++){var o=i[r];if(!o||\"Feature\"!==o.type||!o.geometry)throw new Error(\"Invalid input to \"+n+\", Feature with geometry required\");if(!o.geometry||o.geometry.type!==e)throw new Error(\"Invalid input to \"+n+\": must be a \"+e+\", given \"+o.geometry.type)}}function rt(t){return\"Feature\"===t.type?t.geometry:t}function it(t,e){return\"FeatureCollection\"===t.type?\"FeatureCollection\":\"GeometryCollection\"===t.type?\"GeometryCollection\":\"Feature\"===t.type&&null!==t.geometry?t.geometry.type:t.type}K.default=K;var ot=Object.freeze({__proto__:null,getCoord:Z,getCoords:J,containsNumber:Q,geojsonType:tt,featureOf:et,collectionOf:nt,getGeom:rt,getType:it}),st=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable;\n/*\n    object-assign\n    (c) Sindre Sorhus\n    @license MIT\n    */function lt(t){if(null==t)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(t)}var ct=function(){try{if(!Object.assign)return!1;var t=new String(\"abc\");if(t[5]=\"de\",\"5\"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e[\"_\"+String.fromCharCode(n)]=n;if(\"0123456789\"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(\"\"))return!1;var r={};return\"abcdefghijklmnopqrst\".split(\"\").forEach((function(t){r[t]=t})),\"abcdefghijklmnopqrst\"===Object.keys(Object.assign({},r)).join(\"\")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,r,i=lt(t),o=1;o<arguments.length;o++){for(var s in n=Object(arguments[o]))at.call(n,s)&&(i[s]=n[s]);if(st){r=st(n);for(var a=0;a<r.length;a++)ut.call(n,r[a])&&(i[r[a]]=n[r[a]])}}return i},ht={successCallback:null,verbose:!1},pt={};\n/**\n     * @license GNU Affero General Public License.\n     * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>\n     * v. 1.2.0\n     * https://github.com/RaumZeit/MarchingSquares.js\n     *\n     * MarchingSquaresJS is free software: you can redistribute it and/or modify\n     * it under the terms of the GNU Affero General Public License as published by\n     * the Free Software Foundation, either version 3 of the License, or\n     * (at your option) any later version.\n     *\n     * MarchingSquaresJS is distributed in the hope that it will be useful,\n     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n     * GNU Affero General Public License for more details.\n     *\n     * As additional permission under GNU Affero General Public License version 3\n     * section 7, third-party projects (personal or commercial) may distribute,\n     * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the\n     * requirement that said third-party project for that reason alone becomes\n     * subject to any requirement of the GNU Affero General Public License version 3.\n     * Any modifications to MarchingSquaresJS, however, must be shared with the public\n     * and made available.\n     *\n     * In summary this:\n     * - allows you to use MarchingSquaresJS at no cost\n     * - allows you to use MarchingSquaresJS for both personal and commercial purposes\n     * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any\n     *   license as long as this license notice is included\n     * - enables you to keep the source code of your program that uses MarchingSquaresJS\n     *   undisclosed\n     * - forces you to share any modifications you have made to MarchingSquaresJS,\n     *   e.g. bug-fixes\n     *\n     * You should have received a copy of the GNU Affero General Public License\n     * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.\n     */function ft(t,e,n){n=n||{};for(var r=Object.keys(ht),i=0;i<r.length;i++){var o=r[i],s=n[o];s=null!=s?s:ht[o],pt[o]=s}pt.verbose&&console.log(\"MarchingSquaresJS-isoContours: computing isocontour for \"+e);var a=function(t){var e=[],n=0;return t.cells.forEach((function(r,i){r.forEach((function(r,o){if(void 0!==r&&5!==(p=r).cval&&10!==p.cval&&!gt(r)){var s=function(t,e,n){var r,i,o=t.length,s=[],a=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],u=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],l=[\"none\",\"bottom\",\"right\",\"right\",\"top\",\"top\",\"top\",\"top\",\"left\",\"bottom\",\"right\",\"right\",\"left\",\"bottom\",\"left\",\"none\"],c=t[e][n],h=c.cval,p=[\"none\",\"left\",\"bottom\",\"left\",\"right\",\"none\",\"bottom\",\"left\",\"top\",\"top\",\"none\",\"top\",\"right\",\"right\",\"bottom\",\"none\"][h],f=vt(c,p);s.push([n+f[0],e+f[1]]),f=vt(c,p=l[h]),s.push([n+f[0],e+f[1]]),yt(c);for(var d=n+a[h],g=e+u[h],y=h;d>=0&&g>=0&&g<o&&(d!=n||g!=e)&&void 0!==(c=t[g][d]);){if(0===(h=c.cval)||15===h)return{path:s,info:\"mergeable\"};p=l[h],r=a[h],i=u[h],5!==h&&10!==h||(5===h?c.flipped?-1===u[y]?(p=\"left\",r=-1,i=0):(p=\"right\",r=1,i=0):-1===a[y]&&(p=\"bottom\",r=0,i=-1):10===h&&(c.flipped?-1===a[y]?(p=\"top\",r=0,i=1):(p=\"bottom\",r=0,i=-1):1===u[y]&&(p=\"left\",r=-1,i=0))),f=vt(c,p),s.push([d+f[0],g+f[1]]),yt(c),d+=r,g+=i,y=h}return{path:s,info:\"closed\"}}(t.cells,i,o),a=!1;if(\"mergeable\"===s.info)for(var u=s.path[s.path.length-1][0],l=s.path[s.path.length-1][1],c=n-1;c>=0;c--)if(Math.abs(e[c][0][0]-u)<=1e-7&&Math.abs(e[c][0][1]-l)<=1e-7){for(var h=s.path.length-2;h>=0;--h)e[c].unshift(s.path[h]);a=!0;break}a||(e[n++]=s.path)}var p}))})),e}(function(t,e){for(var n=t.length-1,r=t[0].length-1,i={rows:n,cols:r,cells:[]},o=0;o<n;++o){i.cells[o]=[];for(var s=0;s<r;++s){var a=0,u=t[o+1][s],l=t[o+1][s+1],c=t[o][s+1],h=t[o][s];if(!(isNaN(u)||isNaN(l)||isNaN(c)||isNaN(h))){a|=u>=e?8:0,a|=l>=e?4:0,a|=c>=e?2:0;var p,f,d,g,y=!1;if(5==(a|=h>=e?1:0)||10===a){var v=(u+l+c+h)/4;5===a&&v<e?(a=10,y=!0):10===a&&v<e&&(a=5,y=!0)}0!==a&&15!==a&&(p=f=d=g=.5,1===a?(d=1-dt(e,u,h),f=1-dt(e,c,h)):2===a?(f=dt(e,h,c),g=1-dt(e,l,c)):3===a?(d=1-dt(e,u,h),g=1-dt(e,l,c)):4===a?(p=dt(e,u,l),g=dt(e,c,l)):5===a?(p=dt(e,u,l),g=dt(e,c,l),f=1-dt(e,c,h),d=1-dt(e,u,h)):6===a?(f=dt(e,h,c),p=dt(e,u,l)):7===a?(d=1-dt(e,u,h),p=dt(e,u,l)):8===a?(d=dt(e,h,u),p=1-dt(e,l,u)):9===a?(f=1-dt(e,c,h),p=1-dt(e,l,u)):10===a?(p=1-dt(e,l,u),g=1-dt(e,l,c),f=dt(e,h,c),d=dt(e,h,u)):11===a?(p=1-dt(e,l,u),g=1-dt(e,l,c)):12===a?(d=dt(e,h,u),g=dt(e,c,l)):13===a?(f=1-dt(e,c,h),g=dt(e,c,l)):14===a?(d=dt(e,h,u),f=dt(e,h,c)):console.log(\"MarchingSquaresJS-isoContours: Illegal cval detected: \"+a),i.cells[o][s]={cval:a,flipped:y,top:p,right:g,bottom:f,left:d})}}}return i}(t,e));return\"function\"==typeof pt.successCallback&&pt.successCallback(a),a}function dt(t,e,n){return(t-e)/(n-e)}function gt(t){return 0===t.cval||15===t.cval}function yt(t){gt(t)||5===t.cval||10===t.cval||(t.cval=15)}function vt(t,e){return\"top\"===e?[t.top,1]:\"bottom\"===e?[t.bottom,0]:\"right\"===e?[1,t.right]:\"left\"===e?[0,t.left]:void 0}var _t=bt,mt=bt;function bt(t,e,n,r,i){!function t(e,n,r,i,o){for(;i>r;){if(i-r>600){var s=i-r+1,a=n-r+1,u=Math.log(s),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(s-l)/s)*(a-s/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-a*l/s+c)),Math.min(i,Math.floor(n+(s-a)*l/s+c)),o)}var h=e[n],p=r,f=i;for(xt(e,r,n),o(e[i],h)>0&&xt(e,r,i);p<f;){for(xt(e,p,f),p++,f--;o(e[p],h)<0;)p++;for(;o(e[f],h)>0;)f--}0===o(e[r],h)?xt(e,r,f):xt(e,++f,i),f<=n&&(r=f+1),n<=f&&(i=f-1)}}(t,e,n||0,r||t.length-1,i||wt)}function xt(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function wt(t,e){return t<e?-1:t>e?1:0}_t.default=mt;var Et=St,Ct=St;function St(t,e){if(!(this instanceof St))return new St(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function Ot(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function Pt(t,e){It(t,0,t.children.length,e,t)}function It(t,e,n,r,i){i||(i=jt(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],Tt(i,t.leaf?r(o):o);return i}function Tt(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Mt(t,e){return t.minX-e.minX}function At(t,e){return t.minY-e.minY}function Lt(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Rt(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Nt(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Ft(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function jt(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Dt(t,e,n,r,i){for(var o,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=r||(o=e+Math.ceil((n-e)/r/2)*r,_t(t,o,e,n,i),s.push(e,o,o,n))}function kt(t){var e={exports:{}};return t(e,e.exports),e.exports}St.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!Ft(t,e))return n;for(var i,o,s,a,u=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],Ft(t,a=e.leaf?r(s):s)&&(e.leaf?n.push(s):Nt(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!Ft(t,e))return!1;for(var r,i,o,s,a=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],Ft(t,s=e.leaf?n(o):o)){if(e.leaf||Nt(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=jt([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,s=this.data,a=this.toBBox(t),u=[],l=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),s.leaf&&-1!==(i=Ot(t,s.children,e)))return s.children.splice(i,1),u.push(s),this._condense(u),this;o||s.leaf||!Nt(s,a)?r?(n++,s=r.children[n],o=!1):s=null:(u.push(s),l.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:Mt,compareMinY:At,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return Pt(i=jt(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=jt([])).leaf=!1,i.height=r;var a,u,l,c,h=Math.ceil(o/s),p=h*Math.ceil(Math.sqrt(s));for(Dt(t,e,n,p,this.compareMinX),a=e;a<=n;a+=p)for(Dt(t,a,l=Math.min(a+p-1,n),h,this.compareMinY),u=a;u<=l;u+=h)c=Math.min(u+h-1,l),i.children.push(this._build(t,u,c,r-1));return Pt(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,s,a,u,l,c,h,p,f;r.push(e),!e.leaf&&r.length-1!==n;){for(c=h=1/0,i=0,o=e.children.length;i<o;i++)u=Lt(s=e.children[i]),p=t,f=s,(l=(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-u)<h?(h=l,c=u<c?u:c,a=s):l===h&&u<c&&(c=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],s=this._chooseSubtree(i,this.data,e,o);for(s.children.push(t),Tt(s,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=jt(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,Pt(n,this.toBBox),Pt(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=jt([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Pt(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,s,a,u,l,c,h,p,f,d,g,y;for(u=l=1/0,r=e;r<=n-e;r++)h=i=It(t,0,r,this.toBBox),p=o=It(t,r,n,this.toBBox),f=Math.max(h.minX,p.minX),d=Math.max(h.minY,p.minY),g=Math.min(h.maxX,p.maxX),y=Math.min(h.maxY,p.maxY),s=Math.max(0,g-f)*Math.max(0,y-d),a=Lt(i)+Lt(o),s<u?(u=s,c=r,l=a<l?a:l):s===u&&a<l&&(l=a,c=r);return c},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:Mt,i=t.leaf?this.compareMinY:At;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,s=this.toBBox,a=It(t,0,e,s),u=It(t,n-e,n,s),l=Rt(a)+Rt(u);for(i=e;i<n-e;i++)o=t.children[i],Tt(a,t.leaf?s(o):o),l+=Rt(a);for(i=n-e-1;i>=e;i--)o=t.children[i],Tt(u,t.leaf?s(o):o),l+=Rt(u);return l},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)Tt(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():Pt(t[n],this.toBBox)},_initFormat:function(t){var e=[\"return a\",\" - b\",\";\"];this.compareMinX=new Function(\"a\",\"b\",e.join(t[0])),this.compareMinY=new Function(\"a\",\"b\",e.join(t[1])),this.toBBox=new Function(\"a\",\"return {minX: a\"+t[0]+\", minY: a\"+t[1]+\", maxX: a\"+t[2]+\", maxY: a\"+t[3]+\"};\")}},Et.default=Ct;var Gt=function(t,e,n){var r=t*e,i=Bt*t,o=i-(i-t),s=t-o,a=Bt*e,u=a-(a-e),l=e-u,c=s*l-(r-o*u-s*u-o*l);return n?(n[0]=c,n[1]=r,n):[c,r]},Bt=+(Math.pow(2,27)+1),zt=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],e[0]);var i,o,s=new Array(n+r),a=0,u=0,l=0,c=Math.abs,h=t[u],p=c(h),f=e[l],d=c(f);p<d?(o=h,(u+=1)<n&&(p=c(h=t[u]))):(o=f,(l+=1)<r&&(d=c(f=e[l]))),u<n&&p<d||l>=r?(i=h,(u+=1)<n&&(p=c(h=t[u]))):(i=f,(l+=1)<r&&(d=c(f=e[l])));for(var g,y,v=i+o,_=v-i,m=o-_,b=m,x=v;u<n&&l<r;)p<d?(i=h,(u+=1)<n&&(p=c(h=t[u]))):(i=f,(l+=1)<r&&(d=c(f=e[l]))),(m=(o=b)-(_=(v=i+o)-i))&&(s[a++]=m),b=x-((g=x+v)-(y=g-x))+(v-y),x=g;for(;u<n;)(m=(o=b)-(_=(v=(i=h)+o)-i))&&(s[a++]=m),b=x-((g=x+v)-(y=g-x))+(v-y),x=g,(u+=1)<n&&(h=t[u]);for(;l<r;)(m=(o=b)-(_=(v=(i=f)+o)-i))&&(s[a++]=m),b=x-((g=x+v)-(y=g-x))+(v-y),x=g,(l+=1)<r&&(f=e[l]);return b&&(s[a++]=b),x&&(s[a++]=x),a||(s[a++]=0),s.length=a,s},Vt=function(t,e,n){var r=t+e,i=r-t,o=e-i,s=t-(r-i);return n?(n[0]=s+o,n[1]=r,n):[s+o,r]},qt=function(t,e){var n=t.length;if(1===n){var r=Gt(t[0],e);return r[0]?r:[r[1]]}var i=new Array(2*n),o=[.1,.1],s=[.1,.1],a=0;Gt(t[0],e,o),o[0]&&(i[a++]=o[0]);for(var u=1;u<n;++u){Gt(t[u],e,s);var l=o[1];Vt(l,s[0],o),o[0]&&(i[a++]=o[0]);var c=s[1],h=o[1],p=c+h,f=h-(p-c);o[1]=p,f&&(i[a++]=f)}return o[1]&&(i[a++]=o[1]),0===a&&(i[a++]=0),i.length=a,i},Ut=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],-e[0]);var i,o,s=new Array(n+r),a=0,u=0,l=0,c=Math.abs,h=t[u],p=c(h),f=-e[l],d=c(f);p<d?(o=h,(u+=1)<n&&(p=c(h=t[u]))):(o=f,(l+=1)<r&&(d=c(f=-e[l]))),u<n&&p<d||l>=r?(i=h,(u+=1)<n&&(p=c(h=t[u]))):(i=f,(l+=1)<r&&(d=c(f=-e[l])));for(var g,y,v=i+o,_=v-i,m=o-_,b=m,x=v;u<n&&l<r;)p<d?(i=h,(u+=1)<n&&(p=c(h=t[u]))):(i=f,(l+=1)<r&&(d=c(f=-e[l]))),(m=(o=b)-(_=(v=i+o)-i))&&(s[a++]=m),b=x-((g=x+v)-(y=g-x))+(v-y),x=g;for(;u<n;)(m=(o=b)-(_=(v=(i=h)+o)-i))&&(s[a++]=m),b=x-((g=x+v)-(y=g-x))+(v-y),x=g,(u+=1)<n&&(h=t[u]);for(;l<r;)(m=(o=b)-(_=(v=(i=f)+o)-i))&&(s[a++]=m),b=x-((g=x+v)-(y=g-x))+(v-y),x=g,(l+=1)<r&&(f=-e[l]);return b&&(s[a++]=b),x&&(s[a++]=x),a||(s[a++]=0),s.length=a,s},$t=kt((function(t){function e(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==e&&(i[s++]=t[r][o]);return n}function n(t){if(1===t.length)return t[0];if(2===t.length)return[\"sum(\",t[0],\",\",t[1],\")\"].join(\"\");var e=t.length>>1;return[\"sum(\",n(t.slice(0,e)),\",\",n(t.slice(e)),\")\"].join(\"\")}function r(t){if(2===t.length)return[[\"sum(prod(\",t[0][0],\",\",t[1][1],\"),prod(-\",t[0][1],\",\",t[1][0],\"))\"].join(\"\")];for(var i=[],o=0;o<t.length;++o)i.push([\"scale(\",n(r(e(t,o))),\",\",(s=o,1&s?\"-\":\"\"),t[0][o],\")\"].join(\"\"));return i;var s}function i(t){for(var i=[],o=[],s=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=[\"m\",r,\"[\",t-n-1,\"]\"].join(\"\")}return e}(t),a=[],u=0;u<t;++u)0==(1&u)?i.push.apply(i,r(e(s,u))):o.push.apply(o,r(e(s,u))),a.push(\"m\"+u);var l=n(i),c=n(o),h=\"orientation\"+t+\"Exact\",p=[\"function \",h,\"(\",a.join(),\"){var p=\",l,\",n=\",c,\",d=sub(p,n);return d[d.length-1];};return \",h].join(\"\");return new Function(\"sum\",\"prod\",\"scale\",\"sub\",p)(zt,Gt,qt,Ut)}var o=i(3),s=i(4),a=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),s=(t[0]-n[0])*(e[1]-n[1]),a=i-s;if(i>0){if(s<=0)return a;r=i+s}else{if(!(i<0))return a;if(s>=0)return a;r=-(i+s)}var u=33306690738754716e-32*r;return a>=u||a<=-u?a:o(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],o=e[0]-r[0],a=n[0]-r[0],u=t[1]-r[1],l=e[1]-r[1],c=n[1]-r[1],h=t[2]-r[2],p=e[2]-r[2],f=n[2]-r[2],d=o*c,g=a*l,y=a*u,v=i*c,_=i*l,m=o*u,b=h*(d-g)+p*(y-v)+f*(_-m),x=7771561172376103e-31*((Math.abs(d)+Math.abs(g))*Math.abs(h)+(Math.abs(y)+Math.abs(v))*Math.abs(p)+(Math.abs(_)+Math.abs(m))*Math.abs(f));return b>x||-b>x?b:s(t,e,n,r)}];function u(t){var e=a[t.length];return e||(e=a[t.length]=i(t.length)),e.apply(void 0,t)}!function(){for(;a.length<=5;)a.push(i(a.length));for(var e=[],n=[\"slow\"],r=0;r<=5;++r)e.push(\"a\"+r),n.push(\"o\"+r);var o=[\"function getOrientation(\",e.join(),\"){switch(arguments.length){case 0:case 1:return 0;\"];for(r=2;r<=5;++r)o.push(\"case \",r,\":return o\",r,\"(\",e.slice(0,r).join(),\");\");o.push(\"}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation\"),n.push(o.join(\"\"));var s=Function.apply(void 0,n);for(t.exports=s.apply(void 0,[u].concat(a)),r=0;r<=5;++r)t.exports[r]=a[r]}()})),Xt=$t[3],Yt=Ht,Wt=Ht;function Ht(t,e){if(!(this instanceof Ht))return new Ht(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||Kt,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function Kt(t,e){return t<e?-1:t>e?1:0}Ht.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),s=o+1,a=e[o];if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,i)>=0)break;e[t]=a,t=o}e[t]=i}},Yt.default=Wt;var Zt=function(t,e){for(var n=t[0],r=t[1],i=!1,o=0,s=e.length-1;o<e.length;s=o++){var a=e[o][0],u=e[o][1],l=e[s][0],c=e[s][1];u>r!=c>r&&n<(l-a)*(r-u)/(c-u)+a&&(i=!i)}return i},Jt=$t[3],Qt=ee,te=ee;function ee(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;for(var r,i=function(t){for(var e=t[0],n=t[0],r=t[0],i=t[0],o=0;o<t.length;o++){var s=t[o];s[0]<e[0]&&(e=s),s[0]>r[0]&&(r=s),s[1]<n[1]&&(n=s),s[1]>i[1]&&(i=s)}var a=[e,n,r,i],u=a.slice();for(o=0;o<t.length;o++)Zt(t[o],a)||u.push(t[o]);var l=function(t){var e=t.length;if(e<3){for(var n=new Array(e),r=0;r<e;++r)n[r]=r;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var i=new Array(e);for(r=0;r<e;++r)i[r]=r;i.sort((function(e,n){return t[e][0]-t[n][0]||t[e][1]-t[n][1]}));var o=[i[0],i[1]],s=[i[0],i[1]];for(r=2;r<e;++r){for(var a=i[r],u=t[a],l=o.length;l>1&&Xt(t[o[l-2]],t[o[l-1]],u)<=0;)l-=1,o.pop();for(o.push(a),l=s.length;l>1&&Xt(t[s[l-2]],t[s[l-1]],u)>=0;)l-=1,s.pop();s.push(a)}n=new Array(s.length+o.length-2);for(var c=0,h=(r=0,o.length);r<h;++r)n[c++]=o[r];for(var p=s.length-2;p>0;--p)n[c++]=s[p];return n}(u),c=[];for(o=0;o<l.length;o++)c.push(u[l[o]]);return c}(t),o=Et(16,[\"[0]\",\"[1]\",\"[0]\",\"[1]\"]).load(t),s=[],a=0;a<i.length;a++){var u=i[a];o.remove(u),r=ue(u,r),s.push(r)}var l=Et(16);for(a=0;a<s.length;a++)l.insert(ae(s[a]));for(var c=e*e,h=n*n;s.length;){var p=s.shift(),f=p.p,d=p.next.p,g=le(f,d);if(!(g<h)){var y=g/c;(u=ne(o,p.prev.p,f,d,p.next.next.p,y,l))&&Math.min(le(u,f),le(u,d))<=y&&(s.push(p),s.push(ue(u,p)),o.remove(u),l.remove(p),l.insert(ae(p)),l.insert(ae(p.next)))}}p=r;var v=[];do{v.push(p.p),p=p.next}while(p!==r);return v.push(p.p),v}function ne(t,e,n,r,i,o,s){for(var a=new Yt(null,re),u=t.data;u;){for(var l=0;l<u.children.length;l++){var c=u.children[l],h=u.leaf?ce(c,n,r):ie(n,r,c);h>o||a.push({node:c,dist:h})}for(;a.length&&!a.peek().node.children;){var p=a.pop(),f=p.node,d=ce(f,e,n),g=ce(f,r,i);if(p.dist<d&&p.dist<g&&se(n,f,s)&&se(r,f,s))return f}(u=a.pop())&&(u=u.node)}return null}function re(t,e){return t.dist-e.dist}function ie(t,e,n){if(oe(t,n)||oe(e,n))return 0;var r=he(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=he(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var o=he(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var s=he(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===s?0:Math.min(r,i,o,s)}function oe(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function se(t,e,n){for(var r,i,o,s,a=Math.min(t[0],e[0]),u=Math.min(t[1],e[1]),l=Math.max(t[0],e[0]),c=Math.max(t[1],e[1]),h=n.search({minX:a,minY:u,maxX:l,maxY:c}),p=0;p<h.length;p++)if(r=h[p].p,i=h[p].next.p,o=t,r!==(s=e)&&i!==o&&Jt(r,i,o)>0!=Jt(r,i,s)>0&&Jt(o,s,r)>0!=Jt(o,s,i)>0)return!1;return!0}function ae(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function ue(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function le(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function ce(t,e,n){var r=e[0],i=e[1],o=n[0]-r,s=n[1]-i;if(0!==o||0!==s){var a=((t[0]-r)*o+(t[1]-i)*s)/(o*o+s*s);a>1?(r=n[0],i=n[1]):a>0&&(r+=o*a,i+=s*a)}return(o=t[0]-r)*o+(s=t[1]-i)*s}function he(t,e,n,r,i,o,s,a){var u,l,c,h,p=n-t,f=r-e,d=s-i,g=a-o,y=t-i,v=e-o,_=p*p+f*f,m=p*d+f*g,b=d*d+g*g,x=p*y+f*v,w=d*y+g*v,E=_*b-m*m,C=E,S=E;0===E?(l=0,C=1,h=w,S=b):(h=_*w-m*x,(l=m*w-b*x)<0?(l=0,h=w,S=b):l>C&&(l=C,h=w+m,S=b)),h<0?(h=0,-x<0?l=0:-x>_?l=C:(l=-x,C=_)):h>S&&(h=S,-x+m<0?l=0:-x+m>_?l=C:(l=-x+m,C=_));var O=(1-(c=0===h?0:h/S))*i+c*s-((1-(u=0===l?0:l/C))*t+u*n),P=(1-c)*o+c*a-((1-u)*e+u*r);return O*O+P*P}function pe(t,e){void 0===e&&(e={}),e.concavity=e.concavity||1/0;var n=[];if(L(t,(function(t){n.push([t[0],t[1]])})),!n.length)return null;var r=Qt(n,e.concavity);return r.length>3?l([r]):null}function fe(t,e,n){if(void 0===n&&(n={}),!t)throw new Error(\"point is required\");if(!e)throw new Error(\"polygon is required\");var r=Z(t),i=rt(e),o=i.type,s=e.bbox,a=i.coordinates;if(s&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(r,s))return!1;\"Polygon\"===o&&(a=[a]);for(var u=!1,l=0;l<a.length&&!u;l++)if(de(r,a[l][0],n.ignoreBoundary)){for(var c=!1,h=1;h<a[l].length&&!c;)de(r,a[l][h],!n.ignoreBoundary)&&(c=!0),h++;c||(u=!0)}return u}function de(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,o=e.length-1;i<e.length;o=i++){var s=e[i][0],a=e[i][1],u=e[o][0],l=e[o][1];if(t[1]*(s-u)+a*(u-t[0])+l*(t[0]-s)==0&&(s-t[0])*(u-t[0])<=0&&(a-t[1])*(l-t[1])<=0)return!n;a>t[1]!=l>t[1]&&t[0]<(u-s)*(t[1]-a)/(l-a)+s&&(r=!r)}return r}function ge(t,e){var n=[];return j(t,(function(t){var r=!1;if(\"Point\"===t.geometry.type)G(e,(function(e){fe(t,e)&&(r=!0)})),r&&n.push(t);else{if(\"MultiPoint\"!==t.geometry.type)throw new Error(\"Input geometry must be a Point or MultiPoint\");var i=[];G(e,(function(e){L(t,(function(t){fe(t,e)&&(r=!0,i.push(t))}))})),r&&n.push(g(i))}})),f(n)}function ye(t,e,n){void 0===n&&(n={});var r=Z(t),i=Z(e),o=C(i[1]-r[1]),s=C(i[0]-r[0]),a=C(r[1]),u=C(i[1]),l=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(a)*Math.cos(u);return m(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),n.units)}function ve(t,e){var n=!1;return f(function(t){if(t.length<3)return[];t.sort(me);for(var e,n,r,i,o,s,a=t.length-1,u=t[a].x,l=t[0].x,c=t[a].y,h=c;a--;)t[a].y<c&&(c=t[a].y),t[a].y>h&&(h=t[a].y);var p,f=l-u,d=h-c,g=f>d?f:d,y=.5*(l+u),v=.5*(h+c),_=[new _e({__sentinel:!0,x:y-20*g,y:v-g},{__sentinel:!0,x:y,y:v+20*g},{__sentinel:!0,x:y+20*g,y:v-g})],m=[],b=[];for(a=t.length;a--;){for(b.length=0,p=_.length;p--;)(f=t[a].x-_[p].x)>0&&f*f>_[p].r?(m.push(_[p]),_.splice(p,1)):f*f+(d=t[a].y-_[p].y)*d>_[p].r||(b.push(_[p].a,_[p].b,_[p].b,_[p].c,_[p].c,_[p].a),_.splice(p,1));for(be(b),p=b.length;p;)n=b[--p],e=b[--p],r=t[a],i=n.x-e.x,o=n.y-e.y,s=2*(i*(r.y-n.y)-o*(r.x-n.x)),Math.abs(s)>1e-12&&_.push(new _e(e,n,r))}for(Array.prototype.push.apply(m,_),a=m.length;a--;)(m[a].a.__sentinel||m[a].b.__sentinel||m[a].c.__sentinel)&&m.splice(a,1);return m}(t.features.map((function(t){var r={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?r.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,r.z=t.geometry.coordinates[2]),r}))).map((function(t){var e=[t.a.x,t.a.y],r=[t.b.x,t.b.y],i=[t.c.x,t.c.y],o={};return n?(e.push(t.a.z),r.push(t.b.z),i.push(t.c.z)):o={a:t.a.z,b:t.b.z,c:t.c.z},l([[e,r,i,e]],o)})))}Qt.default=te;var _e=function(t,e,n){this.a=t,this.b=e,this.c=n;var r,i,o=e.x-t.x,s=e.y-t.y,a=n.x-t.x,u=n.y-t.y,l=o*(t.x+e.x)+s*(t.y+e.y),c=a*(t.x+n.x)+u*(t.y+n.y),h=2*(o*(n.y-e.y)-s*(n.x-e.x));this.x=(u*l-s*c)/h,this.y=(o*c-a*l)/h,r=this.x-t.x,i=this.y-t.y,this.r=r*r+i*i};function me(t,e){return e.x-t.x}function be(t){var e,n,r,i,o,s=t.length;t:for(;s;)for(n=t[--s],e=t[--s],r=s;r;)if(o=t[--r],e===(i=t[--r])&&n===o||e===o&&n===i){t.splice(s,2),t.splice(r,2),s-=2;continue t}}function xe(t){if(!t)throw new Error(\"geojson is required\");switch(t.type){case\"Feature\":return we(t);case\"FeatureCollection\":return function(t){var e={type:\"FeatureCollection\"};return Object.keys(t).forEach((function(n){switch(n){case\"type\":case\"features\":return;default:e[n]=t[n]}})),e.features=t.features.map((function(t){return we(t)})),e}(t);case\"Point\":case\"LineString\":case\"Polygon\":case\"MultiPoint\":case\"MultiLineString\":case\"MultiPolygon\":case\"GeometryCollection\":return Ee(t);default:throw new Error(\"unknown GeoJSON type\")}}function we(t){var e={type:\"Feature\"};return Object.keys(t).forEach((function(n){switch(n){case\"type\":case\"properties\":case\"geometry\":return;default:e[n]=t[n]}})),e.properties=function t(e){var n={};return e?(Object.keys(e).forEach((function(r){var i=e[r];\"object\"==typeof i?null===i?n[r]=null:Array.isArray(i)?n[r]=i.map((function(t){return t})):n[r]=t(i):n[r]=i})),n):n}(t.properties),e.geometry=Ee(t.geometry),e}function Ee(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),\"GeometryCollection\"===t.type?(e.geometries=t.geometries.map((function(t){return Ee(t)})),e):(e.coordinates=function t(e){var n=e;return\"object\"!=typeof n[0]?n.slice():n.map((function(e){return t(e)}))}(t.coordinates),e)}function Ce(t){return t[0].toString()+\",\"+t[1].toString()}function Se(t){return t}function Oe(t,e){var n=function(t){if(null==t)return Se;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,a){a||(e=n=0);var u=2,l=t.length,c=new Array(l);for(c[0]=(e+=t[0])*r+o,c[1]=(n+=t[1])*i+s;u<l;)c[u]=t[u],++u;return c}}(t.transform),r=t.arcs;function i(t,e){e.length&&e.pop();for(var i=r[t<0?~t:t],o=0,s=i.length;o<s;++o)e.push(n(i[o],o));t<0&&function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}(e,s)}function o(t){return n(t)}function s(t){for(var e=[],n=0,r=t.length;n<r;++n)i(t[n],e);return e.length<2&&e.push(e[0]),e}function a(t){for(var e=s(t);e.length<4;)e.push(e[0]);return e}function u(t){return t.map(a)}return function t(e){var n,r=e.type;switch(r){case\"GeometryCollection\":return{type:r,geometries:e.geometries.map(t)};case\"Point\":n=o(e.coordinates);break;case\"MultiPoint\":n=e.coordinates.map(o);break;case\"LineString\":n=s(e.arcs);break;case\"MultiLineString\":n=e.arcs.map(s);break;case\"Polygon\":n=u(e.arcs);break;case\"MultiPolygon\":n=e.arcs.map(u);break;default:return null}return{type:r,coordinates:n}}(e)}function Pe(t,e){var n={},r=[],i=[];function o(t){t.forEach((function(e){e.forEach((function(e){(n[e=e<0?~e:e]||(n[e]=[])).push(t)}))})),r.push(t)}function s(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)}(Oe(t,{type:\"Polygon\",arcs:[e]}).coordinates[0])}return e.forEach((function t(e){switch(e.type){case\"GeometryCollection\":e.geometries.forEach(t);break;case\"Polygon\":o(e.arcs);break;case\"MultiPolygon\":e.arcs.forEach(o)}})),r.forEach((function(t){if(!t._){var e=[],r=[t];for(t._=1,i.push(e);t=r.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].forEach((function(t){t._||(t._=1,r.push(t))}))}))}))}})),r.forEach((function(t){delete t._})),{type:\"MultiPolygon\",arcs:i.map((function(e){var r,i=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].length<2&&i.push(t)}))}))})),(r=(i=function(t,e){var n={},r={},i={},o=[],s=-1;function a(t,e){for(var r in t){var i=t[r];delete e[i.start],delete i.start,delete i.end,i.forEach((function(t){n[t<0?~t:t]=1})),o.push(i)}}return e.forEach((function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++s],e[s]=n,e[r]=i)})),e.forEach((function(e){var n,o,s=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1],e<0?[n,i]:[i,n]}(e),a=s[0],u=s[1];if(n=i[a])if(delete i[n.end],n.push(e),n.end=u,o=r[u]){delete r[o.start];var l=o===n?n:n.concat(o);r[l.start=n.start]=i[l.end=o.end]=l}else r[n.start]=i[n.end]=n;else if(n=r[u])if(delete r[n.start],n.unshift(e),n.start=a,o=i[a]){delete i[o.end];var c=o===n?n:o.concat(n);r[c.start=o.start]=i[c.end=n.end]=c}else r[n.start]=i[n.end]=n;else r[(n=[e]).start=a]=i[n.end=u]=n})),a(i,r),a(r,i),e.forEach((function(t){n[t<0?~t:t]||o.push([t])})),o}(t,i)).length)>1)for(var o,a,u=1,l=s(i[0]);u<r;++u)(o=s(i[u]))>l&&(a=i[0],i[0]=i[u],i[u]=a,l=o);return i})).filter((function(t){return t.length>0}))}}var Ie=Object.prototype.hasOwnProperty;function Te(t,e,n,r,i,o){3===arguments.length&&(r=o=Array,i=null);for(var s=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=new o(t),u=t-1,l=0;l<t;++l)s[l]=i;function c(r,o){for(var l=e(r)&u,c=s[l],h=0;c!=i;){if(n(c,r))return a[l]=o;if(++h>=t)throw new Error(\"full hashmap\");c=s[l=l+1&u]}return s[l]=r,a[l]=o,o}function h(r,o){for(var l=e(r)&u,c=s[l],h=0;c!=i;){if(n(c,r))return a[l];if(++h>=t)throw new Error(\"full hashmap\");c=s[l=l+1&u]}return s[l]=r,a[l]=o,o}function p(r,o){for(var l=e(r)&u,c=s[l],h=0;c!=i;){if(n(c,r))return a[l];if(++h>=t)break;c=s[l=l+1&u]}return o}function f(){for(var t=[],e=0,n=s.length;e<n;++e){var r=s[e];r!=i&&t.push(r)}return t}return{set:c,maybeSet:h,get:p,keys:f}}function Me(t,e){return t[0]===e[0]&&t[1]===e[1]}var Ae=new ArrayBuffer(16),Le=new Float64Array(Ae),Re=new Uint32Array(Ae);function Ne(t){Le[0]=t[0],Le[1]=t[1];var e=Re[0]^Re[1];return 2147483647&(e<<5^e>>7^Re[2]^Re[3])}function Fe(t,e,n,r){je(t,e,n),je(t,e,e+r),je(t,e+r,n)}function je(t,e,n){for(var r,i=e+(n---e>>1);e<i;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function De(t){var e={type:\"GeometryCollection\",geometries:t.features.map(ke)};return null!=t.bbox&&(e.bbox=t.bbox),e}function ke(t){var e,n=Ge(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function Ge(t){if(null==t)return{type:null};var e=\"GeometryCollection\"===t.type?{type:\"GeometryCollection\",geometries:t.geometries.map(Ge)}:\"Point\"===t.type||\"MultiPoint\"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function Be(t,e){var n=function(t){var e=1/0,n=1/0,r=-1/0,i=-1/0;function o(t){null!=t&&Ie.call(s,t.type)&&s[t.type](t)}var s={GeometryCollection:function(t){t.geometries.forEach(o)},Point:function(t){a(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(a)},LineString:function(t){u(t.arcs)},MultiLineString:function(t){t.arcs.forEach(u)},Polygon:function(t){t.arcs.forEach(u)},MultiPolygon:function(t){t.arcs.forEach(l)}};function a(t){var o=t[0],s=t[1];o<e&&(e=o),o>r&&(r=o),s<n&&(n=s),s>i&&(i=s)}function u(t){t.forEach(a)}function l(t){t.forEach(u)}for(var c in t)o(t[c]);return r>=e&&i>=n?[e,n,r,i]:void 0}(t=function(t){var e,n,r={};for(e in t)r[e]=null==(n=t[e])?{type:null}:(\"FeatureCollection\"===n.type?De:\"Feature\"===n.type?ke:Ge)(n);return r}(t)),r=e>0&&n&&function(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=o-r?(n-1)/(o-r):1,u=s-i?(n-1)/(s-i):1;function l(t){return[Math.round((t[0]-r)*a),Math.round((t[1]-i)*u)]}function c(t,e){for(var n,o,s,l,c,h=-1,p=0,f=t.length,d=new Array(f);++h<f;)n=t[h],l=Math.round((n[0]-r)*a),c=Math.round((n[1]-i)*u),l===o&&c===s||(d[p++]=[o=l,s=c]);for(d.length=p;p<e;)p=d.push([d[0][0],d[0][1]]);return d}function h(t){return c(t,2)}function p(t){return c(t,4)}function f(t){return t.map(p)}function d(t){null!=t&&Ie.call(g,t.type)&&g[t.type](t)}var g={GeometryCollection:function(t){t.geometries.forEach(d)},Point:function(t){t.coordinates=l(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(l)},LineString:function(t){t.arcs=h(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(h)},Polygon:function(t){t.arcs=f(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(f)}};for(var y in t)d(t[y]);return{scale:[1/a,1/u],translate:[r,i]}}(t,n,e),i=function(t){var e,n,r,i,o=t.coordinates,s=t.lines,a=t.rings,u=s.length+a.length;for(delete t.lines,delete t.rings,r=0,i=s.length;r<i;++r)for(e=s[r];e=e.next;)++u;for(r=0,i=a.length;r<i;++r)for(n=a[r];n=n.next;)++u;var l=Te(2*u*1.4,Ne,Me),c=t.arcs=[];for(r=0,i=s.length;r<i;++r){e=s[r];do{h(e)}while(e=e.next)}for(r=0,i=a.length;r<i;++r)if((n=a[r]).next)do{h(n)}while(n=n.next);else p(n);function h(t){var e,n,r,i,s,a,u,h;if(r=l.get(e=o[t[0]]))for(u=0,h=r.length;u<h;++u)if(f(i=r[u],t))return t[0]=i[0],void(t[1]=i[1]);if(s=l.get(n=o[t[1]]))for(u=0,h=s.length;u<h;++u)if(d(a=s[u],t))return t[1]=a[0],void(t[0]=a[1]);r?r.push(t):l.set(e,[t]),s?s.push(t):l.set(n,[t]),c.push(t)}function p(t){var e,n,r,i,s;if(n=l.get(o[t[0]]))for(i=0,s=n.length;i<s;++i){if(g(r=n[i],t))return t[0]=r[0],void(t[1]=r[1]);if(y(r,t))return t[0]=r[1],void(t[1]=r[0])}if(n=l.get(e=o[t[0]+v(t)]))for(i=0,s=n.length;i<s;++i){if(g(r=n[i],t))return t[0]=r[0],void(t[1]=r[1]);if(y(r,t))return t[0]=r[1],void(t[1]=r[0])}n?n.push(t):l.set(e,[t]),c.push(t)}function f(t,e){var n=t[0],r=e[0],i=t[1];if(n-i!=r-e[1])return!1;for(;n<=i;++n,++r)if(!Me(o[n],o[r]))return!1;return!0}function d(t,e){var n=t[0],r=e[0],i=t[1],s=e[1];if(n-i!=r-s)return!1;for(;n<=i;++n,--s)if(!Me(o[n],o[s]))return!1;return!0}function g(t,e){var n=t[0],r=e[0],i=t[1]-n;if(i!==e[1]-r)return!1;for(var s=v(t),a=v(e),u=0;u<i;++u)if(!Me(o[n+(u+s)%i],o[r+(u+a)%i]))return!1;return!0}function y(t,e){var n=t[0],r=e[0],i=t[1],s=e[1],a=i-n;if(a!==s-r)return!1;for(var u=v(t),l=a-v(e),c=0;c<a;++c)if(!Me(o[n+(c+u)%a],o[s-(c+l)%a]))return!1;return!0}function v(t){for(var e=t[0],n=t[1],r=e,i=r,s=o[r];++r<n;){var a=o[r];(a[0]<s[0]||a[0]===s[0]&&a[1]<s[1])&&(i=r,s=a)}return i-e}return t}(function(t){var e,n,r,i=function(t){var e,n,r,i,o=t.coordinates,s=t.lines,a=t.rings,u=function(){for(var t=Te(1.4*o.length,x,w,Int32Array,-1,Int32Array),e=new Int32Array(o.length),n=0,r=o.length;n<r;++n)e[n]=t.maybeSet(n,n);return e}(),l=new Int32Array(o.length),c=new Int32Array(o.length),h=new Int32Array(o.length),p=new Int8Array(o.length),f=0;for(e=0,n=o.length;e<n;++e)l[e]=c[e]=h[e]=-1;for(e=0,n=s.length;e<n;++e){var d=s[e],g=d[0],y=d[1];for(r=u[g],i=u[++g],++f,p[r]=1;++g<=y;)b(e,r,r=i,i=u[g]);++f,p[i]=1}for(e=0,n=o.length;e<n;++e)l[e]=-1;for(e=0,n=a.length;e<n;++e){var v=a[e],_=v[0]+1,m=v[1];for(b(e,u[m-1],r=u[_-1],i=u[_]);++_<=m;)b(e,r,r=i,i=u[_])}function b(t,e,n,r){if(l[n]!==t){l[n]=t;var i=c[n];if(i>=0){var o=h[n];i===e&&o===r||i===r&&o===e||(++f,p[n]=1)}else c[n]=e,h[n]=r}}function x(t){return Ne(o[t])}function w(t,e){return Me(o[t],o[e])}l=c=h=null;var E,C=function(t,e,n,r,i){3===arguments.length&&(r=Array,i=null);for(var o=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=t-1,a=0;a<t;++a)o[a]=i;function u(r){for(var a=e(r)&s,u=o[a],l=0;u!=i;){if(n(u,r))return!0;if(++l>=t)throw new Error(\"full hashset\");u=o[a=a+1&s]}return o[a]=r,!0}function l(r){for(var a=e(r)&s,u=o[a],l=0;u!=i;){if(n(u,r))return!0;if(++l>=t)break;u=o[a=a+1&s]}return!1}function c(){for(var t=[],e=0,n=o.length;e<n;++e){var r=o[e];r!=i&&t.push(r)}return t}return{add:u,has:l,values:c}}(1.4*f,Ne,Me);for(e=0,n=o.length;e<n;++e)p[E=u[e]]&&C.add(o[E]);return C}(t),o=t.coordinates,s=t.lines,a=t.rings;for(n=0,r=s.length;n<r;++n)for(var u=s[n],l=u[0],c=u[1];++l<c;)i.has(o[l])&&(e={0:l,1:u[1]},u[1]=l,u=u.next=e);for(n=0,r=a.length;n<r;++n)for(var h=a[n],p=h[0],f=p,d=h[1],g=i.has(o[p]);++f<d;)i.has(o[f])&&(g?(e={0:f,1:h[1]},h[1]=f,h=h.next=e):(Fe(o,p,d,d-f),o[d]=o[p],g=!0,f=p));return t}(function(t){var e=-1,n=[],r=[],i=[];function o(t){t&&Ie.call(s,t.type)&&s[t.type](t)}var s={GeometryCollection:function(t){t.geometries.forEach(o)},LineString:function(t){t.arcs=a(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(a)},Polygon:function(t){t.arcs=t.arcs.map(u)},MultiPolygon:function(t){t.arcs=t.arcs.map(l)}};function a(t){for(var r=0,o=t.length;r<o;++r)i[++e]=t[r];var s={0:e-o+1,1:e};return n.push(s),s}function u(t){for(var n=0,o=t.length;n<o;++n)i[++e]=t[n];var s={0:e-o+1,1:e};return r.push(s),s}function l(t){return t.map(u)}for(var c in t)o(t[c]);return{type:\"Topology\",coordinates:i,lines:n,rings:r,objects:t}}(t))),o=i.coordinates,s=Te(1.4*i.arcs.length,ze,Ve);function a(t){t&&Ie.call(u,t.type)&&u[t.type](t)}t=i.objects,i.bbox=n,i.arcs=i.arcs.map((function(t,e){return s.set(t,e),o.slice(t[0],t[1]+1)})),delete i.coordinates,o=null;var u={GeometryCollection:function(t){t.geometries.forEach(a)},LineString:function(t){t.arcs=l(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(l)},Polygon:function(t){t.arcs=t.arcs.map(l)},MultiPolygon:function(t){t.arcs=t.arcs.map(c)}};function l(t){var e=[];do{var n=s.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function c(t){return t.map(l)}for(var h in t)a(t[h]);return r&&(i.transform=r,i.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var r,i,o=t[e],s=0,a=1,u=o.length,l=o[0],c=l[0],h=l[1];++s<u;)r=(l=o[s])[0],i=l[1],r===c&&i===h||(o[a++]=[r-c,i-h],c=r,h=i);1===a&&(o[a++]=[0,0]),o.length=a}return t}(i.arcs)),i}function ze(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function Ve(t,e){var n,r=t[0],i=t[1],o=e[0],s=e[1];return i<r&&(n=r,r=i,i=n),s<o&&(n=o,o=s,s=n),r===o&&i===s}function qe(t,e){if(void 0===e&&(e={}),!I(e=e||{}))throw new Error(\"options is invalid\");var n=e.mutate;if(\"FeatureCollection\"!==it(t))throw new Error(\"geojson must be a FeatureCollection\");if(!t.features.length)throw new Error(\"geojson is empty\");!1!==n&&void 0!==n||(t=xe(t));var r=function(t){var e={};z(t,(function(t){e[t.geometry.type]=!0}));var n=Object.keys(e);return 1===n.length?n[0]:null}(t);if(!r)throw new Error(\"geojson must be homogenous\");var i=t;switch(r){case\"LineString\":return function(t,e){if(void 0===e&&(e={}),!I(e=e||{}))throw new Error(\"options is invalid\");var n=e.mutate;if(\"FeatureCollection\"!==it(t))throw new Error(\"geojson must be a FeatureCollection\");if(!t.features.length)throw new Error(\"geojson is empty\");!1!==n&&void 0!==n||(t=xe(t));var r=[],i=X(t,(function(t,e){return function(t,e){var n,r=t.geometry.coordinates,i=e.geometry.coordinates,o=Ce(r[0]),s=Ce(r[r.length-1]),a=Ce(i[0]),u=Ce(i[i.length-1]);if(o===u)n=i.concat(r.slice(1));else if(a===s)n=r.concat(i.slice(1));else if(o===a)n=r.slice(1).reverse().concat(i);else{if(s!==u)return null;n=r.concat(i.reverse().slice(1))}return h(n)}(t,e)||(r.push(t),e)}));return i&&r.push(i),r.length?1===r.length?r[0]:d(r.map((function(t){return t.coordinates}))):null}(i,e);case\"Polygon\":return function(t,e){if(void 0===e&&(e={}),\"FeatureCollection\"!==it(t))throw new Error(\"geojson must be a FeatureCollection\");if(!t.features.length)throw new Error(\"geojson is empty\");!1!==e.mutate&&void 0!==e.mutate||(t=xe(t));var n=[];z(t,(function(t){n.push(t.geometry)}));var r=Be({geoms:v(n).geometry});return function(t){return Oe(t,Pe.apply(this,arguments))}(r,r.objects.geoms.geometries)}(i,e);default:throw new Error(r+\" is not supported\")}}function Ue(t,e){void 0===e&&(e={});var n=\"object\"==typeof e?e.mutate:e;if(!t)throw new Error(\"geojson is required\");var r=it(t),i=[];switch(r){case\"LineString\":i=$e(t);break;case\"MultiLineString\":case\"Polygon\":J(t).forEach((function(t){i.push($e(t))}));break;case\"MultiPolygon\":J(t).forEach((function(t){var e=[];t.forEach((function(t){e.push($e(t))})),i.push(e)}));break;case\"Point\":return t;case\"MultiPoint\":var s={};J(t).forEach((function(t){var e=t.join(\"-\");Object.prototype.hasOwnProperty.call(s,e)||(i.push(t),s[e]=!0)}));break;default:throw new Error(r+\" geometry not supported\")}return t.coordinates?!0===n?(t.coordinates=i,t):{type:r,coordinates:i}:!0===n?(t.geometry.coordinates=i,t):o({type:r,coordinates:i},t.properties,{bbox:t.bbox,id:t.id})}function $e(t){var e=J(t);if(2===e.length&&!Xe(e[0],e[1]))return e;var n=[],r=e.length-1,i=n.length;n.push(e[0]);for(var o=1;o<r;o++){var s=n[n.length-1];e[o][0]===s[0]&&e[o][1]===s[1]||(n.push(e[o]),(i=n.length)>2&&Ye(n[i-3],n[i-1],n[i-2])&&n.splice(n.length-2,1))}if(n.push(e[e.length-1]),i=n.length,Xe(e[0],e[e.length-1])&&i<4)throw new Error(\"invalid polygon\");return Ye(n[i-3],n[i-1],n[i-2])&&n.splice(n.length-2,1),n}function Xe(t,e){return t[0]===e[0]&&t[1]===e[1]}function Ye(t,e,n){var r=n[0],i=n[1],o=t[0],s=t[1],a=e[0],u=e[1],l=a-o,c=u-s;return 0==(r-o)*c-(i-s)*l&&(Math.abs(l)>=Math.abs(c)?l>0?o<=r&&r<=a:a<=r&&r<=o:c>0?s<=i&&i<=u:u<=i&&i<=s)}function We(t,e,n){var r=e.x,i=e.y,o=n.x-r,s=n.y-i;if(0!==o||0!==s){var a=((t.x-r)*o+(t.y-i)*s)/(o*o+s*s);a>1?(r=n.x,i=n.y):a>0&&(r+=o*a,i+=s*a)}return(o=t.x-r)*o+(s=t.y-i)*s}function He(t,e){var n=t.length-1,r=[t[0]];return function t(e,n,r,i,o){for(var s,a=i,u=n+1;u<r;u++){var l=We(e[u],e[n],e[r]);l>a&&(s=u,a=l)}a>i&&(s-n>1&&t(e,n,s,i,o),o.push(e[s]),r-s>1&&t(e,s,r,i,o))}(t,0,n,e,r),r.push(t[n]),r}function Ke(t,e,n){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return He(t=n?t:function(t,e){for(var n,r,i,o,s,a=t[0],u=[a],l=1,c=t.length;l<c;l++)i=a,(o=(r=n=t[l]).x-i.x)*o+(s=r.y-i.y)*s>e&&(u.push(n),a=n);return a!==n&&u.push(n),u}(t,r),r)}function Ze(t,e,n){return Ke(t.map((function(t){return{x:t[0],y:t[1],z:t[2]}})),e,n).map((function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]}))}function Je(t,e,n){return t.map((function(t){var r=t.map((function(t){return{x:t[0],y:t[1]}}));if(r.length<4)throw new Error(\"invalid polygon\");for(var i=Ke(r,e,n).map((function(t){return[t.x,t.y]}));!Qe(i);)i=Ke(r,e-=.01*e,n).map((function(t){return[t.x,t.y]}));return i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),i}))}function Qe(t){return!(t.length<3||3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}var tn=function(){function t(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],r=this.points[e+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){var i=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return t.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>t&&(e.push(r),n=i)}return e},t.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},t.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(t,e,n,r,i){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:i.x*o[0]+r.x*o[1]+n.x*o[2]+e.x*o[3],y:i.y*o[0]+r.y*o[1]+n.y*o[2]+e.y*o[3],z:i.z*o[0]+r.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])},t}();function en(t,e){void 0===e&&(e={});for(var n=e.resolution||1e4,r=e.sharpness||.85,i=[],o=rt(t).coordinates.map((function(t){return{x:t[0],y:t[1]}})),s=new tn({duration:n,points:o,sharpness:r}),a=function(t){var e=s.pos(t);Math.floor(t/100)%2==0&&i.push([e.x,e.y])},u=0;u<s.duration;u+=10)a(u);return a(s.duration),h(i,e.properties)}function nn(t,e){void 0===e&&(e={});var n=Number(t[0]),r=Number(t[1]),i=Number(t[2]),o=Number(t[3]);if(6===t.length)throw new Error(\"@turf/bbox-polygon does not support BBox with 6 positions\");var s=[n,r];return l([[s,[i,r],[i,o],[n,o],s]],e.properties,{bbox:t,id:e.id})}function rn(t){return nn(K(t))}function on(t){var e=t[0],n=t[1],r=t[2],i=t[3];if(ye(t.slice(0,2),[r,n])>=ye(t.slice(0,2),[e,i])){var o=(n+i)/2;return[e,o-(r-e)/2,r,o+(r-e)/2]}var s=(e+r)/2;return[s-(i-n)/2,n,s+(i-n)/2,i]}function sn(t,e,n,r){void 0===r&&(r={});var i=Z(t),o=C(i[0]),s=C(i[1]),u=C(n),l=b(e,r.units),c=Math.asin(Math.sin(s)*Math.cos(l)+Math.cos(s)*Math.sin(l)*Math.cos(u));return a([E(o+Math.atan2(Math.sin(u)*Math.sin(l)*Math.cos(s),Math.cos(l)-Math.sin(s)*Math.sin(c))),E(c)],r.properties)}function an(t,e,n){void 0===n&&(n={});for(var r=n.steps||64,i=n.properties?n.properties:!Array.isArray(t)&&\"Feature\"===t.type&&t.properties?t.properties:{},o=[],s=0;s<r;s++)o.push(sn(t,e,-360*s/r,n).geometry.coordinates);return o.push(o[0]),l([o],i)}function un(t,e,n){if(void 0===n&&(n={}),!0===n.final)return function(t,e){var n=un(e,t);return(n+180)%360}(t,e);var r=Z(t),i=Z(e),o=C(r[0]),s=C(i[0]),a=C(r[1]),u=C(i[1]),l=Math.sin(s-o)*Math.cos(u),c=Math.cos(a)*Math.sin(u)-Math.sin(a)*Math.cos(u)*Math.cos(s-o);return E(Math.atan2(l,c))}function ln(t,e){void 0===e&&(e={});var n=K(t);return a([(n[0]+n[2])/2,(n[1]+n[3])/2],e.properties,e)}function cn(t,e){void 0===e&&(e={});var n=0,r=0,i=0;return L(t,(function(t){n+=t[0],r+=t[1],i++}),!0),a([n/i,r/i],e.properties)}function hn(t){var e=[];return\"FeatureCollection\"===t.type?j(t,(function(t){L(t,(function(n){e.push(a(n,t.properties))}))})):L(t,(function(n){e.push(a(n,t.properties))})),f(e)}var pn=dn,fn=dn;function dn(t,e,n){n=n||2;var r,i,o,s,a,u,l,c=e&&e.length,h=c?e[0]*n:t.length,p=gn(t,0,h,n,!0),f=[];if(!p)return f;if(c&&(p=function(t,e,n,r){var i,o,s,a=[];for(i=0,o=e.length;i<o;i++)(s=gn(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===s.next&&(s.steiner=!0),a.push(Sn(s));for(a.sort(wn),i=0;i<a.length;i++)En(a[i],n),n=yn(n,n.next);return n}(t,e,p,n)),t.length>80*n){r=o=t[0],i=s=t[1];for(var d=n;d<h;d+=n)(a=t[d])<r&&(r=a),(u=t[d+1])<i&&(i=u),a>o&&(o=a),u>s&&(s=u);l=0!==(l=Math.max(o-r,s-i))?1/l:0}return vn(p,f,n,r,i,l),f}function gn(t,e,n,r,i){var o,s;if(i===jn(t,e,n,r)>0)for(o=e;o<n;o+=r)s=Rn(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=Rn(o,t[o],t[o+1],s);return s&&Tn(s,s.next)&&(Nn(s),s=s.next),s}function yn(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!Tn(r,r.next)&&0!==In(r.prev,r,r.next))r=r.next;else{if(Nn(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function vn(t,e,n,r,i,o,s){if(t){!s&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=Cn(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,s,a,u,l=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<l&&(a++,r=r.nextZ);e++);for(u=l;a>0||u>0&&r;)0!==a&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(s>1)}(i)}(t,r,i,o);for(var a,u,l=t;t.prev!==t.next;)if(a=t.prev,u=t.next,o?mn(t,r,i,o):_n(t))e.push(a.i/n),e.push(t.i/n),e.push(u.i/n),Nn(t),t=u.next,l=u.next;else if((t=u)===l){s?1===s?vn(t=bn(t,e,n),e,n,r,i,o,2):2===s&&xn(t,e,n,r,i,o):vn(yn(t),e,n,r,i,o,1);break}}}function _n(t){var e=t.prev,n=t,r=t.next;if(In(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(On(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&In(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function mn(t,e,n,r){var i=t.prev,o=t,s=t.next;if(In(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,l=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,c=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,h=Cn(a,u,e,n,r),p=Cn(l,c,e,n,r),f=t.prevZ,d=t.nextZ;f&&f.z>=h&&d&&d.z<=p;){if(f!==t.prev&&f!==t.next&&On(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&In(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,d!==t.prev&&d!==t.next&&On(i.x,i.y,o.x,o.y,s.x,s.y,d.x,d.y)&&In(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;f&&f.z>=h;){if(f!==t.prev&&f!==t.next&&On(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&In(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&On(i.x,i.y,o.x,o.y,s.x,s.y,d.x,d.y)&&In(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function bn(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!Tn(i,o)&&Mn(i,r,r.next,o)&&An(i,o)&&An(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),Nn(r),Nn(r.next),r=t=o),r=r.next}while(r!==t);return r}function xn(t,e,n,r,i,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&Pn(s,a)){var u=Ln(s,a);return s=yn(s,s.next),u=yn(u,u.next),vn(s,e,n,r,i,o),void vn(u,e,n,r,i,o)}a=a.next}s=s.next}while(s!==t)}function wn(t,e){return t.x-e.x}function En(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>s){if(s=a,a===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===s)return n.prev;var u,l=n,c=n.x,h=n.y,p=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&On(o<h?i:s,o,c,h,o<h?s:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<p||u===p&&r.x>n.x)&&An(r,t)&&(n=r,p=u),r=r.next;return n}(t,e)){var n=Ln(e,t);yn(n,n.next)}}function Cn(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Sn(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function On(t,e,n,r,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(r-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(i-s)*(r-a)>=0}function Pn(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Mn(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&An(t,e)&&An(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}function In(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Tn(t,e){return t.x===e.x&&t.y===e.y}function Mn(t,e,n,r){return!!(Tn(t,e)&&Tn(n,r)||Tn(t,r)&&Tn(n,e))||In(t,e,n)>0!=In(t,e,r)>0&&In(n,r,t)>0!=In(n,r,e)>0}function An(t,e){return In(t.prev,t,t.next)<0?In(t,e,t.next)>=0&&In(t,t.prev,e)>=0:In(t,e,t.prev)<0||In(t,t.next,e)<0}function Ln(t,e){var n=new Fn(t.i,t.x,t.y),r=new Fn(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Rn(t,e,n,r){var i=new Fn(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Nn(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Fn(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function jn(t,e,n,r){for(var i=0,o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}function Dn(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}(t),n=pn(e.vertices,e.holes,2),r=[],i=[];n.forEach((function(t,r){var o=n[r];i.push([e.vertices[2*o],e.vertices[2*o+1]])}));for(var o=0;o<i.length;o+=3){var s=i.slice(o,o+3);s.push(i[o]),r.push(l([s]))}return r}function kn(t,e){if(!t)throw new Error(\"targetPoint is required\");if(!e)throw new Error(\"points is required\");var n,r=1/0,i=0;return j(e,(function(e,n){var o=ye(t,e);o<r&&(i=n,r=o)})),(n=xe(e.features[i])).properties.featureIndex=i,n.properties.distanceToPoint=r,n}function Gn(t){if(!t)throw new Error(\"geojson is required\");var e=[];return z(t,(function(t){!function(t,e){var n=[],r=t.geometry;if(null!==r){switch(r.type){case\"Polygon\":n=J(r);break;case\"LineString\":n=[J(r)]}n.forEach((function(n){(function(t,e){var n=[];return t.reduce((function(t,r){var i=h([t,r],e);return i.bbox=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return[n<i?n:i,r<o?r:o,n>i?n:i,r>o?r:o]}(t,r),n.push(i),r})),n})(n,t.properties).forEach((function(t){t.id=e.length,e.push(t)}))}))}}(t,e)})),f(e)}dn.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,s=Math.abs(jn(t,0,o,n));if(i)for(var a=0,u=e.length;a<u;a++){var l=e[a]*n,c=a<u-1?e[a+1]*n:t.length;s-=Math.abs(jn(t,l,c,n))}var h=0;for(a=0;a<r.length;a+=3){var p=r[a]*n,f=r[a+1]*n,d=r[a+2]*n;h+=Math.abs((t[p]-t[d])*(t[f+1]-t[p+1])-(t[p]-t[f])*(t[d+1]-t[p+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},dn.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n},pn.default=fn;var Bn=kt((function(t,e){function n(t,e,n){void 0===n&&(n={});var r={type:\"Feature\"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function r(t,e,r){if(void 0===r&&(r={}),!t)throw new Error(\"coordinates is required\");if(!Array.isArray(t))throw new Error(\"coordinates must be an Array\");if(t.length<2)throw new Error(\"coordinates must be at least 2 numbers long\");if(!f(t[0])||!f(t[1]))throw new Error(\"coordinates must contain numbers\");return n({type:\"Point\",coordinates:t},e,r)}function i(t,e,r){void 0===r&&(r={});for(var i=0,o=t;i<o.length;i++){var s=o[i];if(s.length<4)throw new Error(\"Each LinearRing of a Polygon must have 4 or more Positions.\");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error(\"First and last Position are not equivalent.\")}return n({type:\"Polygon\",coordinates:t},e,r)}function o(t,e,r){if(void 0===r&&(r={}),t.length<2)throw new Error(\"coordinates must be an array of two or more positions\");return n({type:\"LineString\",coordinates:t},e,r)}function s(t,e){void 0===e&&(e={});var n={type:\"FeatureCollection\"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function a(t,e,r){return void 0===r&&(r={}),n({type:\"MultiLineString\",coordinates:t},e,r)}function u(t,e,r){return void 0===r&&(r={}),n({type:\"MultiPoint\",coordinates:t},e,r)}function l(t,e,r){return void 0===r&&(r={}),n({type:\"MultiPolygon\",coordinates:t},e,r)}function c(t,n){void 0===n&&(n=\"kilometers\");var r=e.factors[n];if(!r)throw new Error(n+\" units is invalid\");return t*r}function h(t,n){void 0===n&&(n=\"kilometers\");var r=e.factors[n];if(!r)throw new Error(n+\" units is invalid\");return t/r}function p(t){return t%(2*Math.PI)*180/Math.PI}function f(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(e,\"__esModule\",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:1.0936*e.earthRadius},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1.0936133},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=n,e.geometry=function(t,e,n){switch(t){case\"Point\":return r(e).geometry;case\"LineString\":return o(e).geometry;case\"Polygon\":return i(e).geometry;case\"MultiPoint\":return u(e).geometry;case\"MultiLineString\":return a(e).geometry;case\"MultiPolygon\":return l(e).geometry;default:throw new Error(t+\" is invalid\")}},e.point=r,e.points=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return r(t,e)})),n)},e.polygon=i,e.polygons=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return i(t,e)})),n)},e.lineString=o,e.lineStrings=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return o(t,e)})),n)},e.featureCollection=s,e.multiLineString=a,e.multiPoint=u,e.multiPolygon=l,e.geometryCollection=function(t,e,r){return void 0===r&&(r={}),n({type:\"GeometryCollection\",geometries:t},e,r)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error(\"precision must be a positive number\");var n=Math.pow(10,e||0);return Math.round(t*n)/n},e.radiansToLength=c,e.lengthToRadians=h,e.lengthToDegrees=function(t,e){return p(h(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=p,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,n){if(void 0===e&&(e=\"kilometers\"),void 0===n&&(n=\"kilometers\"),!(t>=0))throw new Error(\"length must be a positive number\");return c(h(t,e),n)},e.convertArea=function(t,n,r){if(void 0===n&&(n=\"meters\"),void 0===r&&(r=\"kilometers\"),!(t>=0))throw new Error(\"area must be a positive number\");var i=e.areaFactors[n];if(!i)throw new Error(\"invalid original units\");var o=e.areaFactors[r];if(!o)throw new Error(\"invalid final units\");return t/i*o},e.isNumber=f,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error(\"bbox is required\");if(!Array.isArray(t))throw new Error(\"bbox must be an Array\");if(4!==t.length&&6!==t.length)throw new Error(\"bbox must be an Array of 4 or 6 numbers\");t.forEach((function(t){if(!f(t))throw new Error(\"bbox must only contain numbers\")}))},e.validateId=function(t){if(!t)throw new Error(\"id is required\");if(-1===[\"string\",\"number\"].indexOf(typeof t))throw new Error(\"id must be a number or a string\")}}));function zn(t,e,n){if(null!==t)for(var r,i,o,s,a,u,l,c,h=0,p=0,f=t.type,d=\"FeatureCollection\"===f,g=\"Feature\"===f,y=d?t.features.length:1,v=0;v<y;v++){a=(c=!!(l=d?t.features[v].geometry:g?t.geometry:t)&&\"GeometryCollection\"===l.type)?l.geometries.length:1;for(var _=0;_<a;_++){var m=0,b=0;if(null!==(s=c?l.geometries[_]:l)){u=s.coordinates;var x=s.type;switch(h=!n||\"Polygon\"!==x&&\"MultiPolygon\"!==x?0:1,x){case null:break;case\"Point\":if(!1===e(u,p,v,m,b))return!1;p++,m++;break;case\"LineString\":case\"MultiPoint\":for(r=0;r<u.length;r++){if(!1===e(u[r],p,v,m,b))return!1;p++,\"MultiPoint\"===x&&m++}\"LineString\"===x&&m++;break;case\"Polygon\":case\"MultiLineString\":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-h;i++){if(!1===e(u[r][i],p,v,m,b))return!1;p++}\"MultiLineString\"===x&&m++,\"Polygon\"===x&&b++}\"Polygon\"===x&&m++;break;case\"MultiPolygon\":for(r=0;r<u.length;r++){for(b=0,i=0;i<u[r].length;i++){for(o=0;o<u[r][i].length-h;o++){if(!1===e(u[r][i][o],p,v,m,b))return!1;p++}b++}m++}break;case\"GeometryCollection\":for(r=0;r<s.geometries.length;r++)if(!1===zn(s.geometries[r],e,n))return!1;break;default:throw new Error(\"Unknown Geometry Type\")}}}}}function Vn(t,e){var n;switch(t.type){case\"FeatureCollection\":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case\"Feature\":e(t.properties,0)}}function qn(t,e){if(\"Feature\"===t.type)e(t,0);else if(\"FeatureCollection\"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function Un(t,e){var n,r,i,o,s,a,u,l,c,h,p=0,f=\"FeatureCollection\"===t.type,d=\"Feature\"===t.type,g=f?t.features.length:1;for(n=0;n<g;n++){for(a=f?t.features[n].geometry:d?t.geometry:t,l=f?t.features[n].properties:d?t.properties:{},c=f?t.features[n].bbox:d?t.bbox:void 0,h=f?t.features[n].id:d?t.id:void 0,s=(u=!!a&&\"GeometryCollection\"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=u?a.geometries[i]:a))switch(o.type){case\"Point\":case\"LineString\":case\"MultiPoint\":case\"Polygon\":case\"MultiLineString\":case\"MultiPolygon\":if(!1===e(o,p,l,c,h))return!1;break;case\"GeometryCollection\":for(r=0;r<o.geometries.length;r++)if(!1===e(o.geometries[r],p,l,c,h))return!1;break;default:throw new Error(\"Unknown Geometry Type\")}else if(!1===e(null,p,l,c,h))return!1;p++}}function $n(t,e){Un(t,(function(t,n,r,i,o){var s,a=null===t?null:t.type;switch(a){case null:case\"Point\":case\"LineString\":case\"Polygon\":return!1!==e(Bn.feature(t,r,{bbox:i,id:o}),n,0)&&void 0}switch(a){case\"MultiPoint\":s=\"Point\";break;case\"MultiLineString\":s=\"LineString\";break;case\"MultiPolygon\":s=\"Polygon\"}for(var u=0;u<t.coordinates.length;u++){var l={type:s,coordinates:t.coordinates[u]};if(!1===e(Bn.feature(l,r),n,u))return!1}}))}function Xn(t,e){$n(t,(function(t,n,r){var i=0;if(t.geometry){var o=t.geometry.type;if(\"Point\"!==o&&\"MultiPoint\"!==o){var s,a=0,u=0,l=0;return!1!==zn(t,(function(o,c,h,p,f){if(void 0===s||n>a||p>u||f>l)return s=o,a=n,u=p,l=f,void(i=0);var d=Bn.lineString([s,o],t.properties);if(!1===e(d,n,r,f,i))return!1;i++,s=o}))&&void 0}}}))}function Yn(t,e){if(!t)throw new Error(\"geojson is required\");$n(t,(function(t,n,r){if(null!==t.geometry){var i=t.geometry.type,o=t.geometry.coordinates;switch(i){case\"LineString\":if(!1===e(t,n,r,0,0))return!1;break;case\"Polygon\":for(var s=0;s<o.length;s++)if(!1===e(Bn.lineString(o[s],t.properties),n,r,s))return!1}}}))}var Wn=zn,Hn=qn,Kn=$n,Zn=Un,Jn=Yn,Qn=Vn,tr=Xn,er=Object.defineProperty({coordAll:function(t){var e=[];return zn(t,(function(t){e.push(t)})),e},coordEach:Wn,coordReduce:function(t,e,n,r){var i=n;return zn(t,(function(t,r,o,s,a){i=0===r&&void 0===n?t:e(i,t,r,o,s,a)}),r),i},featureEach:Hn,featureReduce:function(t,e,n){var r=n;return qn(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r},findPoint:function(t,e){if(e=e||{},!Bn.isObject(e))throw new Error(\"options is invalid\");var n,r=e.featureIndex||0,i=e.multiFeatureIndex||0,o=e.geometryIndex||0,s=e.coordIndex||0,a=e.properties;switch(t.type){case\"FeatureCollection\":r<0&&(r=t.features.length+r),a=a||t.features[r].properties,n=t.features[r].geometry;break;case\"Feature\":a=a||t.properties,n=t.geometry;break;case\"Point\":case\"MultiPoint\":return null;case\"LineString\":case\"Polygon\":case\"MultiLineString\":case\"MultiPolygon\":n=t;break;default:throw new Error(\"geojson is invalid\")}if(null===n)return null;var u=n.coordinates;switch(n.type){case\"Point\":return Bn.point(u,a,e);case\"MultiPoint\":return i<0&&(i=u.length+i),Bn.point(u[i],a,e);case\"LineString\":return s<0&&(s=u.length+s),Bn.point(u[s],a,e);case\"Polygon\":return o<0&&(o=u.length+o),s<0&&(s=u[o].length+s),Bn.point(u[o][s],a,e);case\"MultiLineString\":return i<0&&(i=u.length+i),s<0&&(s=u[i].length+s),Bn.point(u[i][s],a,e);case\"MultiPolygon\":return i<0&&(i=u.length+i),o<0&&(o=u[i].length+o),s<0&&(s=u[i][o].length-s),Bn.point(u[i][o][s],a,e)}throw new Error(\"geojson is invalid\")},findSegment:function(t,e){if(e=e||{},!Bn.isObject(e))throw new Error(\"options is invalid\");var n,r=e.featureIndex||0,i=e.multiFeatureIndex||0,o=e.geometryIndex||0,s=e.segmentIndex||0,a=e.properties;switch(t.type){case\"FeatureCollection\":r<0&&(r=t.features.length+r),a=a||t.features[r].properties,n=t.features[r].geometry;break;case\"Feature\":a=a||t.properties,n=t.geometry;break;case\"Point\":case\"MultiPoint\":return null;case\"LineString\":case\"Polygon\":case\"MultiLineString\":case\"MultiPolygon\":n=t;break;default:throw new Error(\"geojson is invalid\")}if(null===n)return null;var u=n.coordinates;switch(n.type){case\"Point\":case\"MultiPoint\":return null;case\"LineString\":return s<0&&(s=u.length+s-1),Bn.lineString([u[s],u[s+1]],a,e);case\"Polygon\":return o<0&&(o=u.length+o),s<0&&(s=u[o].length+s-1),Bn.lineString([u[o][s],u[o][s+1]],a,e);case\"MultiLineString\":return i<0&&(i=u.length+i),s<0&&(s=u[i].length+s-1),Bn.lineString([u[i][s],u[i][s+1]],a,e);case\"MultiPolygon\":return i<0&&(i=u.length+i),o<0&&(o=u[i].length+o),s<0&&(s=u[i][o].length-s-1),Bn.lineString([u[i][o][s],u[i][o][s+1]],a,e)}throw new Error(\"geojson is invalid\")},flattenEach:Kn,flattenReduce:function(t,e,n){var r=n;return $n(t,(function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)})),r},geomEach:Zn,geomReduce:function(t,e,n){var r=n;return Un(t,(function(t,i,o,s,a){r=0===i&&void 0===n?t:e(r,t,i,o,s,a)})),r},lineEach:Jn,lineReduce:function(t,e,n){var r=n;return Yn(t,(function(t,i,o,s){r=0===i&&void 0===n?t:e(r,t,i,o,s)})),r},propEach:Qn,propReduce:function(t,e,n){var r=n;return Vn(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r},segmentEach:tr,segmentReduce:function(t,e,n){var r=n,i=!1;return Xn(t,(function(t,o,s,a,u){r=!1===i&&void 0===n?t:e(r,t,o,s,a,u),i=!0})),r}},\"__esModule\",{value:!0});function nr(t){var e=[1/0,1/0,-1/0,-1/0];return er.coordEach(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}nr.default=nr;var rr=nr,ir=Object.defineProperty({default:rr},\"__esModule\",{value:!0}).default,or=er.featureEach,sr=(er.coordEach,Bn.polygon,Bn.featureCollection);function ar(t){var e=Et(t);return e.insert=function(t){if(\"Feature\"!==t.type)throw new Error(\"invalid feature\");return t.bbox=t.bbox?t.bbox:ir(t),Et.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){if(\"Feature\"!==t.type)throw new Error(\"invalid features\");t.bbox=t.bbox?t.bbox:ir(t),e.push(t)})):or(t,(function(t){if(\"Feature\"!==t.type)throw new Error(\"invalid features\");t.bbox=t.bbox?t.bbox:ir(t),e.push(t)})),Et.prototype.load.call(this,e)},e.remove=function(t,e){if(\"Feature\"!==t.type)throw new Error(\"invalid feature\");return t.bbox=t.bbox?t.bbox:ir(t),Et.prototype.remove.call(this,t,e)},e.clear=function(){return Et.prototype.clear.call(this)},e.search=function(t){var e=Et.prototype.search.call(this,this.toBBox(t));return sr(e)},e.collides=function(t){return Et.prototype.collides.call(this,this.toBBox(t))},e.all=function(){var t=Et.prototype.all.call(this);return sr(t)},e.toJSON=function(){return Et.prototype.toJSON.call(this)},e.fromJSON=function(t){return Et.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;if(t.bbox)e=t.bbox;else if(Array.isArray(t)&&4===t.length)e=t;else if(Array.isArray(t)&&6===t.length)e=[t[0],t[1],t[3],t[4]];else if(\"Feature\"===t.type)e=ir(t);else{if(\"FeatureCollection\"!==t.type)throw new Error(\"invalid geojson\");e=ir(t)}return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}var ur=ar,lr=ar;function cr(t,e){var n={},r=[];if(\"LineString\"===t.type&&(t=o(t)),\"LineString\"===e.type&&(e=o(e)),\"Feature\"===t.type&&\"Feature\"===e.type&&null!==t.geometry&&null!==e.geometry&&\"LineString\"===t.geometry.type&&\"LineString\"===e.geometry.type&&2===t.geometry.coordinates.length&&2===e.geometry.coordinates.length){var i=hr(t,e);return i&&r.push(i),f(r)}var s=ur();return s.load(Gn(e)),j(Gn(t),(function(t){j(s.search(t),(function(e){var i=hr(t,e);if(i){var o=J(i).join(\",\");n[o]||(n[o]=!0,r.push(i))}}))})),f(r)}function hr(t,e){var n=J(t),r=J(e);if(2!==n.length)throw new Error(\"<intersects> line1 must only contain 2 coordinates\");if(2!==r.length)throw new Error(\"<intersects> line2 must only contain 2 coordinates\");var i=n[0][0],o=n[0][1],s=n[1][0],u=n[1][1],l=r[0][0],c=r[0][1],h=r[1][0],p=r[1][1],f=(p-c)*(s-i)-(h-l)*(u-o);if(0===f)return null;var d=((h-l)*(o-c)-(p-c)*(i-l))/f,g=((s-i)*(o-c)-(u-o)*(i-l))/f;return d>=0&&d<=1&&g>=0&&g<=1?a([i+d*(s-i),o+d*(u-o)]):null}function pr(t,e,n){void 0===n&&(n={});var r=a([1/0,1/0],{dist:1/0}),i=0;return z(t,(function(t){for(var o=J(t),s=0;s<o.length-1;s++){var u=a(o[s]);u.properties.dist=ye(e,u,n);var l=a(o[s+1]);l.properties.dist=ye(e,l,n);var c=ye(u,l,n),p=Math.max(u.properties.dist,l.properties.dist),f=un(u,l),d=sn(e,p,f+90,n),g=sn(e,p,f-90,n),y=cr(h([d.geometry.coordinates,g.geometry.coordinates]),h([u.geometry.coordinates,l.geometry.coordinates])),v=null;y.features.length>0&&((v=y.features[0]).properties.dist=ye(e,v,n),v.properties.location=i+ye(u,v,n)),u.properties.dist<r.properties.dist&&((r=u).properties.index=s,r.properties.location=i),l.properties.dist<r.properties.dist&&((r=l).properties.index=s+1,r.properties.location=i+c),v&&v.properties.dist<r.properties.dist&&((r=v).properties.index=s),i+=c}})),r}function fr(t,n,r){void 0===r&&(r={});var i=Z(t),o=Z(n);return o[0]+=o[0]-i[0]>180?-360:i[0]-o[0]>180?360:0,S(function(t,n,r){var i=r=void 0===r?e:Number(r),o=t[1]*Math.PI/180,s=n[1]*Math.PI/180,a=s-o,u=Math.abs(n[0]-t[0])*Math.PI/180;u>Math.PI&&(u-=2*Math.PI);var l=Math.log(Math.tan(s/2+Math.PI/4)/Math.tan(o/2+Math.PI/4)),c=Math.abs(l)>1e-11?a/l:Math.cos(o);return Math.sqrt(a*a+c*c*u*u)*i}(i,o),\"meters\",r.units)}function dr(t,e,n){if(void 0===n&&(n={}),n.method||(n.method=\"geodesic\"),n.units||(n.units=\"kilometers\"),!t)throw new Error(\"pt is required\");if(Array.isArray(t)?t=a(t):\"Point\"===t.type?t=o(t):et(t,\"Point\",\"point\"),!e)throw new Error(\"line is required\");Array.isArray(e)?e=h(e):\"LineString\"===e.type?e=o(e):et(e,\"LineString\",\"line\");var r=1/0,i=t.geometry.coordinates;return q(e,(function(t){var e=t.geometry.coordinates[0],o=t.geometry.coordinates[1],s=function(t,e,n,r){var i=[n[0]-e[0],n[1]-e[1]],o=gr([t[0]-e[0],t[1]-e[1]],i);if(o<=0)return yr(t,e,{method:r.method,units:\"degrees\"});var s=gr(i,i);if(s<=o)return yr(t,n,{method:r.method,units:\"degrees\"});var a=o/s;return yr(t,[e[0]+a*i[0],e[1]+a*i[1]],{method:r.method,units:\"degrees\"})}(i,e,o,n);s<r&&(r=s)})),S(r,\"degrees\",n.units)}function gr(t,e){return t[0]*e[0]+t[1]*e[1]}function yr(t,e,n){return\"planar\"===n.method?fr(t,e,n):ye(t,e,n)}function vr(t,e,n,r,i,o,s,a){var u,l,c,h,p={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(u=(a-o)*(n-t)-(s-i)*(r-e))?null!==p.x&&null!==p.y&&p:(h=(n-t)*(l=e-o)-(r-e)*(c=t-i),l=((s-i)*l-(a-o)*c)/u,c=h/u,p.x=t+l*(n-t),p.y=e+l*(r-e),l>=0&&l<=1&&(p.onLine1=!0),c>=0&&c<=1&&(p.onLine2=!0),!(!p.onLine1||!p.onLine2)&&[p.x,p.y])}function _r(t){for(var e=function(t){return\"FeatureCollection\"!==t.type?\"Feature\"!==t.type?f([o(t)]):f([t]):t}(t),n=ln(e),r=!1,i=0;!r&&i<e.features.length;){var s,u=e.features[i].geometry,l=!1;if(\"Point\"===u.type)n.geometry.coordinates[0]===u.coordinates[0]&&n.geometry.coordinates[1]===u.coordinates[1]&&(r=!0);else if(\"MultiPoint\"===u.type){var c=!1;for(s=0;!c&&s<u.coordinates.length;)n.geometry.coordinates[0]===u.coordinates[s][0]&&n.geometry.coordinates[1]===u.coordinates[s][1]&&(r=!0,c=!0),s++}else if(\"LineString\"===u.type)for(s=0;!l&&s<u.coordinates.length-1;)mr(n.geometry.coordinates[0],n.geometry.coordinates[1],u.coordinates[s][0],u.coordinates[s][1],u.coordinates[s+1][0],u.coordinates[s+1][1])&&(l=!0,r=!0),s++;else if(\"MultiLineString\"===u.type)for(var h=0;h<u.coordinates.length;){l=!1,s=0;for(var p=u.coordinates[h];!l&&s<p.length-1;)mr(n.geometry.coordinates[0],n.geometry.coordinates[1],p[s][0],p[s][1],p[s+1][0],p[s+1][1])&&(l=!0,r=!0),s++;h++}else\"Polygon\"!==u.type&&\"MultiPolygon\"!==u.type||fe(n,u)&&(r=!0);i++}if(r)return n;var d=f([]);for(i=0;i<e.features.length;i++)d.features=d.features.concat(hn(e.features[i]).features);return a(kn(n,d).geometry.coordinates)}function mr(t,e,n,r,i,o){return Math.sqrt((i-n)*(i-n)+(o-r)*(o-r))===Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))+Math.sqrt((i-t)*(i-t)+(o-e)*(o-e))}function br(t){return B(t,(function(t,e){return t+function(t){var e,n=0;switch(t.type){case\"Polygon\":return xr(t.coordinates);case\"MultiPolygon\":for(e=0;e<t.coordinates.length;e++)n+=xr(t.coordinates[e]);return n;case\"Point\":case\"MultiPoint\":case\"LineString\":case\"MultiLineString\":return 0}return 0}(e)}),0)}function xr(t){var e=0;if(t&&t.length>0){e+=Math.abs(wr(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(wr(t[n]))}return e}function wr(t){var e,n,r,i,o,s,a=0,u=t.length;if(u>2){for(s=0;s<u;s++)s===u-2?(r=u-2,i=u-1,o=0):s===u-1?(r=u-1,i=0,o=1):(r=s,i=s+1,o=s+2),e=t[r],n=t[i],a+=(Er(t[o][0])-Er(e[0]))*Math.sin(Er(n[1]));a=6378137*a*6378137/2}return a}function Er(t){return t*Math.PI/180}function Cr(t,e){return void 0===e&&(e={}),U(t,(function(t,n){var r=n.geometry.coordinates;return t+ye(r[0],r[1],e)}),0)}function Sr(t,e,n,r){if(!I(r=r||{}))throw new Error(\"options is invalid\");var i,o=[];if(\"Feature\"===t.type)i=t.geometry.coordinates;else{if(\"LineString\"!==t.type)throw new Error(\"input must be a LineString Feature or Geometry\");i=t.coordinates}for(var s,a,u,l=i.length,c=0,p=0;p<i.length&&!(e>=c&&p===i.length-1);p++){if(c>e&&0===o.length){if(!(s=e-c))return o.push(i[p]),h(o);a=un(i[p],i[p-1])-180,u=sn(i[p],s,a,r),o.push(u.geometry.coordinates)}if(c>=n)return(s=n-c)?(a=un(i[p],i[p-1])-180,u=sn(i[p],s,a,r),o.push(u.geometry.coordinates),h(o)):(o.push(i[p]),h(o));if(c>=e&&o.push(i[p]),p===i.length-1)return h(o);c+=ye(i[p],i[p+1],r)}if(c<e&&i.length===l)throw new Error(\"Start position is beyond line\");var f=i[i.length-1];return h([f,f])}function Or(t,e,n){void 0===n&&(n={});for(var r=Z(t),i=J(e),o=0;o<i.length-1;o++){var s=!1;if(n.ignoreEndVertices&&(0===o&&(s=\"start\"),o===i.length-2&&(s=\"end\"),0===o&&o+1===i.length-1&&(s=\"both\")),Pr(i[o],i[o+1],r,s,void 0===n.epsilon?null:n.epsilon))return!0}return!1}function Pr(t,e,n,r,i){var o=n[0],s=n[1],a=t[0],u=t[1],l=e[0],c=e[1],h=l-a,p=c-u,f=(n[0]-a)*p-(n[1]-u)*h;if(null!==i){if(Math.abs(f)>i)return!1}else if(0!==f)return!1;return r?\"start\"===r?Math.abs(h)>=Math.abs(p)?h>0?a<o&&o<=l:l<=o&&o<a:p>0?u<s&&s<=c:c<=s&&s<u:\"end\"===r?Math.abs(h)>=Math.abs(p)?h>0?a<=o&&o<l:l<o&&o<=a:p>0?u<=s&&s<c:c<s&&s<=u:\"both\"===r&&(Math.abs(h)>=Math.abs(p)?h>0?a<o&&o<l:l<o&&o<a:p>0?u<s&&s<c:c<s&&s<u):Math.abs(h)>=Math.abs(p)?h>0?a<=o&&o<=l:l<=o&&o<=a:p>0?u<=s&&s<=c:c<=s&&s<=u}function Ir(t,e){var n=rt(t),r=rt(e),i=n.type,o=r.type;switch(i){case\"Point\":switch(o){case\"MultiPoint\":return function(t,e){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(Mr(e.coordinates[n],t.coordinates)){r=!0;break}return r}(n,r);case\"LineString\":return Or(n,r,{ignoreEndVertices:!0});case\"Polygon\":case\"MultiPolygon\":return fe(n,r,{ignoreBoundary:!0});default:throw new Error(\"feature2 \"+o+\" geometry not supported\")}case\"MultiPoint\":switch(o){case\"MultiPoint\":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,i=0;i<e.coordinates.length;i++)Mr(t.coordinates[n],e.coordinates[i])&&(r=!0);if(!r)return!1}return!0}(n,r);case\"LineString\":return function(t,e){for(var n=!1,r=0;r<t.coordinates.length;r++){if(!Or(t.coordinates[r],e))return!1;n||(n=Or(t.coordinates[r],e,{ignoreEndVertices:!0}))}return n}(n,r);case\"Polygon\":case\"MultiPolygon\":return function(t,e){for(var n=!0,r=!1,i=0;i<t.coordinates.length;i++){if(!(r=fe(t.coordinates[1],e))){n=!1;break}r=fe(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&r}(n,r);default:throw new Error(\"feature2 \"+o+\" geometry not supported\")}case\"LineString\":switch(o){case\"LineString\":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!Or(t.coordinates[n],e))return!1;return!0}(n,r);case\"Polygon\":case\"MultiPolygon\":return function(t,e){if(!Tr(K(e),K(t)))return!1;for(var n=!1,r=0;r<t.coordinates.length-1;r++){if(!fe(t.coordinates[r],e))return!1;n||(n=fe(t.coordinates[r],e,{ignoreBoundary:!0})),n||(n=fe(Ar(t.coordinates[r],t.coordinates[r+1]),e,{ignoreBoundary:!0}))}return n}(n,r);default:throw new Error(\"feature2 \"+o+\" geometry not supported\")}case\"Polygon\":switch(o){case\"Polygon\":case\"MultiPolygon\":return function(t,e){var n=K(t);if(!Tr(K(e),n))return!1;for(var r=0;r<t.coordinates[0].length;r++)if(!fe(t.coordinates[0][r],e))return!1;return!0}(n,r);default:throw new Error(\"feature2 \"+o+\" geometry not supported\")}default:throw new Error(\"feature1 \"+i+\" geometry not supported\")}}function Tr(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function Mr(t,e){return t[0]===e[0]&&t[1]===e[1]}function Ar(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}function Lr(t,e,n){void 0===n&&(n={}),n.mask&&!n.units&&(n.units=\"kilometers\");for(var r=[],i=t[0],o=t[1],s=t[2],u=t[3],l=e/ye([i,o],[s,o],n)*(s-i),c=e/ye([i,o],[i,u],n)*(u-o),h=s-i,p=u-o,d=Math.floor(h/l),g=(p-Math.floor(p/c)*c)/2,y=i+(h-d*l)/2;y<=s;){for(var v=o+g;v<=u;){var _=a([y,v],n.properties);n.mask?Ir(_,n.mask)&&r.push(_):r.push(_),v+=c}y+=l}return f(r)}function Rr(t,e){void 0===e&&(e={});var n=e.precision,r=e.coordinates,i=e.mutate;if(n=null==n||isNaN(n)?6:n,r=null==r||isNaN(r)?3:r,!t)throw new Error(\"<geojson> is required\");if(\"number\"!=typeof n)throw new Error(\"<precision> must be a number\");if(\"number\"!=typeof r)throw new Error(\"<coordinates> must be a number\");!1!==i&&void 0!==i||(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,n);return L(t,(function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var r=0;r<t.length;r++)t[r]=Math.round(t[r]*e)/e}(t,o,r)})),t}function Nr(t){if(!t)throw new Error(\"geojson is required\");var e=[];return z(t,(function(t){e.push(t)})),f(e)}function Fr(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!Fr(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function jr(t){if(\"Feature\"!=t.type)throw new Error(\"The input must a geojson object of type Feature\");if(void 0===t.geometry||null==t.geometry)throw new Error(\"The input must a geojson object with a non-empty geometry\");if(\"Polygon\"!=t.geometry.type)throw new Error(\"The input must be a geojson Polygon\");for(var e=t.geometry.coordinates.length,n=[],r=0;r<e;r++){var i=t.geometry.coordinates[r];zr(i[0],i[i.length-1])||i.push(i[0]),n.push.apply(n,i.slice(0,i.length-1))}if(!function(t){for(var e={},n=1,r=0,i=t.length;r<i;++r){if(Object.prototype.hasOwnProperty.call(e,t[r])){n=0;break}e[t[r]]=1}return n}(n))throw new Error(\"The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)\");var o=n.length,s=function(t,e,n){if(\"Polygon\"!==t.geometry.type)throw new Error(\"The input feature must be a Polygon\");void 0===n&&(n=1);var r=t.geometry.coordinates,i=[],o={};if(n){for(var s=[],a=0;a<r.length;a++)for(var u=0;u<r[a].length-1;u++)s.push(g(a,u));var l=Et();l.load(s)}for(var c=0;c<r.length;c++)for(var h=0;h<r[c].length-1;h++)if(n)l.search(g(c,h)).forEach((function(t){var e=t.ring,n=t.edge;d(c,h,e,n)}));else for(var p=0;p<r.length;p++)for(var f=0;f<r[p].length-1;f++)d(c,h,p,f);return e||(i={type:\"Feature\",geometry:{type:\"MultiPoint\",coordinates:i}}),i;function d(t,n,s,a){var u,l,c=r[t][n],h=r[t][n+1],p=r[s][a],f=r[s][a+1],d=function(t,e,n,r){if(Fr(t,n)||Fr(t,r)||Fr(e,n)||Fr(r,n))return null;var i=t[0],o=t[1],s=e[0],a=e[1],u=n[0],l=n[1],c=r[0],h=r[1],p=(i-s)*(l-h)-(o-a)*(u-c);return 0===p?null:[((i*a-o*s)*(u-c)-(i-s)*(u*h-l*c))/p,((i*a-o*s)*(l-h)-(o-a)*(u*h-l*c))/p]}(c,h,p,f);if(null!==d&&(u=h[0]!==c[0]?(d[0]-c[0])/(h[0]-c[0]):(d[1]-c[1])/(h[1]-c[1]),l=f[0]!==p[0]?(d[0]-p[0])/(f[0]-p[0]):(d[1]-p[1])/(f[1]-p[1]),!(u>=1||u<=0||l>=1||l<=0))){var g=d,y=!o[g];y&&(o[g]=!0),e?i.push(e(d,t,n,c,h,u,s,a,p,f,l,y)):i.push(d)}}function g(t,e){var n,i,o,s,a=r[t][e],u=r[t][e+1];return a[0]<u[0]?(n=a[0],i=u[0]):(n=u[0],i=a[0]),a[1]<u[1]?(o=a[1],s=u[1]):(o=u[1],s=a[1]),{minX:n,minY:o,maxX:i,maxY:s,ring:t,edge:e}}}(t,(function(t,e,n,r,i,o,s,a,u,l,c,h){return[t,e,n,r,i,o,s,a,u,l,c,h]})),a=s.length;if(0==a){var u=[];for(r=0;r<e;r++)u.push(l([t.geometry.coordinates[r]],{parent:-1,winding:Br(t.geometry.coordinates[r])}));var c=f(u);return k(),G(),c}var h=[],p=[];for(r=0;r<e;r++){h.push([]);for(var d=0;d<t.geometry.coordinates[r].length-1;d++)h[r].push([new Dr(t.geometry.coordinates[r][Vr(d+1,t.geometry.coordinates[r].length-1)],1,[r,d],[r,Vr(d+1,t.geometry.coordinates[r].length-1)],void 0)]),p.push(new kr(t.geometry.coordinates[r][d],[r,Vr(d-1,t.geometry.coordinates[r].length-1)],[r,d],void 0,void 0,!1,!0))}for(r=0;r<a;r++)h[s[r][1]][s[r][2]].push(new Dr(s[r][0],s[r][5],[s[r][1],s[r][2]],[s[r][6],s[r][7]],void 0)),s[r][11]&&p.push(new kr(s[r][0],[s[r][1],s[r][2]],[s[r][6],s[r][7]],void 0,void 0,!0,!0));var g=p.length;for(r=0;r<h.length;r++)for(d=0;d<h[r].length;d++)h[r][d].sort((function(t,e){return t.param<e.param?-1:1}));var y=[];for(r=0;r<g;r++)y.push({minX:p[r].coord[0],minY:p[r].coord[1],maxX:p[r].coord[0],maxY:p[r].coord[1],index:r});var v=Et();for(v.load(y),r=0;r<h.length;r++)for(d=0;d<h[r].length;d++)for(var _=0;_<h[r][d].length;_++){b=_==h[r][d].length-1?h[r][Vr(d+1,t.geometry.coordinates[r].length-1)][0].coord:h[r][d][_+1].coord;var m=v.search({minX:b[0],minY:b[1],maxX:b[0],maxY:b[1]})[0];h[r][d][_].nxtIsectAlongEdgeIn=m.index}for(r=0;r<h.length;r++)for(d=0;d<h[r].length;d++)for(_=0;_<h[r][d].length;_++){var b=h[r][d][_].coord,x=(m=v.search({minX:b[0],minY:b[1],maxX:b[0],maxY:b[1]})[0]).index;x<o?p[x].nxtIsectAlongRingAndEdge2=h[r][d][_].nxtIsectAlongEdgeIn:zr(p[x].ringAndEdge1,h[r][d][_].ringAndEdgeIn)?p[x].nxtIsectAlongRingAndEdge1=h[r][d][_].nxtIsectAlongEdgeIn:p[x].nxtIsectAlongRingAndEdge2=h[r][d][_].nxtIsectAlongEdgeIn}var w=[];for(r=0,d=0;d<e;d++){var E=r;for(_=0;_<t.geometry.coordinates[d].length-1;_++)p[r].coord[0]<p[E].coord[0]&&(E=r),r++;var C=p[E].nxtIsectAlongRingAndEdge2;for(_=0;_<p.length;_++)if(p[_].nxtIsectAlongRingAndEdge1==E||p[_].nxtIsectAlongRingAndEdge2==E){var S=_;break}var O=Gr([p[S].coord,p[E].coord,p[C].coord],!0)?1:-1;w.push({isect:E,parent:-1,winding:O})}for(w.sort((function(t,e){return p[t.isect].coord>p[e.isect].coord?-1:1})),u=[];w.length>0;){var P=w.pop(),I=P.isect,T=P.parent,M=P.winding,A=u.length,L=[p[I].coord],R=I;if(p[I].ringAndEdge1Walkable)var N=p[I].ringAndEdge1,F=p[I].nxtIsectAlongRingAndEdge1;else N=p[I].ringAndEdge2,F=p[I].nxtIsectAlongRingAndEdge2;for(;!zr(p[I].coord,p[F].coord);){L.push(p[F].coord);var j=void 0;for(r=0;r<w.length;r++)if(w[r].isect==F){j=r;break}if(null!=j&&w.splice(j,1),zr(N,p[F].ringAndEdge1)){if(N=p[F].ringAndEdge2,p[F].ringAndEdge2Walkable=!1,p[F].ringAndEdge1Walkable){var D={isect:F};Gr([p[R].coord,p[F].coord,p[p[F].nxtIsectAlongRingAndEdge2].coord],1==M)?(D.parent=T,D.winding=-M):(D.parent=A,D.winding=M),w.push(D)}R=F,F=p[F].nxtIsectAlongRingAndEdge2}else N=p[F].ringAndEdge1,p[F].ringAndEdge1Walkable=!1,p[F].ringAndEdge2Walkable&&(D={isect:F},Gr([p[R].coord,p[F].coord,p[p[F].nxtIsectAlongRingAndEdge1].coord],1==M)?(D.parent=T,D.winding=-M):(D.parent=A,D.winding=M),w.push(D)),R=F,F=p[F].nxtIsectAlongRingAndEdge1}L.push(p[F].coord),u.push(l([L],{index:A,parent:T,winding:M,netWinding:void 0}))}function k(){for(var t=[],e=0;e<c.features.length;e++)-1==c.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,r=0;r<c.features.length;r++)t[e]!=r&&fe(c.features[t[e]].geometry.coordinates[0][0],c.features[r],{ignoreBoundary:!0})&&br(c.features[r])<1/0&&(n=r);c.features[t[e]].properties.parent=n}}function G(){for(var t=0;t<c.features.length;t++)if(-1==c.features[t].properties.parent){var e=c.features[t].properties.winding;c.features[t].properties.netWinding=e,B(t,e)}}function B(t,e){for(var n=0;n<c.features.length;n++)if(c.features[n].properties.parent==t){var r=e+c.features[n].properties.winding;c.features[n].properties.netWinding=r,B(n,r)}}return c=f(u),k(),G(),c}ur.default=lr;var Dr=function(t,e,n,r,i){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=i},kr=function(t,e,n,r,i,o,s){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=i,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=s};function Gr(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error(\"This function requires an array of three points [x,y]\");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function Br(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(Gr([t[Vr(e-1,t.length-1)],t[e],t[Vr(e+1,t.length-1)]],!0))var r=1;else r=-1;return r}function zr(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!zr(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function Vr(t,e){return(t%e+e)%e}var qr=Math.PI/180,Ur=180/Math.PI,$r=function(t,e){this.lon=t,this.lat=e,this.x=qr*t,this.y=qr*e};$r.prototype.view=function(){return String(this.lon).slice(0,4)+\",\"+String(this.lat).slice(0,4)},$r.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new $r(e,t)};var Xr=function(){this.coords=[],this.length=0};Xr.prototype.move_to=function(t){this.length++,this.coords.push(t)};var Yr=function(t){this.properties=t||{},this.geometries=[]};Yr.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:\"LineString\",coordinates:null},type:\"Feature\",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:\"LineString\",coordinates:this.geometries[0].coords},type:\"Feature\",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:\"MultiLineString\",coordinates:t},type:\"Feature\",properties:this.properties}},Yr.prototype.wkt=function(){for(var t=\"\",e=\"LINESTRING(\",n=function(t){e+=t[0]+\" \"+t[1]+\",\"},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return\"LINESTRING(empty)\";this.geometries[r].coords.forEach(n),t+=e.substring(0,e.length-1)+\")\"}return t};var Wr=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error(\"GreatCircle constructor expects two args: start and end objects with x and y properties\");if(!e||void 0===e.x||void 0===e.y)throw new Error(\"GreatCircle constructor expects two args: start and end objects with x and y properties\");this.start=new $r(t.x,t.y),this.end=new $r(e.x,e.y),this.properties=n||{};var r=this.start.x-this.end.x,i=this.start.y-this.end.y,o=Math.pow(Math.sin(i/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error(\"it appears \"+t.view()+\" and \"+e.view()+\" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite\");if(isNaN(this.g))throw new Error(\"could not calculate great circle between \"+t+\" and \"+e)};function Hr(t,e){var n=[],r=ur();return z(e,(function(e){if(n.forEach((function(t,e){t.id=e})),n.length){var i=r.search(e);if(i.features.length){var o=Zr(e,i);n=n.filter((function(t){return t.id!==o.id})),r.remove(o),j(Kr(o,e),(function(t){n.push(t),r.insert(t)}))}}else(n=Kr(t,e).features).forEach((function(t){t.bbox||(t.bbox=on(K(t)))})),r.load(f(n))})),f(n)}function Kr(t,e){var n=[],r=J(t)[0],i=J(t)[t.geometry.coordinates.length-1];if(Jr(r,Z(e))||Jr(i,Z(e)))return f([t]);var o=ur(),s=Gn(t);o.load(s);var a=o.search(e);if(!a.features.length)return f([t]);var u=Zr(e,a),l=D(s,(function(t,r,i){var o=J(r)[1],s=Z(e);return i===u.id?(t.push(s),n.push(h(t)),Jr(s,o)?[s]:[s,o]):(t.push(o),t)}),[r]);return l.length>1&&n.push(h(l)),f(n)}function Zr(t,e){if(!e.features.length)throw new Error(\"lines must contain features\");if(1===e.features.length)return e.features[0];var n,r=1/0;return j(e,(function(e){var i=pr(e,t).properties.dist;i<r&&(n=e,r=i)})),n}function Jr(t,e){return t[0]===e[0]&&t[1]===e[1]}function Qr(t,e,n,r,i){void 0===i&&(i={});var o=i.steps||64,s=ti(n),a=ti(r),u=Array.isArray(t)||\"Feature\"!==t.type?{}:t.properties;if(s===a)return h(an(t,e,i).geometry.coordinates[0],u);for(var l=s,c=s<a?a:a+360,p=l,f=[],d=0;p<c;)f.push(sn(t,e,p,i).geometry.coordinates),p=l+360*++d/o;return p>c&&f.push(sn(t,e,c,i).geometry.coordinates),h(f,u)}function ti(t){var e=t%360;return e<0&&(e+=360),e}function ei(t,e){void 0===e&&(e={});var n=rt(t);switch(e.properties||\"Feature\"!==t.type||(e.properties=t.properties),n.type){case\"Polygon\":return ni(n,e);case\"MultiPolygon\":return function(t,e){void 0===e&&(e={});var n=rt(t).coordinates,r=e.properties?e.properties:\"Feature\"===t.type?t.properties:{},i=[];return n.forEach((function(t){i.push(ri(t,r))})),f(i)}(n,e);default:throw new Error(\"invalid poly\")}}function ni(t,e){return void 0===e&&(e={}),ri(rt(t).coordinates,e.properties?e.properties:\"Feature\"===t.type?t.properties:{})}function ri(t,e){return t.length>1?d(t,e):h(t[0],e)}function ii(t,e){var n,r,i;void 0===e&&(e={});var o=e.properties,s=null===(n=e.autoComplete)||void 0===n||n,a=null===(r=e.orderCoords)||void 0===r||r;switch(null!==(i=e.mutate)&&void 0!==i&&i||(t=xe(t)),t.type){case\"FeatureCollection\":var u=[];return t.features.forEach((function(t){u.push(J(oi(t,{},s,a)))})),y(u,o);default:return oi(t,o,s,a)}}function oi(t,e,n,r){e=e||(\"Feature\"===t.type?t.properties:{});var i=rt(t),o=i.coordinates,s=i.type;if(!o.length)throw new Error(\"line must contain coordinates\");switch(s){case\"LineString\":return n&&(o=si(o)),l([o],e);case\"MultiLineString\":var a=[],u=0;return o.forEach((function(t){if(n&&(t=si(t)),r){var e=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.abs(e-r)*Math.abs(n-i)}(K(h(t)));e>u?(a.unshift(t),u=e):a.push(t)}else a.push(t)})),l(a,e);default:throw new Error(\"geometry type \"+s+\" is not supported\")}}function si(t){var e=t[0],n=e[0],r=e[1],i=t[t.length-1],o=i[0],s=i[1];return n===o&&r===s||t.push(e),t}function ai(t,e){var n,r,i,o,s,a,u;for(r=1;r<=8;r*=2){for(n=[],o=!(li(i=t[t.length-1],e)&r),s=0;s<t.length;s++)(u=!(li(a=t[s],e)&r))!==o&&n.push(ui(i,a,r,e)),u&&n.push(a),i=a,o=u;if(!(t=n).length)break}return n}function ui(t,e,n,r){return 8&n?[t[0]+(e[0]-t[0])*(r[3]-t[1])/(e[1]-t[1]),r[3]]:4&n?[t[0]+(e[0]-t[0])*(r[1]-t[1])/(e[1]-t[1]),r[1]]:2&n?[r[2],t[1]+(e[1]-t[1])*(r[2]-t[0])/(e[0]-t[0])]:1&n?[r[0],t[1]+(e[1]-t[1])*(r[0]-t[0])/(e[0]-t[0])]:null}function li(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function ci(t,e){for(var n=[],r=0,i=t;r<i.length;r++){var o=ai(i[r],e);o.length>0&&(o[0][0]===o[o.length-1][0]&&o[0][1]===o[o.length-1][1]||o.push(o[0]),o.length>=4&&n.push(o))}return n}Wr.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),r=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),s=Ur*Math.atan2(o,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[Ur*Math.atan2(i,r),s]},Wr.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(t-1),i=0;i<t;++i){var o=r*i,s=this.interpolate(o);n.push(s)}for(var a=!1,u=0,l=e&&e.offset?e.offset:10,c=180-l,h=-180+l,p=360-l,f=1;f<n.length;++f){var d=n[f-1][0],g=n[f][0],y=Math.abs(g-d);y>p&&(g>c&&d<h||d>c&&g<h)?a=!0:y>u&&(u=y)}var v=[];if(a&&u<l){var _=[];v.push(_);for(var m=0;m<n.length;++m){var b=parseFloat(n[m][0]);if(m>0&&Math.abs(b-n[m-1][0])>p){var x=parseFloat(n[m-1][0]),w=parseFloat(n[m-1][1]),E=parseFloat(n[m][0]),C=parseFloat(n[m][1]);if(x>-180&&x<h&&180===E&&m+1<n.length&&n[m-1][0]>-180&&n[m-1][0]<h){_.push([-180,n[m][1]]),m++,_.push([n[m][0],n[m][1]]);continue}if(x>c&&x<180&&-180===E&&m+1<n.length&&n[m-1][0]>c&&n[m-1][0]<180){_.push([180,n[m][1]]),m++,_.push([n[m][0],n[m][1]]);continue}if(x<h&&E>c){var S=x;x=E,E=S;var O=w;w=C,C=O}if(x>c&&E<h&&(E+=360),x<=180&&E>=180&&x<E){var P=(180-x)/(E-x),I=P*C+(1-P)*w;_.push([n[m-1][0]>c?180:-180,I]),(_=[]).push([n[m-1][0]>c?-180:180,I]),v.push(_)}else _=[],v.push(_);_.push([b,n[m][1]])}else _.push([n[m][0],n[m][1]])}}else{var T=[];v.push(T);for(var M=0;M<n.length;++M)T.push([n[M][0],n[M][1]])}for(var A=new Yr(this.properties),L=0;L<v.length;++L){var R=new Xr;A.geometries.push(R);for(var N=v[L],F=0;F<N.length;++F)R.move_to(N[F])}return A};var hi=kt((function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports=\"function\"==typeof Object.keys?Object.keys:n).shim=n})),pi=kt((function(t,e){var n=\"[object Arguments]\"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return\"[object Arguments]\"==Object.prototype.toString.call(t)}function i(t){return t&&\"object\"==typeof t&&\"number\"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,\"callee\")&&!Object.prototype.propertyIsEnumerable.call(t,\"callee\")||!1}(e=t.exports=n?r:i).supported=r,e.unsupported=i})),fi=kt((function(t){var e=Array.prototype.slice,n=t.exports=function(t,o,s){return s||(s={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||\"object\"!=typeof t&&\"object\"!=typeof o?s.strict?t===o:t==o:function(t,o,s){var a,u;if(r(t)||r(o))return!1;if(t.prototype!==o.prototype)return!1;if(pi(t))return!!pi(o)&&(t=e.call(t),o=e.call(o),n(t,o,s));if(i(t)){if(!i(o))return!1;if(t.length!==o.length)return!1;for(a=0;a<t.length;a++)if(t[a]!==o[a])return!1;return!0}try{var l=hi(t),c=hi(o)}catch(t){return!1}if(l.length!=c.length)return!1;for(l.sort(),c.sort(),a=l.length-1;a>=0;a--)if(l[a]!=c[a])return!1;for(a=l.length-1;a>=0;a--)if(u=l[a],!n(t[u],o[u],s))return!1;return typeof t==typeof o}(t,o,s))};function r(t){return null==t}function i(t){return!(!t||\"object\"!=typeof t||\"number\"!=typeof t.length||\"function\"!=typeof t.copy||\"function\"!=typeof t.slice||t.length>0&&\"number\"!=typeof t[0])}}));function di(t,e,n){if(void 0===n&&(n={}),!I(n=n||{}))throw new Error(\"options is invalid\");var r,i=n.tolerance||0,o=[],s=ur(),a=Gn(t);return s.load(a),q(e,(function(t){var e=!1;t&&(j(s.search(t),(function(n){if(!1===e){var o=J(t).sort(),s=J(n).sort();fi(o,s)||(0===i?Or(o[0],n)&&Or(o[1],n):pr(n,o[0]).properties.dist<=i&&pr(n,o[1]).properties.dist<=i)?(e=!0,r=r?gi(r,t):t):(0===i?Or(s[0],t)&&Or(s[1],t):pr(t,s[0]).properties.dist<=i&&pr(t,s[1]).properties.dist<=i)&&(r=r?gi(r,n):n)}})),!1===e&&r&&(o.push(r),r=void 0))})),r&&o.push(r),f(o)}function gi(t,e){var n=J(e),r=J(t),i=r[0],o=r[r.length-1],s=t.geometry.coordinates;return fi(n[0],i)?s.unshift(n[1]):fi(n[0],o)?s.push(n[1]):fi(n[1],i)?s.unshift(n[0]):fi(n[1],o)&&s.push(n[0]),t}function yi(t){var e=t%360;return e<0&&(e+=360),e}function vi(t,e,n){var r;return void 0===n&&(n={}),(r=n.final?_i(Z(e),Z(t)):_i(Z(t),Z(e)))>180?-(360-r):r}function _i(t,e){var n=C(t[1]),r=C(e[1]),i=C(e[0]-t[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var o=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(E(Math.atan2(i,o))+360)%360}function mi(t,n,r,i){void 0===i&&(i={});var o=n<0,s=S(Math.abs(n),i.units,\"meters\");o&&(s=-Math.abs(s));var u=Z(t),l=function(t,n,r,i){var o=n/(i=void 0===i?e:Number(i)),s=t[0]*Math.PI/180,a=C(t[1]),u=C(r),l=o*Math.cos(u),c=a+l;Math.abs(c)>Math.PI/2&&(c=c>0?Math.PI-c:-Math.PI-c);var h=Math.log(Math.tan(c/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),p=Math.abs(h)>1e-11?l/h:Math.cos(a);return[(180*(s+o*Math.sin(u)/p)/Math.PI+540)%360-180,180*c/Math.PI]}(u,s,r);return l[0]+=l[0]-u[0]>180?-360:u[0]-l[0]>180?360:0,a(l,i.properties)}function bi(t,e,n,r,i,o){for(var s=0;s<t.length;s++){var a=t[s],u=t[s+1];s===t.length-1&&(u=t[0]),r=wi(a,u,e),n<=0&&r>0?wi(e,a,i)<0||(i=a):n>0&&r<=0&&(xi(e,a,o)||(o=a)),n=r}return[i,o]}function xi(t,e,n){return wi(t,e,n)>0}function wi(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function Ei(t){for(var e,n,r=J(t),i=0,o=1;o<r.length;)e=n||r[0],i+=((n=r[o])[0]-e[0])*(n[1]+e[1]),o++;return i>0}function Ci(t,e){switch(\"Feature\"===t.type?t.geometry.type:t.type){case\"GeometryCollection\":return G(t,(function(t){Ci(t,e)})),t;case\"LineString\":return Si(J(t),e),t;case\"Polygon\":return Oi(J(t),e),t;case\"MultiLineString\":return J(t).forEach((function(t){Si(t,e)})),t;case\"MultiPolygon\":return J(t).forEach((function(t){Oi(t,e)})),t;case\"Point\":case\"MultiPoint\":return t}}function Si(t,e){Ei(t)===e&&t.reverse()}function Oi(t,e){Ei(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)Ei(t[n])===e&&t[n].reverse()}var Pi={successCallback:null,verbose:!1,polygons:!1},Ii={};function Ti(t,e,n,r){r=r||{};for(var i=Object.keys(Pi),o=0;o<i.length;o++){var s=i[o],a=r[s];a=null!=a?a:Pi[s],Ii[s]=a}Ii.verbose&&console.log(\"MarchingSquaresJS-isoBands: computing isobands for [\"+e+\":\"+(e+n)+\"]\");var u,l=function(t,e,n){for(var r=t.length-1,i=t[0].length-1,o={rows:r,cols:i,cells:[]},s=e+Math.abs(n),a=0;a<r;++a){o.cells[a]=[];for(var u=0;u<i;++u){var l=0,c=t[a+1][u],h=t[a+1][u+1],p=t[a][u+1],f=t[a][u];if(!(isNaN(c)||isNaN(h)||isNaN(p)||isNaN(f))){l|=c<e?0:c>s?128:64,l|=h<e?0:h>s?32:16,l|=p<e?0:p>s?8:4;var d=+(l|=f<e?0:f>s?2:1),g=0;if(17===l||18===l||33===l||34===l||38===l||68===l||72===l||98===l||102===l||132===l||136===l||137===l||152===l||153===l){var y=(c+h+p+f)/4;g=y>s?2:y<e?0:1,34===l?1===g?l=35:0===g&&(l=136):136===l?1===g?(l=35,g=4):0===g&&(l=34):17===l?1===g?(l=155,g=4):0===g&&(l=153):68===l?1===g?(l=103,g=4):0===g&&(l=102):153===l?1===g&&(l=155):102===l?1===g&&(l=103):152===l?g<2&&(l=156,g=1):137===l?g<2&&(l=139,g=1):98===l?g<2&&(l=99,g=1):38===l?g<2&&(l=39,g=1):18===l?g>0?(l=156,g=4):l=152:33===l?g>0?(l=139,g=4):l=137:72===l?g>0?(l=99,g=4):l=98:132===l&&(g>0?(l=39,g=4):l=38)}if(0!=l&&170!=l){var v,_,m,b,x,w,E,C;v=_=m=b=x=w=E=C=.5;var S=[];1===l?(m=1-_o(e,p,f),C=1-_o(e,c,f),S.push(ho[l])):169===l?(m=_o(s,f,p),C=_o(s,f,c),S.push(ho[l])):4===l?(w=1-_o(e,h,p),b=_o(e,f,p),S.push(lo[l])):166===l?(w=_o(s,p,h),b=1-_o(s,p,f),S.push(lo[l])):16===l?(x=_o(e,p,h),_=_o(e,c,h),S.push(uo[l])):154===l?(x=1-_o(s,h,p),_=1-_o(s,h,c),S.push(uo[l])):64===l?(E=_o(e,f,c),v=1-_o(e,h,c),S.push(fo[l])):106===l?(E=1-_o(s,c,f),v=_o(s,c,h),S.push(fo[l])):168===l?(b=_o(s,f,p),m=_o(e,f,p),C=_o(e,f,c),E=_o(s,f,c),S.push(co[l]),S.push(ho[l])):2===l?(b=1-_o(e,p,f),m=1-_o(s,p,f),C=1-_o(s,c,f),E=1-_o(e,c,f),S.push(co[l]),S.push(ho[l])):162===l?(x=_o(s,p,h),w=_o(e,p,h),b=1-_o(e,p,f),m=1-_o(s,p,f),S.push(co[l]),S.push(ho[l])):8===l?(x=1-_o(e,h,p),w=1-_o(s,h,p),b=_o(s,f,p),m=_o(e,f,p),S.push(uo[l]),S.push(lo[l])):138===l?(x=1-_o(e,h,p),w=1-_o(s,h,p),v=1-_o(s,h,c),_=1-_o(e,h,c),S.push(uo[l]),S.push(lo[l])):32===l?(x=_o(s,p,h),w=_o(e,p,h),v=_o(e,c,h),_=_o(s,c,h),S.push(uo[l]),S.push(lo[l])):42===l?(C=1-_o(s,c,f),E=1-_o(e,c,f),v=_o(e,c,h),_=_o(s,c,h),S.push(po[l]),S.push(fo[l])):128===l&&(C=_o(e,f,c),E=_o(s,f,c),v=1-_o(s,h,c),_=1-_o(e,h,c),S.push(po[l]),S.push(fo[l])),5===l?(w=1-_o(e,h,p),C=1-_o(e,c,f),S.push(lo[l])):165===l?(w=_o(s,p,h),C=_o(s,f,c),S.push(lo[l])):20===l?(b=_o(e,f,p),_=_o(e,c,h),S.push(co[l])):150===l?(b=1-_o(s,p,f),_=1-_o(s,h,c),S.push(co[l])):80===l?(x=_o(e,p,h),E=_o(e,f,c),S.push(uo[l])):90===l?(x=1-_o(s,h,p),E=1-_o(s,c,f),S.push(uo[l])):65===l?(m=1-_o(e,p,f),v=1-_o(e,h,c),S.push(ho[l])):105===l?(m=_o(s,f,p),v=_o(s,c,h),S.push(ho[l])):160===l?(x=_o(s,p,h),w=_o(e,p,h),C=_o(e,f,c),E=_o(s,f,c),S.push(uo[l]),S.push(lo[l])):10===l?(x=1-_o(e,h,p),w=1-_o(s,h,p),C=1-_o(s,c,f),E=1-_o(e,c,f),S.push(uo[l]),S.push(lo[l])):130===l?(b=1-_o(e,p,f),m=1-_o(s,p,f),v=1-_o(s,h,c),_=1-_o(e,h,c),S.push(co[l]),S.push(ho[l])):40===l?(b=_o(s,f,p),m=_o(e,f,p),v=_o(e,c,h),_=_o(s,c,h),S.push(co[l]),S.push(ho[l])):101===l?(w=_o(s,p,h),v=_o(s,c,h),S.push(lo[l])):69===l?(w=1-_o(e,h,p),v=1-_o(e,h,c),S.push(lo[l])):149===l?(C=_o(s,f,c),_=1-_o(s,h,c),S.push(po[l])):21===l?(C=1-_o(e,c,f),_=_o(e,c,h),S.push(po[l])):86===l?(b=1-_o(s,p,f),E=1-_o(s,c,f),S.push(co[l])):84===l?(b=_o(e,f,p),E=_o(e,f,c),S.push(co[l])):89===l?(x=1-_o(s,h,p),m=_o(s,f,p),S.push(ho[l])):81===l?(x=_o(e,p,h),m=1-_o(e,p,f),S.push(ho[l])):96===l?(x=_o(s,p,h),w=_o(e,p,h),E=_o(e,f,c),v=_o(s,c,h),S.push(uo[l]),S.push(lo[l])):74===l?(x=1-_o(e,h,p),w=1-_o(s,h,p),E=1-_o(s,c,f),v=1-_o(e,h,c),S.push(uo[l]),S.push(lo[l])):24===l?(x=1-_o(s,h,p),b=_o(s,f,p),m=_o(e,f,p),_=_o(e,c,h),S.push(uo[l]),S.push(ho[l])):146===l?(x=_o(e,p,h),b=1-_o(e,p,f),m=1-_o(s,p,f),_=1-_o(s,h,c),S.push(uo[l]),S.push(ho[l])):6===l?(w=1-_o(e,h,p),b=1-_o(s,p,f),C=1-_o(s,c,f),E=1-_o(e,c,f),S.push(lo[l]),S.push(co[l])):164===l?(w=_o(s,p,h),b=_o(e,f,p),C=_o(e,f,c),E=_o(s,f,c),S.push(lo[l]),S.push(co[l])):129===l?(m=1-_o(e,p,f),C=_o(s,f,c),v=1-_o(s,h,c),_=1-_o(e,h,c),S.push(ho[l]),S.push(po[l])):41===l?(m=_o(s,f,p),C=1-_o(e,c,f),v=_o(e,c,h),_=_o(s,c,h),S.push(ho[l]),S.push(po[l])):66===l?(b=1-_o(e,p,f),m=1-_o(s,p,f),E=1-_o(s,c,f),v=1-_o(e,h,c),S.push(co[l]),S.push(ho[l])):104===l?(b=_o(s,f,p),m=_o(e,f,p),E=_o(e,f,c),v=_o(s,c,h),S.push(ho[l]),S.push(go[l])):144===l?(x=_o(e,p,h),C=_o(e,f,c),E=_o(s,f,c),_=1-_o(s,h,c),S.push(uo[l]),S.push(fo[l])):26===l?(x=1-_o(s,h,p),C=1-_o(s,c,f),E=1-_o(e,c,f),_=_o(e,c,h),S.push(uo[l]),S.push(fo[l])):36===l?(w=_o(s,p,h),b=_o(e,f,p),v=_o(e,c,h),_=_o(s,c,h),S.push(lo[l]),S.push(co[l])):134===l?(w=1-_o(e,h,p),b=1-_o(s,p,f),v=1-_o(s,h,c),_=1-_o(e,h,c),S.push(lo[l]),S.push(co[l])):9===l?(x=1-_o(e,h,p),w=1-_o(s,h,p),m=_o(s,f,p),C=1-_o(e,c,f),S.push(uo[l]),S.push(lo[l])):161===l?(x=_o(s,p,h),w=_o(e,p,h),m=1-_o(e,p,f),C=_o(s,f,c),S.push(uo[l]),S.push(lo[l])):37===l?(w=_o(s,p,h),C=1-_o(e,c,f),v=_o(e,c,h),_=_o(s,c,h),S.push(lo[l]),S.push(po[l])):133===l?(w=1-_o(e,h,p),C=_o(s,f,c),v=1-_o(s,h,c),_=1-_o(e,h,c),S.push(lo[l]),S.push(po[l])):148===l?(b=_o(e,f,p),C=_o(e,f,c),E=_o(s,f,c),_=1-_o(s,h,c),S.push(co[l]),S.push(fo[l])):22===l?(b=1-_o(s,p,f),C=1-_o(s,c,f),E=1-_o(e,c,f),_=_o(e,c,h),S.push(co[l]),S.push(fo[l])):82===l?(x=_o(e,p,h),b=1-_o(e,p,f),m=1-_o(s,p,f),E=1-_o(s,c,f),S.push(uo[l]),S.push(ho[l])):88===l?(x=1-_o(s,h,p),b=_o(s,f,p),m=_o(e,f,p),E=_o(e,f,c),S.push(uo[l]),S.push(ho[l])):73===l?(x=1-_o(e,h,p),w=1-_o(s,h,p),m=_o(s,f,p),v=1-_o(e,h,c),S.push(uo[l]),S.push(lo[l])):97===l?(x=_o(s,p,h),w=_o(e,p,h),m=1-_o(e,p,f),v=_o(s,c,h),S.push(uo[l]),S.push(lo[l])):145===l?(x=_o(e,p,h),m=1-_o(e,p,f),C=_o(s,f,c),_=1-_o(s,h,c),S.push(uo[l]),S.push(po[l])):25===l?(x=1-_o(s,h,p),m=_o(s,f,p),C=1-_o(e,c,f),_=_o(e,c,h),S.push(uo[l]),S.push(po[l])):70===l?(w=1-_o(e,h,p),b=1-_o(s,p,f),E=1-_o(s,c,f),v=1-_o(e,h,c),S.push(lo[l]),S.push(co[l])):100===l?(w=_o(s,p,h),b=_o(e,f,p),E=_o(e,f,c),v=_o(s,c,h),S.push(lo[l]),S.push(co[l])):34===l?(0===g?(x=1-_o(e,h,p),w=1-_o(s,h,p),b=_o(s,f,p),m=_o(e,f,p),C=_o(e,f,c),E=_o(s,f,c),v=1-_o(s,h,c),_=1-_o(e,h,c)):(x=_o(s,p,h),w=_o(e,p,h),b=1-_o(e,p,f),m=1-_o(s,p,f),C=1-_o(s,c,f),E=1-_o(e,c,f),v=_o(e,c,h),_=_o(s,c,h)),S.push(uo[l]),S.push(lo[l]),S.push(po[l]),S.push(fo[l])):35===l?(4===g?(x=1-_o(e,h,p),w=1-_o(s,h,p),b=_o(s,f,p),m=_o(e,f,p),C=_o(e,f,c),E=_o(s,f,c),v=1-_o(s,h,c),_=1-_o(e,h,c)):(x=_o(s,p,h),w=_o(e,p,h),b=1-_o(e,p,f),m=1-_o(s,p,f),C=1-_o(s,c,f),E=1-_o(e,c,f),v=_o(e,c,h),_=_o(s,c,h)),S.push(uo[l]),S.push(lo[l]),S.push(ho[l]),S.push(fo[l])):136===l?(0===g?(x=_o(s,p,h),w=_o(e,p,h),b=1-_o(e,p,f),m=1-_o(s,p,f),C=1-_o(s,c,f),E=1-_o(e,c,f),v=_o(e,c,h),_=_o(s,c,h)):(x=1-_o(e,h,p),w=1-_o(s,h,p),b=_o(s,f,p),m=_o(e,f,p),C=_o(e,f,c),E=_o(s,f,c),v=1-_o(s,h,c),_=1-_o(e,h,c)),S.push(uo[l]),S.push(lo[l]),S.push(po[l]),S.push(fo[l])):153===l?(0===g?(x=_o(e,p,h),m=1-_o(e,p,f),C=1-_o(e,c,f),_=_o(e,c,h)):(x=1-_o(s,h,p),m=_o(s,f,p),C=_o(s,f,c),_=1-_o(s,h,c)),S.push(uo[l]),S.push(ho[l])):102===l?(0===g?(w=1-_o(e,h,p),b=_o(e,f,p),E=_o(e,f,c),v=1-_o(e,h,c)):(w=_o(s,p,h),b=1-_o(s,p,f),E=1-_o(s,c,f),v=_o(s,c,h)),S.push(lo[l]),S.push(fo[l])):155===l?(4===g?(x=_o(e,p,h),m=1-_o(e,p,f),C=1-_o(e,c,f),_=_o(e,c,h)):(x=1-_o(s,h,p),m=_o(s,f,p),C=_o(s,f,c),_=1-_o(s,h,c)),S.push(uo[l]),S.push(po[l])):103===l?(4===g?(w=1-_o(e,h,p),b=_o(e,f,p),E=_o(e,f,c),v=1-_o(e,h,c)):(w=_o(s,p,h),b=1-_o(s,p,f),E=1-_o(s,c,f),v=_o(s,c,h)),S.push(lo[l]),S.push(co[l])):152===l?(0===g?(x=_o(e,p,h),b=1-_o(e,p,f),m=1-_o(s,p,f),C=1-_o(s,c,f),E=1-_o(e,c,f),_=_o(e,c,h)):(x=1-_o(s,h,p),b=_o(s,f,p),m=_o(e,f,p),C=_o(e,f,c),E=_o(s,f,c),_=1-_o(s,h,c)),S.push(uo[l]),S.push(co[l]),S.push(ho[l])):156===l?(4===g?(x=_o(e,p,h),b=1-_o(e,p,f),m=1-_o(s,p,f),C=1-_o(s,c,f),E=1-_o(e,c,f),_=_o(e,c,h)):(x=1-_o(s,h,p),b=_o(s,f,p),m=_o(e,f,p),C=_o(e,f,c),E=_o(s,f,c),_=1-_o(s,h,c)),S.push(uo[l]),S.push(ho[l]),S.push(fo[l])):137===l?(0===g?(x=_o(s,p,h),w=_o(e,p,h),m=1-_o(e,p,f),C=1-_o(e,c,f),v=_o(e,c,h),_=_o(s,c,h)):(x=1-_o(e,h,p),w=1-_o(s,h,p),m=_o(s,f,p),C=_o(s,f,c),v=1-_o(s,h,c),_=1-_o(e,h,c)),S.push(uo[l]),S.push(lo[l]),S.push(ho[l])):139===l?(4===g?(x=_o(s,p,h),w=_o(e,p,h),m=1-_o(e,p,f),C=1-_o(e,c,f),v=_o(e,c,h),_=_o(s,c,h)):(x=1-_o(e,h,p),w=1-_o(s,h,p),m=_o(s,f,p),C=_o(s,f,c),v=1-_o(s,h,c),_=1-_o(e,h,c)),S.push(uo[l]),S.push(lo[l]),S.push(po[l])):98===l?(0===g?(x=1-_o(e,h,p),w=1-_o(s,h,p),b=_o(s,f,p),m=_o(e,f,p),E=_o(e,f,c),v=1-_o(e,h,c)):(x=_o(s,p,h),w=_o(e,p,h),b=1-_o(e,p,f),m=1-_o(s,p,f),E=1-_o(s,c,f),v=_o(s,c,h)),S.push(uo[l]),S.push(lo[l]),S.push(fo[l])):99===l?(4===g?(x=1-_o(e,h,p),w=1-_o(s,h,p),b=_o(s,f,p),m=_o(e,f,p),E=_o(e,f,c),v=1-_o(e,h,c)):(x=_o(s,p,h),w=_o(e,p,h),b=1-_o(e,p,f),m=1-_o(s,p,f),E=1-_o(s,c,f),v=_o(s,c,h)),S.push(uo[l]),S.push(lo[l]),S.push(ho[l])):38===l?(0===g?(w=1-_o(e,h,p),b=_o(e,f,p),C=_o(e,f,c),E=_o(s,f,c),v=1-_o(s,h,c),_=1-_o(e,h,c)):(w=_o(s,p,h),b=1-_o(s,p,f),C=1-_o(s,c,f),E=1-_o(e,c,f),v=_o(e,c,h),_=_o(s,c,h)),S.push(lo[l]),S.push(po[l]),S.push(fo[l])):39===l?(4===g?(w=1-_o(e,h,p),b=_o(e,f,p),C=_o(e,f,c),E=_o(s,f,c),v=1-_o(s,h,c),_=1-_o(e,h,c)):(w=_o(s,p,h),b=1-_o(s,p,f),C=1-_o(s,c,f),E=1-_o(e,c,f),v=_o(e,c,h),_=_o(s,c,h)),S.push(lo[l]),S.push(co[l]),S.push(fo[l])):85===l&&(x=1,w=0,b=1,m=0,C=0,E=1,v=0,_=1),(v<0||v>1||_<0||_>1||x<0||x>1||b<0||b>1||C<0||C>1||E<0||E>1)&&console.log(\"MarchingSquaresJS-isoBands: \"+l+\" \"+d+\" \"+c+\",\"+h+\",\"+p+\",\"+f+\" \"+g+\" \"+v+\" \"+_+\" \"+x+\" \"+w+\" \"+b+\" \"+m+\" \"+C+\" \"+E),o.cells[a][u]={cval:l,cval_real:d,flipped:g,topleft:v,topright:_,righttop:x,rightbottom:w,bottomright:b,bottomleft:m,leftbottom:C,lefttop:E,edges:S}}}}}return o}(t,e,n);return Ii.polygons?(Ii.verbose&&console.log(\"MarchingSquaresJS-isoBands: returning single polygons for each grid cell\"),u=function(t){var e=[],n=0;return t.cells.forEach((function(t,r){t.forEach((function(t,i){if(void 0!==t){var o=vo[t.cval](t);\"object\"==typeof o&&mo(o)?\"object\"==typeof o[0]&&mo(o[0])?\"object\"==typeof o[0][0]&&mo(o[0][0])?o.forEach((function(t){t.forEach((function(t){t[0]+=i,t[1]+=r})),e[n++]=t})):(o.forEach((function(t){t[0]+=i,t[1]+=r})),e[n++]=o):console.log(\"MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates\"):console.log(\"MarchingSquaresJS-isoBands: bandcell polygon with null coordinates\")}}))})),e}(l)):(Ii.verbose&&console.log(\"MarchingSquaresJS-isoBands: returning polygon paths for entire data grid\"),u=function(t){for(var e=[],n=t.rows,r=t.cols,i=[],o=0;o<n;o++)for(var s=0;s<r;s++)if(void 0!==t.cells[o][s]&&t.cells[o][s].edges.length>0){var a=xo(t.cells[o][s]),u=null,l=s,c=o;null!==a&&i.push([a.p[0]+l,a.p[1]+c]);do{if(null===(u=wo(t.cells[c][l],a.x,a.y,a.o)))break;if(i.push([u.p[0]+l,u.p[1]+c]),l+=u.x,a=u,(c+=u.y)<0||c>=n||l<0||l>=r||void 0===t.cells[c][l]){var h=bo(t,l-=u.x,c-=u.y,u.x,u.y,u.o);if(null===h)break;h.path.forEach((function(t){i.push(t)})),l=h.i,c=h.j,a=h}}while(void 0!==t.cells[c][l]&&t.cells[c][l].edges.length>0);e.push(i),i=[],t.cells[o][s].edges.length>0&&s--}return e}(l)),\"function\"==typeof Ii.successCallback&&Ii.successCallback(u),u}var Mi=[],Ai=[],Li=[],Ri=[],Ni=[],Fi=[],ji=[],Di=[],ki=[],Gi=[],Bi=[],zi=[],Vi=[],qi=[],Ui=[],$i=[],Xi=[],Yi=[],Wi=[],Hi=[],Ki=[],Zi=[],Ji=[],Qi=[];ji[85]=Gi[85]=-1,Di[85]=Bi[85]=0,ki[85]=zi[85]=1,Wi[85]=Zi[85]=1,Hi[85]=Ji[85]=0,Ki[85]=Qi[85]=1,Mi[85]=Ri[85]=0,Ai[85]=Ni[85]=-1,Li[85]=Ui[85]=0,$i[85]=Vi[85]=0,Xi[85]=qi[85]=1,Fi[85]=Yi[85]=1,Zi[1]=Zi[169]=0,Ji[1]=Ji[169]=-1,Qi[1]=Qi[169]=0,Vi[1]=Vi[169]=-1,qi[1]=qi[169]=0,Ui[1]=Ui[169]=0,Gi[4]=Gi[166]=0,Bi[4]=Bi[166]=-1,zi[4]=zi[166]=1,$i[4]=$i[166]=1,Xi[4]=Xi[166]=0,Yi[4]=Yi[166]=0,ji[16]=ji[154]=0,Di[16]=Di[154]=1,ki[16]=ki[154]=1,Ri[16]=Ri[154]=1,Ni[16]=Ni[154]=0,Fi[16]=Fi[154]=1,Wi[64]=Wi[106]=0,Hi[64]=Hi[106]=1,Ki[64]=Ki[106]=0,Mi[64]=Mi[106]=-1,Ai[64]=Ai[106]=0,Li[64]=Li[106]=1,Wi[2]=Wi[168]=0,Hi[2]=Hi[168]=-1,Ki[2]=Ki[168]=1,Zi[2]=Zi[168]=0,Ji[2]=Ji[168]=-1,Qi[2]=Qi[168]=0,Vi[2]=Vi[168]=-1,qi[2]=qi[168]=0,Ui[2]=Ui[168]=0,$i[2]=$i[168]=-1,Xi[2]=Xi[168]=0,Yi[2]=Yi[168]=1,ji[8]=ji[162]=0,Di[8]=Di[162]=-1,ki[8]=ki[162]=0,Gi[8]=Gi[162]=0,Bi[8]=Bi[162]=-1,zi[8]=zi[162]=1,Vi[8]=Vi[162]=1,qi[8]=qi[162]=0,Ui[8]=Ui[162]=1,$i[8]=$i[162]=1,Xi[8]=Xi[162]=0,Yi[8]=Yi[162]=0,ji[32]=ji[138]=0,Di[32]=Di[138]=1,ki[32]=ki[138]=1,Gi[32]=Gi[138]=0,Bi[32]=Bi[138]=1,zi[32]=zi[138]=0,Mi[32]=Mi[138]=1,Ai[32]=Ai[138]=0,Li[32]=Li[138]=0,Ri[32]=Ri[138]=1,Ni[32]=Ni[138]=0,Fi[32]=Fi[138]=1,Zi[128]=Zi[42]=0,Ji[128]=Ji[42]=1,Qi[128]=Qi[42]=1,Wi[128]=Wi[42]=0,Hi[128]=Hi[42]=1,Ki[128]=Ki[42]=0,Mi[128]=Mi[42]=-1,Ai[128]=Ai[42]=0,Li[128]=Li[42]=1,Ri[128]=Ri[42]=-1,Ni[128]=Ni[42]=0,Fi[128]=Fi[42]=0,Gi[5]=Gi[165]=-1,Bi[5]=Bi[165]=0,zi[5]=zi[165]=0,Zi[5]=Zi[165]=1,Ji[5]=Ji[165]=0,Qi[5]=Qi[165]=0,$i[20]=$i[150]=0,Xi[20]=Xi[150]=1,Yi[20]=Yi[150]=1,Ri[20]=Ri[150]=0,Ni[20]=Ni[150]=-1,Fi[20]=Fi[150]=1,ji[80]=ji[90]=-1,Di[80]=Di[90]=0,ki[80]=ki[90]=1,Wi[80]=Wi[90]=1,Hi[80]=Hi[90]=0,Ki[80]=Ki[90]=1,Vi[65]=Vi[105]=0,qi[65]=qi[105]=1,Ui[65]=Ui[105]=0,Mi[65]=Mi[105]=0,Ai[65]=Ai[105]=-1,Li[65]=Li[105]=0,ji[160]=ji[10]=-1,Di[160]=Di[10]=0,ki[160]=ki[10]=1,Gi[160]=Gi[10]=-1,Bi[160]=Bi[10]=0,zi[160]=zi[10]=0,Zi[160]=Zi[10]=1,Ji[160]=Ji[10]=0,Qi[160]=Qi[10]=0,Wi[160]=Wi[10]=1,Hi[160]=Hi[10]=0,Ki[160]=Ki[10]=1,$i[130]=$i[40]=0,Xi[130]=Xi[40]=1,Yi[130]=Yi[40]=1,Vi[130]=Vi[40]=0,qi[130]=qi[40]=1,Ui[130]=Ui[40]=0,Mi[130]=Mi[40]=0,Ai[130]=Ai[40]=-1,Li[130]=Li[40]=0,Ri[130]=Ri[40]=0,Ni[130]=Ni[40]=-1,Fi[130]=Fi[40]=1,Gi[37]=Gi[133]=0,Bi[37]=Bi[133]=1,zi[37]=zi[133]=1,Zi[37]=Zi[133]=0,Ji[37]=Ji[133]=1,Qi[37]=Qi[133]=0,Mi[37]=Mi[133]=-1,Ai[37]=Ai[133]=0,Li[37]=Li[133]=0,Ri[37]=Ri[133]=1,Ni[37]=Ni[133]=0,Fi[37]=Fi[133]=0,$i[148]=$i[22]=-1,Xi[148]=Xi[22]=0,Yi[148]=Yi[22]=0,Zi[148]=Zi[22]=0,Ji[148]=Ji[22]=-1,Qi[148]=Qi[22]=1,Wi[148]=Wi[22]=0,Hi[148]=Hi[22]=1,Ki[148]=Ki[22]=1,Ri[148]=Ri[22]=-1,Ni[148]=Ni[22]=0,Fi[148]=Fi[22]=1,ji[82]=ji[88]=0,Di[82]=Di[88]=-1,ki[82]=ki[88]=1,$i[82]=$i[88]=1,Xi[82]=Xi[88]=0,Yi[82]=Yi[88]=1,Vi[82]=Vi[88]=-1,qi[82]=qi[88]=0,Ui[82]=Ui[88]=1,Wi[82]=Wi[88]=0,Hi[82]=Hi[88]=-1,Ki[82]=Ki[88]=0,ji[73]=ji[97]=0,Di[73]=Di[97]=1,ki[73]=ki[97]=0,Gi[73]=Gi[97]=0,Bi[73]=Bi[97]=-1,zi[73]=zi[97]=0,Vi[73]=Vi[97]=1,qi[73]=qi[97]=0,Ui[73]=Ui[97]=0,Mi[73]=Mi[97]=1,Ai[73]=Ai[97]=0,Li[73]=Li[97]=1,ji[145]=ji[25]=0,Di[145]=Di[25]=-1,ki[145]=ki[25]=0,Vi[145]=Vi[25]=1,qi[145]=qi[25]=0,Ui[145]=Ui[25]=1,Zi[145]=Zi[25]=0,Ji[145]=Ji[25]=1,Qi[145]=Qi[25]=1,Ri[145]=Ri[25]=-1,Ni[145]=Ni[25]=0,Fi[145]=Fi[25]=0,Gi[70]=Gi[100]=0,Bi[70]=Bi[100]=1,zi[70]=zi[100]=0,$i[70]=$i[100]=-1,Xi[70]=Xi[100]=0,Yi[70]=Yi[100]=1,Wi[70]=Wi[100]=0,Hi[70]=Hi[100]=-1,Ki[70]=Ki[100]=1,Mi[70]=Mi[100]=1,Ai[70]=Ai[100]=0,Li[70]=Li[100]=0,Gi[101]=Gi[69]=0,Bi[101]=Bi[69]=1,zi[101]=zi[69]=0,Mi[101]=Mi[69]=1,Ai[101]=Ai[69]=0,Li[101]=Li[69]=0,Zi[149]=Zi[21]=0,Ji[149]=Ji[21]=1,Qi[149]=Qi[21]=1,Ri[149]=Ri[21]=-1,Ni[149]=Ni[21]=0,Fi[149]=Fi[21]=0,$i[86]=$i[84]=-1,Xi[86]=Xi[84]=0,Yi[86]=Yi[84]=1,Wi[86]=Wi[84]=0,Hi[86]=Hi[84]=-1,Ki[86]=Ki[84]=1,ji[89]=ji[81]=0,Di[89]=Di[81]=-1,ki[89]=ki[81]=0,Vi[89]=Vi[81]=1,qi[89]=qi[81]=0,Ui[89]=Ui[81]=1,ji[96]=ji[74]=0,Di[96]=Di[74]=1,ki[96]=ki[74]=0,Gi[96]=Gi[74]=-1,Bi[96]=Bi[74]=0,zi[96]=zi[74]=1,Wi[96]=Wi[74]=1,Hi[96]=Hi[74]=0,Ki[96]=Ki[74]=0,Mi[96]=Mi[74]=1,Ai[96]=Ai[74]=0,Li[96]=Li[74]=1,ji[24]=ji[146]=0,Di[24]=Di[146]=-1,ki[24]=ki[146]=1,$i[24]=$i[146]=1,Xi[24]=Xi[146]=0,Yi[24]=Yi[146]=1,Vi[24]=Vi[146]=0,qi[24]=qi[146]=1,Ui[24]=Ui[146]=1,Ri[24]=Ri[146]=0,Ni[24]=Ni[146]=-1,Fi[24]=Fi[146]=0,Gi[6]=Gi[164]=-1,Bi[6]=Bi[164]=0,zi[6]=zi[164]=1,$i[6]=$i[164]=-1,Xi[6]=Xi[164]=0,Yi[6]=Yi[164]=0,Zi[6]=Zi[164]=0,Ji[6]=Ji[164]=-1,Qi[6]=Qi[164]=1,Wi[6]=Wi[164]=1,Hi[6]=Hi[164]=0,Ki[6]=Ki[164]=0,Vi[129]=Vi[41]=0,qi[129]=qi[41]=1,Ui[129]=Ui[41]=1,Zi[129]=Zi[41]=0,Ji[129]=Ji[41]=1,Qi[129]=Qi[41]=0,Mi[129]=Mi[41]=-1,Ai[129]=Ai[41]=0,Li[129]=Li[41]=0,Ri[129]=Ri[41]=0,Ni[129]=Ni[41]=-1,Fi[129]=Fi[41]=0,$i[66]=$i[104]=0,Xi[66]=Xi[104]=1,Yi[66]=Yi[104]=0,Vi[66]=Vi[104]=-1,qi[66]=qi[104]=0,Ui[66]=Ui[104]=1,Wi[66]=Wi[104]=0,Hi[66]=Hi[104]=-1,Ki[66]=Ki[104]=0,Mi[66]=Mi[104]=0,Ai[66]=Ai[104]=-1,Li[66]=Li[104]=1,ji[144]=ji[26]=-1,Di[144]=Di[26]=0,ki[144]=ki[26]=0,Zi[144]=Zi[26]=1,Ji[144]=Ji[26]=0,Qi[144]=Qi[26]=1,Wi[144]=Wi[26]=0,Hi[144]=Hi[26]=1,Ki[144]=Ki[26]=1,Ri[144]=Ri[26]=-1,Ni[144]=Ni[26]=0,Fi[144]=Fi[26]=1,Gi[36]=Gi[134]=0,Bi[36]=Bi[134]=1,zi[36]=zi[134]=1,$i[36]=$i[134]=0,Xi[36]=Xi[134]=1,Yi[36]=Yi[134]=0,Mi[36]=Mi[134]=0,Ai[36]=Ai[134]=-1,Li[36]=Li[134]=1,Ri[36]=Ri[134]=1,Ni[36]=Ni[134]=0,Fi[36]=Fi[134]=0,ji[9]=ji[161]=-1,Di[9]=Di[161]=0,ki[9]=ki[161]=0,Gi[9]=Gi[161]=0,Bi[9]=Bi[161]=-1,zi[9]=zi[161]=0,Vi[9]=Vi[161]=1,qi[9]=qi[161]=0,Ui[9]=Ui[161]=0,Zi[9]=Zi[161]=1,Ji[9]=Ji[161]=0,Qi[9]=Qi[161]=1,ji[136]=0,Di[136]=1,ki[136]=1,Gi[136]=0,Bi[136]=1,zi[136]=0,$i[136]=-1,Xi[136]=0,Yi[136]=1,Vi[136]=-1,qi[136]=0,Ui[136]=0,Zi[136]=0,Ji[136]=-1,Qi[136]=0,Wi[136]=0,Hi[136]=-1,Ki[136]=1,Mi[136]=1,Ai[136]=0,Li[136]=0,Ri[136]=1,Ni[136]=0,Fi[136]=1,ji[34]=0,Di[34]=-1,ki[34]=0,Gi[34]=0,Bi[34]=-1,zi[34]=1,$i[34]=1,Xi[34]=0,Yi[34]=0,Vi[34]=1,qi[34]=0,Ui[34]=1,Zi[34]=0,Ji[34]=1,Qi[34]=1,Wi[34]=0,Hi[34]=1,Ki[34]=0,Mi[34]=-1,Ai[34]=0,Li[34]=1,Ri[34]=-1,Ni[34]=0,Fi[34]=0,ji[35]=0,Di[35]=1,ki[35]=1,Gi[35]=0,Bi[35]=-1,zi[35]=1,$i[35]=1,Xi[35]=0,Yi[35]=0,Vi[35]=-1,qi[35]=0,Ui[35]=0,Zi[35]=0,Ji[35]=-1,Qi[35]=0,Wi[35]=0,Hi[35]=1,Ki[35]=0,Mi[35]=-1,Ai[35]=0,Li[35]=1,Ri[35]=1,Ni[35]=0,Fi[35]=1,ji[153]=0,Di[153]=1,ki[153]=1,Vi[153]=-1,qi[153]=0,Ui[153]=0,Zi[153]=0,Ji[153]=-1,Qi[153]=0,Ri[153]=1,Ni[153]=0,Fi[153]=1,Gi[102]=0,Bi[102]=-1,zi[102]=1,$i[102]=1,Xi[102]=0,Yi[102]=0,Wi[102]=0,Hi[102]=1,Ki[102]=0,Mi[102]=-1,Ai[102]=0,Li[102]=1,ji[155]=0,Di[155]=-1,ki[155]=0,Vi[155]=1,qi[155]=0,Ui[155]=1,Zi[155]=0,Ji[155]=1,Qi[155]=1,Ri[155]=-1,Ni[155]=0,Fi[155]=0,Gi[103]=0,Bi[103]=1,zi[103]=0,$i[103]=-1,Xi[103]=0,Yi[103]=1,Wi[103]=0,Hi[103]=-1,Ki[103]=1,Mi[103]=1,Ai[103]=0,Li[103]=0,ji[152]=0,Di[152]=1,ki[152]=1,$i[152]=-1,Xi[152]=0,Yi[152]=1,Vi[152]=-1,qi[152]=0,Ui[152]=0,Zi[152]=0,Ji[152]=-1,Qi[152]=0,Wi[152]=0,Hi[152]=-1,Ki[152]=1,Ri[152]=1,Ni[152]=0,Fi[152]=1,ji[156]=0,Di[156]=-1,ki[156]=1,$i[156]=1,Xi[156]=0,Yi[156]=1,Vi[156]=-1,qi[156]=0,Ui[156]=0,Zi[156]=0,Ji[156]=-1,Qi[156]=0,Wi[156]=0,Hi[156]=1,Ki[156]=1,Ri[156]=-1,Ni[156]=0,Fi[156]=1,ji[137]=0,Di[137]=1,ki[137]=1,Gi[137]=0,Bi[137]=1,zi[137]=0,Vi[137]=-1,qi[137]=0,Ui[137]=0,Zi[137]=0,Ji[137]=-1,Qi[137]=0,Mi[137]=1,Ai[137]=0,Li[137]=0,Ri[137]=1,Ni[137]=0,Fi[137]=1,ji[139]=0,Di[139]=1,ki[139]=1,Gi[139]=0,Bi[139]=-1,zi[139]=0,Vi[139]=1,qi[139]=0,Ui[139]=0,Zi[139]=0,Ji[139]=1,Qi[139]=0,Mi[139]=-1,Ai[139]=0,Li[139]=0,Ri[139]=1,Ni[139]=0,Fi[139]=1,ji[98]=0,Di[98]=-1,ki[98]=0,Gi[98]=0,Bi[98]=-1,zi[98]=1,$i[98]=1,Xi[98]=0,Yi[98]=0,Vi[98]=1,qi[98]=0,Ui[98]=1,Wi[98]=0,Hi[98]=1,Ki[98]=0,Mi[98]=-1,Ai[98]=0,Li[98]=1,ji[99]=0,Di[99]=1,ki[99]=0,Gi[99]=0,Bi[99]=-1,zi[99]=1,$i[99]=1,Xi[99]=0,Yi[99]=0,Vi[99]=-1,qi[99]=0,Ui[99]=1,Wi[99]=0,Hi[99]=-1,Ki[99]=0,Mi[99]=1,Ai[99]=0,Li[99]=1,Gi[38]=0,Bi[38]=-1,zi[38]=1,$i[38]=1,Xi[38]=0,Yi[38]=0,Zi[38]=0,Ji[38]=1,Qi[38]=1,Wi[38]=0,Hi[38]=1,Ki[38]=0,Mi[38]=-1,Ai[38]=0,Li[38]=1,Ri[38]=-1,Ni[38]=0,Fi[38]=0,Gi[39]=0,Bi[39]=1,zi[39]=1,$i[39]=-1,Xi[39]=0,Yi[39]=0,Zi[39]=0,Ji[39]=-1,Qi[39]=1,Wi[39]=0,Hi[39]=1,Ki[39]=0,Mi[39]=-1,Ai[39]=0,Li[39]=1,Ri[39]=1,Ni[39]=0,Fi[39]=0;var to=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},eo=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},no=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},ro=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},io=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},oo=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},so=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},ao=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},uo=[],lo=[],co=[],ho=[],po=[],fo=[],go=[],yo=[];ho[1]=po[1]=18,ho[169]=po[169]=18,co[4]=lo[4]=12,co[166]=lo[166]=12,uo[16]=yo[16]=4,uo[154]=yo[154]=4,fo[64]=go[64]=22,fo[106]=go[106]=22,co[2]=fo[2]=17,ho[2]=po[2]=18,co[168]=fo[168]=17,ho[168]=po[168]=18,uo[8]=ho[8]=9,lo[8]=co[8]=12,uo[162]=ho[162]=9,lo[162]=co[162]=12,uo[32]=yo[32]=4,lo[32]=go[32]=1,uo[138]=yo[138]=4,lo[138]=go[138]=1,po[128]=yo[128]=21,fo[128]=go[128]=22,po[42]=yo[42]=21,fo[42]=go[42]=22,lo[5]=po[5]=14,lo[165]=po[165]=14,co[20]=yo[20]=6,co[150]=yo[150]=6,uo[80]=fo[80]=11,uo[90]=fo[90]=11,ho[65]=go[65]=3,ho[105]=go[105]=3,uo[160]=fo[160]=11,lo[160]=po[160]=14,uo[10]=fo[10]=11,lo[10]=po[10]=14,co[130]=yo[130]=6,ho[130]=go[130]=3,co[40]=yo[40]=6,ho[40]=go[40]=3,lo[101]=go[101]=1,lo[69]=go[69]=1,po[149]=yo[149]=21,po[21]=yo[21]=21,co[86]=fo[86]=17,co[84]=fo[84]=17,uo[89]=ho[89]=9,uo[81]=ho[81]=9,uo[96]=go[96]=0,lo[96]=fo[96]=15,uo[74]=go[74]=0,lo[74]=fo[74]=15,uo[24]=co[24]=8,ho[24]=yo[24]=7,uo[146]=co[146]=8,ho[146]=yo[146]=7,lo[6]=fo[6]=15,co[6]=po[6]=16,lo[164]=fo[164]=15,co[164]=po[164]=16,ho[129]=yo[129]=7,po[129]=go[129]=20,ho[41]=yo[41]=7,po[41]=go[41]=20,co[66]=go[66]=2,ho[66]=fo[66]=19,co[104]=go[104]=2,ho[104]=fo[104]=19,uo[144]=po[144]=10,fo[144]=yo[144]=23,uo[26]=po[26]=10,fo[26]=yo[26]=23,lo[36]=yo[36]=5,co[36]=go[36]=2,lo[134]=yo[134]=5,co[134]=go[134]=2,uo[9]=po[9]=10,lo[9]=ho[9]=13,uo[161]=po[161]=10,lo[161]=ho[161]=13,lo[37]=yo[37]=5,po[37]=go[37]=20,lo[133]=yo[133]=5,po[133]=go[133]=20,co[148]=po[148]=16,fo[148]=yo[148]=23,co[22]=po[22]=16,fo[22]=yo[22]=23,uo[82]=co[82]=8,ho[82]=fo[82]=19,uo[88]=co[88]=8,ho[88]=fo[88]=19,uo[73]=go[73]=0,lo[73]=ho[73]=13,uo[97]=go[97]=0,lo[97]=ho[97]=13,uo[145]=ho[145]=9,po[145]=yo[145]=21,uo[25]=ho[25]=9,po[25]=yo[25]=21,lo[70]=go[70]=1,co[70]=fo[70]=17,lo[100]=go[100]=1,co[100]=fo[100]=17,uo[34]=ho[34]=9,lo[34]=co[34]=12,po[34]=yo[34]=21,fo[34]=go[34]=22,uo[136]=yo[136]=4,lo[136]=go[136]=1,co[136]=fo[136]=17,ho[136]=po[136]=18,uo[35]=yo[35]=4,lo[35]=co[35]=12,ho[35]=po[35]=18,fo[35]=go[35]=22,uo[153]=yo[153]=4,ho[153]=po[153]=18,lo[102]=co[102]=12,fo[102]=go[102]=22,uo[155]=ho[155]=9,po[155]=yo[155]=23,lo[103]=go[103]=1,co[103]=fo[103]=17,uo[152]=yo[152]=4,co[152]=fo[152]=17,ho[152]=po[152]=18,uo[156]=co[156]=8,ho[156]=po[156]=18,fo[156]=yo[156]=23,uo[137]=yo[137]=4,lo[137]=go[137]=1,ho[137]=po[137]=18,uo[139]=yo[139]=4,lo[139]=ho[139]=13,po[139]=go[139]=20,uo[98]=ho[98]=9,lo[98]=co[98]=12,fo[98]=go[98]=22,uo[99]=go[99]=0,lo[99]=co[99]=12,ho[99]=fo[99]=19,lo[38]=co[38]=12,po[38]=yo[38]=21,fo[38]=go[38]=22,lo[39]=yo[39]=5,co[39]=po[39]=16,fo[39]=go[39]=22;var vo=[];function _o(t,e,n){return(t-e)/(n-e)}function mo(t){return t.constructor.toString().indexOf(\"Array\")>-1}function bo(t,e,n,r,i,o){for(var s=t.cells[n][e],a=s.cval_real,u=e+r,l=n+i,c=[],h=!1;!h;){if(void 0===t.cells[l]||void 0===t.cells[l][u])if(l-=i,u-=r,a=(s=t.cells[l][u]).cval_real,-1===i)if(0===o)if(1&a)c.push([u,l]),r=-1,i=0,o=0;else{if(!(4&a)){c.push([u+s.bottomright,l]),r=0,i=1,o=1,h=!0;break}c.push([u+1,l]),r=1,i=0,o=0}else{if(!(1&a)){if(4&a){c.push([u+s.bottomright,l]),r=0,i=1,o=1,h=!0;break}c.push([u+s.bottomleft,l]),r=0,i=1,o=0,h=!0;break}c.push([u,l]),r=-1,i=0,o=0}else if(1===i)if(0===o){if(!(16&a)){if(64&a){c.push([u+s.topleft,l+1]),r=0,i=-1,o=0,h=!0;break}c.push([u+s.topright,l+1]),r=0,i=-1,o=1,h=!0;break}c.push([u+1,l+1]),r=1,i=0,o=1}else c.push([u+1,l+1]),r=1,i=0,o=1;else if(-1===r)if(0===o){if(!(64&a)){if(1&a){c.push([u,l+s.leftbottom]),r=1,i=0,o=0,h=!0;break}c.push([u,l+s.lefttop]),r=1,i=0,o=1,h=!0;break}c.push([u,l+1]),r=0,i=1,o=0}else{if(!(64&a)){console.log(\"MarchingSquaresJS-isoBands: wtf\");break}c.push([u,l+1]),r=0,i=1,o=0}else{if(1!==r){console.log(\"MarchingSquaresJS-isoBands: we came from nowhere!\");break}if(0===o){if(!(4&a)){c.push([u+1,l+s.rightbottom]),r=-1,i=0,o=0,h=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}else{if(!(4&a)){if(16&a){c.push([u+1,l+s.righttop]),r=-1,i=0,o=1;break}c.push([u+1,l+s.rightbottom]),r=-1,i=0,o=0,h=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}}else if(a=(s=t.cells[l][u]).cval_real,-1===r)if(0===o)if(void 0!==t.cells[l-1]&&void 0!==t.cells[l-1][u])r=0,i=-1,o=1;else{if(!(1&a)){c.push([u+s.bottomright,l]),r=0,i=1,o=1,h=!0;break}c.push([u,l])}else{if(!(64&a)){console.log(\"MarchingSquaresJS-isoBands: found entry from top at \"+u+\",\"+l);break}console.log(\"MarchingSquaresJS-isoBands: proceeding in x-direction!\")}else if(1===r){if(0===o){console.log(\"MarchingSquaresJS-isoBands: wtf\");break}if(void 0!==t.cells[l+1]&&void 0!==t.cells[l+1][u])r=0,i=1,o=0;else{if(!(16&a)){c.push([u+s.topleft,l+1]),r=0,i=-1,o=0,h=!0;break}c.push([u+1,l+1]),r=1,i=0,o=1}}else if(-1===i){if(1!==o){console.log(\"MarchingSquaresJS-isoBands: wtf\");break}if(void 0!==t.cells[l][u+1])r=1,i=0,o=1;else{if(!(4&a)){c.push([u+1,l+s.righttop]),r=-1,i=0,o=1,h=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}}else{if(1!==i){console.log(\"MarchingSquaresJS-isoBands: where did we came from???\");break}if(0!==o){console.log(\"MarchingSquaresJS-isoBands: wtf\");break}if(void 0!==t.cells[l][u-1])r=-1,i=0,o=0;else{if(!(64&a)){c.push([u,l+s.leftbottom]),r=1,i=0,o=0,h=!0;break}c.push([u,l+1]),r=0,i=1,o=0}}if(l+=i,(u+=r)===e&&l===n)break}return{path:c,i:u,j:l,x:r,y:i,o:o}}function xo(t){if(t.edges.length>0){var e=t.edges[t.edges.length-1],n=t.cval_real;switch(e){case 0:return 16&n?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return 4&n?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return 1&n?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return 16&n?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return 4&n?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return 1&n?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return 1&n?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return 1&n?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return 64&n?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return 1&n?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return 1&n?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return 64&n?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return 64&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return 1&n?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return 64&n?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return 64&n?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return 16&n?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return 64&n?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return 16&n?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log(\"MarchingSquaresJS-isoBands: edge index out of range!\"),console.log(t)}}return null}function wo(t,e,n,r){var i,o,s,a,u,l=t.cval;switch(e){case-1:switch(r){case 0:i=lo[l],s=Gi[l],a=Bi[l],u=zi[l];break;default:i=uo[l],s=ji[l],a=Di[l],u=ki[l]}break;case 1:switch(r){case 0:i=po[l],s=Zi[l],a=Ji[l],u=Qi[l];break;default:i=fo[l],s=Wi[l],a=Hi[l],u=Ki[l]}break;default:switch(n){case-1:switch(r){case 0:i=go[l],s=Mi[l],a=Ai[l],u=Li[l];break;default:i=yo[l],s=Ri[l],a=Ni[l],u=Fi[l]}break;case 1:switch(r){case 0:i=ho[l],s=Vi[l],a=qi[l],u=Ui[l];break;default:i=co[l],s=$i[l],a=Xi[l],u=Yi[l]}}}if(o=t.edges.indexOf(i),void 0===t.edges[o])return null;switch(function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,o),l=t.cval_real,i){case 0:16&l?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:4&l?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:4&l?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:1&l?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:16&l?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:4&l?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:4&l?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:1&l?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:4&l?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:1&l?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:1&l?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:64&l?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:4&l?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:1&l?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:1&l?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:64&l?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:4&l?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:64&l?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:1&l?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:64&l?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:64&l?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:16&l?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:64&l?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:16&l?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log(\"MarchingSquaresJS-isoBands: edge index out of range!\"),console.log(t),null}return void 0!==e&&void 0!==n&&void 0!==s&&void 0!==a&&void 0!==u||(console.log(\"MarchingSquaresJS-isoBands: undefined value!\"),console.log(t),console.log(e+\" \"+n+\" \"+s+\" \"+a+\" \"+u)),{p:[e,n],x:s,y:a,o:u}}function Eo(t){var e=[],n=[];t.forEach((function(t){var r=br(l([t]));n.push(r),e.push({ring:t,area:r})})),n.sort((function(t,e){return e-t}));var r=[];return n.forEach((function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){r.push(e[n].ring),e.splice(n,1);break}})),r}function Co(t){for(var e=t.map((function(t){return{lrCoordinates:t,grouped:!1}})),n=[];!Oo(e);)for(var r=0;r<e.length;r++)if(!e[r].grouped){var i=[];i.push(e[r].lrCoordinates),e[r].grouped=!0;for(var o=l([e[r].lrCoordinates]),s=r+1;s<e.length;s++)e[s].grouped||So(l([e[s].lrCoordinates]),o)&&(i.push(e[s].lrCoordinates),e[s].grouped=!0);n.push(i)}return n}function So(t,e){for(var n=hn(t),r=0;r<n.features.length;r++)if(!fe(n.features[r],e))return!1;return!0}function Oo(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}function Po(t,e,n){if(!I(n=n||{}))throw new Error(\"options is invalid\");var r=n.pivot,i=n.mutate;if(!t)throw new Error(\"geojson is required\");if(null==e||isNaN(e))throw new Error(\"angle is required\");return 0===e||(r||(r=cn(t)),!1!==i&&void 0!==i||(t=xe(t)),L(t,(function(t){var n=vi(r,t)+e,i=fr(r,t),o=J(mi(r,i,n));t[0]=o[0],t[1]=o[1]}))),t}function Io(t,e,n){if(!I(n=n||{}))throw new Error(\"options is invalid\");var r=n.origin,i=n.mutate;if(!t)throw new Error(\"geojson required\");if(\"number\"!=typeof e||0===e)throw new Error(\"invalid factor\");var o=Array.isArray(r)||\"object\"==typeof r;return!0!==i&&(t=xe(t)),\"FeatureCollection\"!==t.type||o?To(t,e,r):(j(t,(function(n,i){t.features[i]=To(n,e,r)})),t)}function To(t,e,n){var r=\"Point\"===it(t);return n=function(t,e){if(null==e&&(e=\"centroid\"),Array.isArray(e)||\"object\"==typeof e)return Z(e);var n=t.bbox?t.bbox:K(t),r=n[0],i=n[1],o=n[2],s=n[3];switch(e){case\"sw\":case\"southwest\":case\"westsouth\":case\"bottomleft\":return a([r,i]);case\"se\":case\"southeast\":case\"eastsouth\":case\"bottomright\":return a([o,i]);case\"nw\":case\"northwest\":case\"westnorth\":case\"topleft\":return a([r,s]);case\"ne\":case\"northeast\":case\"eastnorth\":case\"topright\":return a([o,s]);case\"center\":return ln(t);case void 0:case null:case\"centroid\":return cn(t);default:throw new Error(\"invalid origin\")}}(t,n),1===e||r||L(t,(function(t){var r=fr(n,t),i=vi(n,t),o=J(mi(n,r*e,i));t[0]=o[0],t[1]=o[1],3===t.length&&(t[2]*=e)})),t}function Mo(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function Ao(t,e){return t[0]*e[1]-e[0]*t[1]}function Lo(t,e,n){var r=[],i=x(e,n),o=J(t),s=[];return o.forEach((function(t,e){if(e!==o.length-1){var n=(l=t,c=o[e+1],h=i,p=Math.sqrt((l[0]-c[0])*(l[0]-c[0])+(l[1]-c[1])*(l[1]-c[1])),f=l[0]+h*(c[1]-l[1])/p,d=c[0]+h*(c[1]-l[1])/p,[[f,l[1]+h*(l[0]-c[0])/p],[d,c[1]+h*(l[0]-c[0])/p]]);if(r.push(n),e>0){var a=r[e-1],u=function(t,e){return!function(t,e){return 0===Ao(Mo(t),Mo(e))}(t,e)&&function(t,e){var n,r,i=t[0],o=Mo(t),s=e[0],a=Mo(e),u=Ao(o,a);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(i,function(t,e){return[t*e[0],t*e[1]]}(Ao((r=i,[(n=s)[0]-r[0],n[1]-r[1]]),a)/u,o))}(t,e)}(n,a);!1!==u&&(a[1]=u,n[0]=u),s.push(a[0]),e===o.length-2&&(s.push(n[0]),s.push(n[1]))}2===o.length&&(s.push(n[0]),s.push(n[1]))}var l,c,h,p,f,d})),h(s,t.properties)}function Ro(t,e,n){var r=e[0]-t[0],i=e[1]-t[1],o=n[0]-e[0];return function(t){return(t>0)-(t<0)||+t}(r*(n[1]-e[1])-o*i)}function No(t,e){return e.geometry.coordinates[0].every((function(e){return fe(a(e),t)}))}vo[1]=vo[169]=to,vo[4]=vo[166]=eo,vo[16]=vo[154]=no,vo[64]=vo[106]=ro,vo[168]=vo[2]=io,vo[162]=vo[8]=oo,vo[138]=vo[32]=so,vo[42]=vo[128]=ao,vo[5]=vo[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},vo[20]=vo[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},vo[80]=vo[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},vo[65]=vo[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},vo[160]=vo[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},vo[130]=vo[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},vo[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},vo[101]=vo[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},vo[149]=vo[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},vo[86]=vo[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},vo[89]=vo[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},vo[96]=vo[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},vo[24]=vo[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},vo[6]=vo[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},vo[129]=vo[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},vo[66]=vo[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},vo[144]=vo[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},vo[36]=vo[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},vo[9]=vo[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},vo[37]=vo[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},vo[148]=vo[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},vo[82]=vo[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},vo[73]=vo[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},vo[145]=vo[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},vo[70]=vo[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},vo[34]=function(t){return[ao(t),oo(t)]},vo[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},vo[136]=function(t){return[so(t),io(t)]},vo[153]=function(t){return[no(t),to(t)]},vo[102]=function(t){return[eo(t),ro(t)]},vo[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},vo[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},vo[152]=function(t){return[no(t),io(t)]},vo[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},vo[137]=function(t){return[so(t),to(t)]},vo[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},vo[98]=function(t){return[oo(t),ro(t)]},vo[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},vo[38]=function(t){return[eo(t),ao(t)]},vo[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var Fo=function(){function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return t.buildId=function(t){return t.join(\",\")},t.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter((function(e){return e.from.id!==t.from.id}))},t.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter((function(e){return e.to.id!==t.to.id}))},t.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},t.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort((function(e,n){var r=e.to,i=n.to;if(r.coordinates[0]-t.coordinates[0]>=0&&i.coordinates[0]-t.coordinates[0]<0)return 1;if(r.coordinates[0]-t.coordinates[0]<0&&i.coordinates[0]-t.coordinates[0]>=0)return-1;if(r.coordinates[0]-t.coordinates[0]==0&&i.coordinates[0]-t.coordinates[0]==0)return r.coordinates[1]-t.coordinates[1]>=0||i.coordinates[1]-t.coordinates[1]>=0?r.coordinates[1]-i.coordinates[1]:i.coordinates[1]-r.coordinates[1];var o=Ro(t.coordinates,r.coordinates,i.coordinates);return o<0?1:o>0?-1:Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2)-(Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2))})),this.outerEdgesSorted=!0)},t.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},t.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},t.prototype.addInnerEdge=function(t){this.innerEdges.push(t)},t}(),jo=function(){function t(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return t.prototype.getSymetric=function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric},t.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},t.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},t.prototype.toString=function(){return\"Edge { \"+this.from.id+\" -> \"+this.to.id+\" }\"},t.prototype.toLineString=function(){return h([this.from.coordinates,this.to.coordinates])},t.prototype.compareTo=function(t){return Ro(t.from.coordinates,t.to.coordinates,this.to.coordinates)},t}(),Do=function(){function t(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return t.prototype.push=function(t){this.edges.push(t),this.polygon=this.envelope=void 0},t.prototype.get=function(t){return this.edges[t]},Object.defineProperty(t.prototype,\"length\",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.edges.forEach(t)},t.prototype.map=function(t){return this.edges.map(t)},t.prototype.some=function(t){return this.edges.some(t)},t.prototype.isValid=function(){return!0},t.prototype.isHole=function(){var t=this,e=this.edges.reduce((function(e,n,r){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=r),e}),0),n=(0===e?this.length:e)-1,r=(e+1)%this.length,i=Ro(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},t.prototype.toMultiPoint=function(){return g(this.edges.map((function(t){return t.from.coordinates})))},t.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map((function(t){return t.from.coordinates}));return t.push(this.edges[0].from.coordinates),this.polygon=l([t])},t.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=rn(this.toPolygon())},t.findEdgeRingContaining=function(t,e){var n,r,i=t.getEnvelope();return e.forEach((function(e){var o,s,u,l,c,h,p=e.getEnvelope();if(r&&(n=r.getEnvelope()),s=i,u=(o=p).geometry.coordinates[0].map((function(t){return t[0]})),l=o.geometry.coordinates[0].map((function(t){return t[1]})),c=s.geometry.coordinates[0].map((function(t){return t[0]})),h=s.geometry.coordinates[0].map((function(t){return t[1]})),(Math.max.apply(null,u)!==Math.max.apply(null,c)||Math.max.apply(null,l)!==Math.max.apply(null,h)||Math.min.apply(null,u)!==Math.min.apply(null,c)||Math.min.apply(null,l)!==Math.min.apply(null,h))&&No(p,i)){for(var f=t.map((function(t){return t.from.coordinates})),d=void 0,g=function(t){e.some((function(e){return n=t,r=e.from.coordinates,n[0]===r[0]&&n[1]===r[1];var n,r}))||(d=t)},y=0,v=f;y<v.length;y++)g(v[y]);d&&e.inside(a(d))&&(r&&!No(n,p)||(r=e))}})),r},t.prototype.inside=function(t){return fe(t,this.toPolygon())},t}(),ko=function(){function t(){this.edges=[],this.nodes={}}return t.fromGeoJson=function(e){!function(t){if(!t)throw new Error(\"No geojson passed\");if(\"FeatureCollection\"!==t.type&&\"GeometryCollection\"!==t.type&&\"MultiLineString\"!==t.type&&\"LineString\"!==t.type&&\"Feature\"!==t.type)throw new Error(\"Invalid input type '\"+t.type+\"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature\")}(e);var n=new t;return z(e,(function(t){et(t,\"LineString\",\"Graph::fromGeoJson\"),R(t,(function(t,e){if(t){var r=n.getNode(t),i=n.getNode(e);n.addEdge(r,i)}return e}))})),n},t.prototype.getNode=function(t){var e=Fo.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new Fo(t)),n},t.prototype.addEdge=function(t,e){var n=new jo(t,e),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},t.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map((function(e){return t.nodes[e]})).forEach((function(e){return t._removeIfDangle(e)}))},t.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map((function(t){return t.to}));this.removeNode(t),n.forEach((function(t){return e._removeIfDangle(t)}))}},t.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))}))},t.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach((function(t){return e._computeNextCWEdges(e.nodes[t])})):t.getOuterEdges().forEach((function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e}))},t.prototype._computeNextCCWEdges=function(t,e){for(var n,r,i=t.getOuterEdges(),o=i.length-1;o>=0;--o){var s=i[o],a=s.symetric,u=void 0,l=void 0;s.label===e&&(u=s),a.label===e&&(l=a),u&&l&&(l&&(r=l),u&&(r&&(r.next=u,r=void 0),n||(n=u)))}r&&(r.next=n)},t.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach((function(n){if(!(n.label>=0)){t.push(n);var r=n;do{r.label=e,r=r.next}while(!n.isEqual(r));e++}})),t},t.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach((function(t){t.label=void 0})),this._findLabeledEdgeRings().forEach((function(e){t._findIntersectionNodes(e).forEach((function(n){t._computeNextCCWEdges(n,e.label)}))}));var e=[];return this.edges.forEach((function(n){n.ring||e.push(t._findEdgeRing(n))})),e},t.prototype._findIntersectionNodes=function(t){var e=[],n=t,r=function(){var r=0;n.from.getOuterEdges().forEach((function(e){e.label===t.label&&++r})),r>1&&e.push(n.from),n=n.next};do{r()}while(!t.isEqual(n));return e},t.prototype._findEdgeRing=function(t){var e=t,n=new Do;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},t.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach((function(t){return e.removeEdge(t)})),t.innerEdges.forEach((function(t){return e.removeEdge(t)})),delete this.nodes[t.id]},t.prototype.removeEdge=function(t){this.edges=this.edges.filter((function(e){return!e.isEqual(t)})),t.deleteEdge()},t}();function Go(t,e){var n=!0;return z(t,(function(t){z(e,(function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case\"Point\":switch(e.type){case\"Point\":return n=t.coordinates,r=e.coordinates,!(n[0]===r[0]&&n[1]===r[1]);case\"LineString\":return!Bo(e,t);case\"Polygon\":return!fe(t,e)}break;case\"LineString\":switch(e.type){case\"Point\":return!Bo(t,e);case\"LineString\":return!function(t,e){return cr(t,e).features.length>0}(t,e);case\"Polygon\":return!zo(e,t)}break;case\"Polygon\":switch(e.type){case\"Point\":return!fe(e,t);case\"LineString\":return!zo(t,e);case\"Polygon\":return!function(t,e){for(var n=0,r=t.coordinates[0];n<r.length;n++)if(fe(r[n],e))return!0;for(var i=0,o=e.coordinates[0];i<o.length;i++)if(fe(o[i],t))return!0;return cr(ei(t),ei(e)).features.length>0}(e,t)}}var n,r;return!1}(t.geometry,e.geometry)}))})),n}function Bo(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(Vo(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function zo(t,e){for(var n=0,r=e.coordinates;n<r.length;n++)if(fe(r[n],t))return!0;return cr(e,ei(t)).features.length>0}function Vo(t,e,n){var r=n[0]-t[0],i=n[1]-t[1],o=e[0]-t[0],s=e[1]-t[1];return 0==r*s-i*o&&(Math.abs(o)>=Math.abs(s)?o>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:s>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}function qo(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function Uo(t,e){return t[0]===e[0]&&t[1]===e[1]}function $o(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}function Xo(t,e){for(var n=!1,r=!1,i=t.coordinates.length,o=0;o<i&&!n&&!r;){for(var s=0;s<e.coordinates.length-1;s++){var a=!0;0!==s&&s!==e.coordinates.length-2||(a=!1),Ho(e.coordinates[s],e.coordinates[s+1],t.coordinates[o],a)?n=!0:r=!0}o++}return n&&r}function Yo(t,e){return cr(t,ni(e)).features.length>0}function Wo(t,e){for(var n=!1,r=!1,i=t.coordinates.length,o=0;o<i&&(!n||!r);o++)fe(a(t.coordinates[o]),e)?n=!0:r=!0;return r&&n}function Ho(t,e,n,r){var i=n[0]-t[0],o=n[1]-t[1],s=e[0]-t[0],a=e[1]-t[1];return 0==i*a-o*s&&(r?Math.abs(s)>=Math.abs(a)?s>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(s)>=Math.abs(a)?s>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:a>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}var Ko=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:Qo};function Zo(t){return t.coordinates.map((function(e){return{type:t.type.replace(\"Multi\",\"\"),coordinates:e}}))}function Jo(t,e){return t.hasOwnProperty(\"coordinates\")?t.coordinates.length===e.coordinates.length:t.length===e.length}function Qo(t,e){return fi(t,e,{strict:!0})}Ko.prototype.compare=function(t,e){if(t.type!==e.type||!Jo(t,e))return!1;switch(t.type){case\"Point\":return this.compareCoord(t.coordinates,e.coordinates);case\"LineString\":return this.compareLine(t.coordinates,e.coordinates,0,!1);case\"Polygon\":return this.comparePolygon(t,e);case\"Feature\":return this.compareFeature(t,e);default:if(0===t.type.indexOf(\"Multi\")){var n=this,r=Zo(t),i=Zo(e);return r.every((function(t){return this.some((function(e){return n.compare(t,e)}))}),i)}}return!1},Ko.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},Ko.prototype.compareLine=function(t,e,n,r){if(!Jo(t,e))return!1;var i=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!r||this.compareCoord(i[0],o[0])||(o=this.fixStartIndex(o,i))){var s=this.compareCoord(i[n],o[n]);return this.direction||s?this.comparePath(i,o):!!this.compareCoord(i[n],o[o.length-(1+n)])&&this.comparePath(i.slice().reverse(),o)}},Ko.prototype.fixStartIndex=function(t,e){for(var n,r=-1,i=0;i<t.length;i++)if(this.compareCoord(t[i],e[0])){r=i;break}return r>=0&&(n=[].concat(t.slice(r,t.length),t.slice(1,r+1))),n},Ko.prototype.comparePath=function(t,e){var n=this;return t.every((function(t,e){return n.compareCoord(t,this[e])}),e)},Ko.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),r=e.coordinates.slice(1,e.coordinates.length),i=this;return n.every((function(t){return this.some((function(e){return i.compareLine(t,e,1,!0)}))}),r)}return!1},Ko.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},Ko.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},Ko.prototype.removePseudo=function(t){return t};var ts=Ko;function es(t,e){var n=!1;return z(t,(function(t){z(e,(function(e){if(!0===n)return!0;n=!Go(t.geometry,e.geometry)}))})),n}var ns=kt((function(t){function e(t,e,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,r)}e.prototype.run=function(t,e,n,r){this._init(t,e,n,r);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var o=this._regionQuery(i);if(o.length<this.minPts)this.noise.push(i);else{var s=this.clusters.length;this.clusters.push([]),this._addToCluster(i,s),this._expandCluster(s,o)}}return this.clusters},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error(\"Dataset must be of type array, \"+typeof t+\" given\");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);i.length>=this.minPts&&(e=this._mergeArrays(e,i))}1!==this._assigned[r]&&this._addToCluster(r,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n);return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r];t.indexOf(i)<0&&t.push(i)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)})),rs=kt((function(t){function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var o=0;o<this.k;o++){for(var s=new Array(c),a=0,u=0;u<c;u++)s[u]=0;for(var l=0;l<n;l++){var c=this.dataset[l].length;if(o===this.assignments[l]){for(u=0;u<c;u++)s[u]+=this.dataset[l][u];a++}}if(a>0){for(u=0;u<c;u++)s[u]/=a;this.centroids[o]=s}else this.centroids[o]=this.randomCentroid(),i=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,r=0;r<n;r++)(t=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var r,i=Number.MAX_VALUE,o=0,s=e.length,a=0;a<s;a++)(r=n(t,e[a]))<i&&(i=r,o=a);return o},e.prototype.distance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;){var i=t[r]-e[r];n+=i*i}return Math.sqrt(n)},t.exports&&(t.exports=e)})),is=kt((function(t){function e(t,e,n){this._queue=[],this._priorities=[],this._sorting=\"desc\",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,r=n;r--;){var i=this._priorities[r];\"desc\"===this._sorting?e>i&&(n=r):e<i&&(n=r)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error(\"Arrays must have the same length\");for(var r=0;r<t.length;r++)this.insert(t[r],e[r])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)})),os=kt((function(t){if(t.exports)var e=is;function n(t,e,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,r)}n.prototype.run=function(t,n,r,i){this._init(t,n,r,i);for(var o=0,s=this.dataset.length;o<s;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var a=this.clusters.length-1;this._orderedList.push(o);var u=new e(null,null,\"asc\"),l=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,l,u),this._expandCluster(a,u))}return this.clusters},n.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var r=this._orderedList[e],i=this._reachability[r];t.push([r,i])}return t},n.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error(\"Dataset must be of type array, \"+typeof t+\" given\");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},n.prototype._updateQueue=function(t,e,n){var r=this;this._coreDistance=this._distanceToCore(t),e.forEach((function(e){if(void 0===r._processed[e]){var i=r.distance(r.dataset[t],r.dataset[e]),o=Math.max(r._coreDistance,i);void 0===r._reachability[e]?(r._reachability[e]=o,n.insert(e,o)):o<r._reachability[e]&&(r._reachability[e]=o,n.remove(e),n.insert(e,o))}}))},n.prototype._expandCluster=function(t,e){for(var n=e.getElements(),r=0,i=n.length;r<i;r++){var o=n[r];if(void 0===this._processed[o]){var s=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,s,e),this._expandCluster(t,e))}}},n.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++)if(this._regionQuery(t,n).length>=this.minPts)return n},n.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],r=0,i=this.dataset.length;r<i;r++)this.distance(this.dataset[t],this.dataset[r])<e&&n.push(r);return n},n.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=n)})),ss=kt((function(t){t.exports&&(t.exports={DBSCAN:ns,KMEANS:rs,OPTICS:os,PriorityQueue:is})})),as=function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++){var s=(t[o]||0)-(e[o]||0);i+=s*s}return n?Math.sqrt(i):i},us=as,ls=function(t,e,n){var r=Math.abs(t-e);return n?r:r*r},cs=as;function hs(t,e,n){n=n||[];for(var r=0;r<t;r++)n[r]=e;return n}var ps=function(t,e,n,r){var i=[],o=[],s=[],a=[],u=!1,l=r||1e4,c=t.length,h=t[0].length,p=h>0,f=[];if(n)i=\"kmrand\"==n?function(t,e){for(var n={},r=[],i=e<<2,o=t.length,s=t[0].length>0;r.length<e&&i-- >0;){var a=t[Math.floor(Math.random()*o)],u=s?a.join(\"_\"):\"\"+a;n[u]||(n[u]=!0,r.push(a))}if(r.length<e)throw new Error(\"Error initializating clusters\");return r}(t,e):\"kmpp\"==n?function(t,e){var n=t[0].length?us:ls,r=[],i=t.length,o=t[0].length>0,s=t[Math.floor(Math.random()*i)];for(o&&s.join(\"_\"),r.push(s);r.length<e;){for(var a=[],u=r.length,l=0,c=[],h=0;h<i;h++){for(var p=1/0,f=0;f<u;f++){var d=n(t[h],r[f]);d<=p&&(p=d)}a[h]=p}for(var g=0;g<i;g++)l+=a[g];for(var y=0;y<i;y++)c[y]={i:y,v:t[y],pr:a[y]/l,cs:0};c.sort((function(t,e){return t.pr-e.pr})),c[0].cs=c[0].pr;for(var v=1;v<i;v++)c[v].cs=c[v-1].cs+c[v].pr;for(var _=Math.random(),m=0;m<i-1&&c[m++].cs<_;);r.push(c[m-1].v)}return r}(t,e):n;else for(var d={};i.length<e;){var g=Math.floor(Math.random()*c);d[g]||(d[g]=!0,i.push(t[g]))}do{hs(e,0,f);for(var y=0;y<c;y++){for(var v=1/0,_=0,m=0;m<e;m++)(a=p?cs(t[y],i[m]):Math.abs(t[y]-i[m]))<=v&&(v=a,_=m);s[y]=_,f[_]++}for(var b=[],x=(o=[],0);x<e;x++)b[x]=p?hs(h,0,b[x]):0,o[x]=i[x];if(p){for(var w=0;w<e;w++)i[w]=[];for(var E=0;E<c;E++)for(var C=b[s[E]],S=t[E],O=0;O<h;O++)C[O]+=S[O];u=!0;for(var P=0;P<e;P++){for(var I=i[P],T=b[P],M=o[P],A=f[P],L=0;L<h;L++)I[L]=T[L]/A||0;if(u)for(var R=0;R<h;R++)if(M[R]!=I[R]){u=!1;break}}}else{for(var N=0;N<c;N++)b[s[N]]+=t[N];for(var F=0;F<e;F++)i[F]=b[F]/f[F]||0;u=!0;for(var j=0;j<e;j++)if(o[j]!=i[j]){u=!1;break}}u=u||--l<=0}while(!u);return{it:1e4-l,k:e,idxs:s,centroids:i}};function fs(t,e){return w(vi(t[0],t[1]))===w(vi(e[0],e[1]))}function ds(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error(\"Invalid GeoJSON object for \"+e)}function gs(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}var ys={search:function(t,e,n,r){t.cleanDirty();var i=(r=r||{}).heuristic||ys.heuristics.manhattan,o=r.closest||!1,s=new ms((function(t){return t.f})),a=e;for(e.h=i(e,n),s.push(e);s.size()>0;){var u=s.pop();if(u===n)return gs(u);u.closed=!0;for(var l=t.neighbors(u),c=0,h=l.length;c<h;++c){var p=l[c];if(!p.closed&&!p.isWall()){var f=u.g+p.getCost(u),d=p.visited;(!d||f<p.g)&&(p.visited=!0,p.parent=u,p.h=p.h||i(p,n),p.g=f,p.f=p.g+p.h,t.markDirty(p),o&&(p.h<a.h||p.h===a.h&&p.g<a.g)&&(a=p),d?s.rescoreElement(p):s.push(p))}}}return o?gs(a):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),r=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return 1*(r+i)+(n-2)*Math.min(r,i)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};function vs(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var r=0,i=t[n];r<i.length;r++){var o=new _s(n,r,i[r]);this.grid[n][r]=o,this.nodes.push(o)}}this.init()}function _s(t,e,n){this.x=t,this.y=e,this.weight=n}function ms(t){this.content=[],this.scoreFunction=t}function bs(t,e){for(var n=0;n<e.features.length;n++)if(fe(t,e.features[n]))return!0;return!1}function xs(t){return function(){return t}}function ws(t){return t[0]}function Es(t){return t[1]}function Cs(){this._=null}function Ss(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Os(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Ps(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Is(t){for(;t.L;)t=t.L;return t}function Ts(t,e,n,r){var i=[null,null],o=Qs.push(i)-1;return i.left=t,i.right=e,n&&As(i,t,e,n),r&&As(i,e,t,r),Zs[t.index].halfedges.push(o),Zs[e.index].halfedges.push(o),i}function Ms(t,e,n){var r=[e,n];return r.left=t,r}function As(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Ls(t,e,n,r,i){var o,s=t[0],a=t[1],u=s[0],l=s[1],c=0,h=1,p=a[0]-u,f=a[1]-l;if(o=e-u,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<h&&(h=o)}if(o=n-l,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[u+c*p,l+c*f]),h<1&&(t[1]=[u+h*p,l+h*f]),!0)}}}}}function Rs(t,e,n,r,i){var o=t[1];if(o)return!0;var s,a,u=t[0],l=t.left,c=t.right,h=l[0],p=l[1],f=c[0],d=c[1],g=(h+f)/2,y=(p+d)/2;if(d===p){if(g<e||g>=r)return;if(h>f){if(u){if(u[1]>=i)return}else u=[g,n];o=[g,i]}else{if(u){if(u[1]<n)return}else u=[g,i];o=[g,n]}}else if(a=y-(s=(h-f)/(d-p))*g,s<-1||s>1)if(h>f){if(u){if(u[1]>=i)return}else u=[(n-a)/s,n];o=[(i-a)/s,i]}else{if(u){if(u[1]<n)return}else u=[(i-a)/s,i];o=[(n-a)/s,n]}else if(p<d){if(u){if(u[0]>=r)return}else u=[e,s*e+a];o=[r,s*r+a]}else{if(u){if(u[0]<e)return}else u=[r,s*r+a];o=[e,s*e+a]}return t[0]=u,t[1]=o,!0}function Ns(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Fs(t,e){return e[+(e.left!==t.site)]}function js(t,e){return e[+(e.left===t.site)]}vs.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)ys.cleanNode(this.nodes[t])},vs.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)ys.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},vs.prototype.markDirty=function(t){this.dirtyNodes.push(t)},vs.prototype.neighbors=function(t){var e=[],n=t.x,r=t.y,i=this.grid;return i[n-1]&&i[n-1][r]&&e.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&e.push(i[n+1][r]),i[n]&&i[n][r-1]&&e.push(i[n][r-1]),i[n]&&i[n][r+1]&&e.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&e.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&e.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&e.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&e.push(i[n+1][r+1])),e},vs.prototype.toString=function(){for(var t,e,n,r,i=[],o=this.grid,s=0,a=o.length;s<a;s++){for(t=[],n=0,r=(e=o[s]).length;n<r;n++)t.push(e[n].weight);i.push(t.join(\" \"))}return i.join(\"\\n\")},_s.prototype.toString=function(){return\"[\"+this.x+\" \"+this.y+\"]\"},_s.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},_s.prototype.isWall=function(){return 0===this.weight},ms.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[n]=e,this.content[t]=r,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var i,o=t+1<<1,s=o-1,a=null;if(s<e){var u=this.content[s];(i=this.scoreFunction(u))<r&&(a=s)}if(o<e){var l=this.content[o];this.scoreFunction(l)<(null===a?r:i)&&(a=o)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=n,t=a}}},Cs.prototype={constructor:Cs,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Is(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Os(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ps(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Ps(this,n),n=(t=n).U),n.C=!1,r.C=!0,Os(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,s=t.R;if(n=o?s?Is(s):o:s,i?i.L===t?i.L=n:i.R=n:this._=n,o&&s?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=s,s.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Os(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ps(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Os(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Ps(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Os(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Ps(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Ds,ks=[];function Gs(){Ss(this),this.x=this.y=this.arc=this.site=this.cy=null}function Bs(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var s=i[0],a=i[1],u=r[0]-s,l=r[1]-a,c=o[0]-s,h=o[1]-a,p=2*(u*h-l*c);if(!(p>=-ea)){var f=u*u+l*l,d=c*c+h*h,g=(h*f-l*d)/p,y=(u*d-c*f)/p,v=ks.pop()||new Gs;v.arc=t,v.site=i,v.x=g+s,v.y=(v.cy=y+a)+Math.sqrt(g*g+y*y),t.circle=v;for(var _=null,m=Js._;m;)if(v.y<m.y||v.y===m.y&&v.x<=m.x){if(!m.L){_=m.P;break}m=m.L}else{if(!m.R){_=m;break}m=m.R}Js.insert(_,v),_||(Ds=v)}}}}function zs(t){var e=t.circle;e&&(e.P||(Ds=e.N),Js.remove(e),ks.push(e),Ss(e),t.circle=null)}var Vs=[];function qs(){Ss(this),this.edge=this.site=this.circle=null}function Us(t){var e=Vs.pop()||new qs;return e.site=t,e}function $s(t){zs(t),Ks.remove(t),Vs.push(t),Ss(t)}function Xs(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,s=t.N,a=[t];$s(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<ta&&Math.abs(r-u.circle.cy)<ta;)o=u.P,a.unshift(u),$s(u),u=o;a.unshift(u),zs(u);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<ta&&Math.abs(r-l.circle.cy)<ta;)s=l.N,a.push(l),$s(l),l=s;a.push(l),zs(l);var c,h=a.length;for(c=1;c<h;++c)l=a[c],u=a[c-1],As(l.edge,u.site,l.site,i);u=a[0],(l=a[h-1]).edge=Ts(u.site,l.site,null,i),Bs(u),Bs(l)}function Ys(t){for(var e,n,r,i,o=t[0],s=t[1],a=Ks._;a;)if((r=Ws(a,s)-o)>ta)a=a.L;else{if(!((i=o-Hs(a,s))>ta)){r>-ta?(e=a.P,n=a):i>-ta?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){Zs[t.index]={site:t,halfedges:[]}}(t);var u=Us(t);if(Ks.insert(e,u),e||n){if(e===n)return zs(e),n=Us(e.site),Ks.insert(u,n),u.edge=n.edge=Ts(e.site,u.site),Bs(e),void Bs(n);if(n){zs(e),zs(n);var l=e.site,c=l[0],h=l[1],p=t[0]-c,f=t[1]-h,d=n.site,g=d[0]-c,y=d[1]-h,v=2*(p*y-f*g),_=p*p+f*f,m=g*g+y*y,b=[(y*_-f*m)/v+c,(p*m-g*_)/v+h];As(n.edge,l,d,b),u.edge=Ts(l,t,null,b),n.edge=Ts(t,d,null,b),Bs(e),Bs(n)}else u.edge=Ts(e.site,u.site)}}function Ws(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],u=n[1],l=u-e;if(!l)return a;var c=a-r,h=1/o-1/l,p=c/l;return h?(-p+Math.sqrt(p*p-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+a)/2}function Hs(t,e){var n=t.N;if(n)return Ws(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var Ks,Zs,Js,Qs,ta=1e-6,ea=1e-12;function na(t,e){return e[1]-t[1]||e[0]-t[0]}function ra(t,e){var n,r,i,o=t.sort(na).pop();for(Qs=[],Zs=new Array(t.length),Ks=new Cs,Js=new Cs;;)if(i=Ds,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(Ys(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;Xs(i.arc)}if(function(){for(var t,e,n,r,i=0,o=Zs.length;i<o;++i)if((t=Zs[i])&&(r=(e=t.halfedges).length)){var s=new Array(r),a=new Array(r);for(n=0;n<r;++n)s[n]=n,a[n]=Ns(t,Qs[e[n]]);for(s.sort((function(t,e){return a[e]-a[t]})),n=0;n<r;++n)a[n]=e[s[n]];for(n=0;n<r;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=Qs.length;o--;)Rs(i=Qs[o],t,e,n,r)&&Ls(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>ta||Math.abs(i[0][1]-i[1][1])>ta)||delete Qs[o]}(s,a,u,l),function(t,e,n,r){var i,o,s,a,u,l,c,h,p,f,d,g,y=Zs.length,v=!0;for(i=0;i<y;++i)if(o=Zs[i]){for(s=o.site,a=(u=o.halfedges).length;a--;)Qs[u[a]]||u.splice(a,1);for(a=0,l=u.length;a<l;)d=(f=js(o,Qs[u[a]]))[0],g=f[1],h=(c=Fs(o,Qs[u[++a%l]]))[0],p=c[1],(Math.abs(d-h)>ta||Math.abs(g-p)>ta)&&(u.splice(a,0,Qs.push(Ms(s,f,Math.abs(d-t)<ta&&r-g>ta?[t,Math.abs(h-t)<ta?p:r]:Math.abs(g-r)<ta&&n-d>ta?[Math.abs(p-r)<ta?h:n,r]:Math.abs(d-n)<ta&&g-e>ta?[n,Math.abs(h-n)<ta?p:e]:Math.abs(g-e)<ta&&d-t>ta?[Math.abs(p-e)<ta?h:t,e]:null))-1),++l);l&&(v=!1)}if(v){var _,m,b,x=1/0;for(i=0,v=null;i<y;++i)(o=Zs[i])&&(b=(_=(s=o.site)[0]-t)*_+(m=s[1]-e)*m)<x&&(x=b,v=o);if(v){var w=[t,e],E=[t,r],C=[n,r],S=[n,e];v.halfedges.push(Qs.push(Ms(s=v.site,w,E))-1,Qs.push(Ms(s,E,C))-1,Qs.push(Ms(s,C,S))-1,Qs.push(Ms(s,S,w))-1)}}for(i=0;i<y;++i)(o=Zs[i])&&(o.halfedges.length||delete Zs[i])}(s,a,u,l)}this.edges=Qs,this.cells=Zs,Ks=Js=Qs=Zs=null}function ia(t){return(t=t.slice()).push(t[0]),l([t])}function oa(t,e,n,r){var i=(r=r||{}).steps||64,o=r.units||\"kilometers\",s=r.angle||0,a=r.pivot||t,u=r.properties||t.properties||{};if(!t)throw new Error(\"center is required\");if(!e)throw new Error(\"xSemiAxis is required\");if(!n)throw new Error(\"ySemiAxis is required\");if(!I(r))throw new Error(\"options must be an object\");if(!P(i))throw new Error(\"steps must be a number\");if(!P(s))throw new Error(\"angle must be a number\");var c=Z(t);if(\"degrees\"===o)var h=C(s);else e=mi(t,e,90,{units:o}),n=mi(t,n,0,{units:o}),e=Z(e)[0]-c[0],n=Z(n)[1]-c[1];for(var p=[],f=0;f<i;f+=1){var d=-360*f/i,g=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(sa(d),2)),y=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(sa(d),2));if(d<-90&&d>=-270&&(g=-g),d<-180&&d>=-360&&(y=-y),\"degrees\"===o){var v=g*Math.cos(h)+y*Math.sin(h),_=y*Math.cos(h)-g*Math.sin(h);g=v,y=_}p.push([g+c[0],y+c[1]])}return p.push(p[0]),\"degrees\"===o?l([p],u):Po(l([p],u),s,{pivot:a})}function sa(t){var e=t*Math.PI/180;return Math.tan(e)}function aa(t,e){void 0===e&&(e={});var n=0,r=0,i=0;return G(t,(function(t,o,s){var a=e.weight?null==s?void 0:s[e.weight]:void 0;if(!P(a=null==a?1:a))throw new Error(\"weight value must be a number for feature index \"+o);(a=Number(a))>0&&L(t,(function(t){n+=t[0]*a,r+=t[1]*a,i+=a}))})),a([n/i,r/i],e.properties,e)}function ua(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}function la(t,e){var n=0,r=0;L(t,(function(i,o,s,a,u){u>n&&(n=u,r=o,e.push([]));var l=o-r,c=t.coordinates[u][l+1],h=i[0],p=i[1],f=c[0],d=c[1];e[u].push([.75*h+.25*f,.75*p+.25*d]),e[u].push([.25*h+.75*f,.25*p+.75*d])}),!0),e.forEach((function(t){t.push(t[0])}))}function ca(t,e){var n=0,r=0,i=0;L(t,(function(o,s,a,u,l){u>i&&(i=u,r=s,e.push([[]])),l>n&&(n=l,r=s,e[u].push([]));var c=s-r,h=t.coordinates[u][l][c+1],p=o[0],f=o[1],d=h[0],g=h[1];e[u][l].push([.75*p+.25*d,.75*f+.25*g]),e[u][l].push([.25*p+.75*d,.25*f+.75*g])}),!0),e.forEach((function(t){t.forEach((function(t){t.push(t[0])}))}))}function ha(t,e,n){void 0===n&&(n=2);var r=Z(t),i=Z(e),o=r[0]-i[0],s=r[1]-i[1];return 1===n?Math.abs(o)+Math.abs(s):Math.pow(Math.pow(o,n)+Math.pow(s,n),1/n)}function pa(t,e){var n=(e=e||{}).threshold||1e4,r=e.p||2,i=e.binary||!1,o=e.alpha||-1,s=e.standardization||!1,a=[];j(t,(function(t){a.push(cn(t))}));for(var u=[],l=0;l<a.length;l++)u[l]=[];for(l=0;l<a.length;l++)for(var c=l;c<a.length;c++){l===c&&(u[l][c]=0);var h=ha(a[l],a[c],r);u[l][c]=h,u[c][l]=h}for(l=0;l<a.length;l++)for(c=0;c<a.length;c++)0!==(h=u[l][c])&&(u[l][c]=i?h<=n?1:0:h<=n?Math.pow(h,o):0);if(s)for(l=0;l<a.length;l++){var p=u[l].reduce((function(t,e){return t+e}),0);for(c=0;c<a.length;c++)u[l][c]=u[l][c]/p}return u}function fa(t){for(var e=0,n=0,r=t;n<r.length;n++)e+=r[n];return e/t.length}function da(t,e){return void 0===e&&(e={}),ya(t,\"mercator\",e)}function ga(t,e){return void 0===e&&(e={}),ya(t,\"wgs84\",e)}function ya(t,e,n){void 0===n&&(n={});var r=(n=n||{}).mutate;if(!t)throw new Error(\"geojson is required\");return Array.isArray(t)&&P(t[0])?t=\"mercator\"===e?va(t):_a(t):(!0!==r&&(t=xe(t)),L(t,(function(t){var n=\"mercator\"===e?va(t):_a(t);t[0]=n[0],t[1]=n[1]}))),t}function va(t){var e=Math.PI/180,n=6378137,r=20037508.342789244,i=[n*(Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]))*e,n*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return i[0]>r&&(i[0]=r),i[0]<-r&&(i[0]=-r),i[1]>r&&(i[1]=r),i[1]<-r&&(i[1]=-r),i}function _a(t){var e=180/Math.PI,n=6378137;return[t[0]*e/n,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/n)))*e]}ra.prototype={constructor:ra,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Fs(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,s,a,u,l,c=n.site,h=-1,p=e[i[o-1]],f=p.left===c?p.right:p.left;++h<o;)s=f,f=(p=e[i[h]]).left===c?p.right:p.left,s&&f&&r<s.index&&r<f.index&&(u=s,l=f,((a=c)[0]-l[0])*(u[1]-a[1])-(a[0]-u[0])*(l[1]-a[1])<0)&&t.push([c.data,s.data,f.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,s=o._found||0,a=o.cells.length;!(i=o.cells[s]);)if(++s>=a)return null;var u=t-i.site[0],l=e-i.site[1],c=u*u+l*l;do{i=o.cells[r=s],s=null,i.halfedges.forEach((function(n){var r=o.edges[n],a=r.left;if(a!==i.site&&a||(a=r.right)){var u=t-a[0],l=e-a[1],h=u*u+l*l;h<c&&(c=h,s=a.index)}}))}while(null!==s);return o._found=r,null==n||c<=n*n?i.site:null}};var ma=Object.freeze({__proto__:null,toMercator:da,toWgs84:ga});function ba(t){return Array.isArray(t)?Sa(t):t&&t.bbox?Sa(t.bbox):[360*Ca(),180*Ca()]}function xa(t,e){void 0===e&&(e={}),null==t&&(t=1);for(var n=[],r=0;r<t;r++)n.push(a(ba(e.bbox)));return f(n)}function wa(t,e){void 0===e&&(e={}),null==t&&(t=1),P(e.num_vertices)&&void 0!==e.num_vertices||(e.num_vertices=10),P(e.max_radial_length)&&void 0!==e.max_radial_length||(e.max_radial_length=10);for(var n=[],r=function(t){var r,i=[],o=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}(Array(e.num_vertices+1)).map(Math.random);o.forEach((function(t,e,n){n[e]=e>0?t+n[e-1]:t})),o.forEach((function(t){t=2*t*Math.PI/o[o.length-1];var n=Math.random();i.push([n*(e.max_radial_length||10)*Math.sin(t),n*(e.max_radial_length||10)*Math.cos(t)])})),i[i.length-1]=i[0],i=i.map((r=ba(e.bbox),function(t){return[t[0]+r[0],t[1]+r[1]]})),n.push(l([i]))},i=0;i<t;i++)r();return f(n)}function Ea(t,e){if(void 0===e&&(e={}),!I(e=e||{}))throw new Error(\"options is invalid\");var n=e.bbox,r=e.num_vertices,i=e.max_length,o=e.max_rotation;null==t&&(t=1),(!P(r)||void 0===r||r<2)&&(r=10),P(i)&&void 0!==i||(i=1e-4),P(o)&&void 0!==o||(o=Math.PI/8);for(var s=[],a=0;a<t;a++){for(var u=[ba(n)],l=0;l<r-1;l++){var c=(0===l?2*Math.random()*Math.PI:Math.tan((u[l][1]-u[l-1][1])/(u[l][0]-u[l-1][0])))+(Math.random()-.5)*o*2,p=Math.random()*i;u.push([u[l][0]+p*Math.cos(c),u[l][1]+p*Math.sin(c)])}s.push(h(u))}return f(s)}function Ca(){return Math.random()-.5}function Sa(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}var Oa=Object.freeze({__proto__:null,randomPosition:ba,randomPoint:xa,randomPolygon:wa,randomLineString:Ea});function Pa(t,e){if(!t)throw new Error(\"geojson is required\");if(\"FeatureCollection\"!==t.type)throw new Error(\"geojson must be a FeatureCollection\");if(null==e)throw new Error(\"filter is required\");var n=[];return j(t,(function(t){Aa(t.properties,e)&&n.push(t)})),f(n)}function Ia(t,e,n){if(!t)throw new Error(\"geojson is required\");if(\"FeatureCollection\"!==t.type)throw new Error(\"geojson must be a FeatureCollection\");if(null==e)throw new Error(\"property is required\");for(var r=Ma(t,e),i=Object.keys(r),o=0;o<i.length;o++){for(var s=i[o],a=r[s],u=[],l=0;l<a.length;l++)u.push(t.features[a[l]]);n(f(u),s,o)}}function Ta(t,e,n,r){var i=r;return Ia(t,e,(function(t,e,o){i=0===o&&void 0===r?t:n(i,t,e,o)})),i}function Ma(t,e){var n={};return j(t,(function(t,r){var i=t.properties||{};if(Object.prototype.hasOwnProperty.call(i,String(e))){var o=i[e];Object.prototype.hasOwnProperty.call(n,o)?n[o].push(r):n[o]=[r]}})),n}function Aa(t,e){if(void 0===t)return!1;var n=typeof e;if(\"number\"===n||\"string\"===n)return Object.prototype.hasOwnProperty.call(t,e);if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(!Aa(t,e[r]))return!1;return!0}return La(t,e)}function La(t,e){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if(t[i]!==e[i])return!1}return!0}function Ra(t,e){if(!e)return{};if(!e.length)return{};for(var n={},r=0;r<e.length;r++){var i=e[r];Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}var Na=Object.freeze({__proto__:null,getCluster:Pa,clusterEach:Ia,clusterReduce:Ta,createBins:Ma,applyFilter:Aa,propertiesContainsFilter:La,filterProperties:Ra}),Fa=function(t,e){this.next=null,this.key=t,this.data=e,this.left=null,this.right=null\n/**\n     * splaytree v3.1.0\n     * Fast Splay tree for Node and browser\n     *\n     * @author Alexander Milevski <info@w8r.name>\n     * @license MIT\n     * @preserve\n     */};function ja(t,e){return t>e?1:t<e?-1:0}function Da(t,e,n){for(var r=new Fa(null,null),i=r,o=r;;){var s=n(t,e.key);if(s<0){if(null===e.left)break;if(n(t,e.left.key)<0){var a=e.left;if(e.left=a.right,a.right=e,null===(e=a).left)break}o.left=e,o=e,e=e.left}else{if(!(s>0))break;if(null===e.right)break;if(n(t,e.right.key)>0&&(a=e.right,e.right=a.left,a.left=e,null===(e=a).right))break;i.right=e,i=e,e=e.right}}return i.right=e.left,o.left=e.right,e.left=r.right,e.right=r.left,e}function ka(t,e,n,r){var i=new Fa(t,e);if(null===n)return i.left=i.right=null,i;var o=r(t,(n=Da(t,n,r)).key);return o<0?(i.left=n.left,i.right=n,n.left=null):o>=0&&(i.right=n.right,i.left=n,n.right=null),i}function Ga(t,e,n){var r=null,i=null;if(e){var o=n((e=Da(t,e,n)).key,t);0===o?(r=e.left,i=e.right):o<0?(i=e.right,e.right=null,r=e):(r=e.left,e.left=null,i=e)}return{left:r,right:i}}var Ba=function(){function t(t){void 0===t&&(t=ja),this._root=null,this._size=0,this._comparator=t}return t.prototype.insert=function(t,e){return this._size++,this._root=ka(t,e,this._root,this._comparator)},t.prototype.add=function(t,e){var n=new Fa(t,e);null===this._root&&(n.left=n.right=null,this._size++,this._root=n);var r=this._comparator,i=Da(t,this._root,r),o=r(t,i.key);return 0===o?this._root=i:(o<0?(n.left=i.left,n.right=i,i.left=null):o>0&&(n.right=i.right,n.left=i,i.right=null),this._size++,this._root=n),this._root},t.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},t.prototype._remove=function(t,e,n){var r;return null===e?null:0===n(t,(e=Da(t,e,n)).key)?(null===e.left?r=e.right:(r=Da(t,e.left,n)).right=e.right,this._size--,r):e},t.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=Da(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},t.prototype.findStatic=function(t){for(var e=this._root,n=this._comparator;e;){var r=n(t,e.key);if(0===r)return e;e=r<0?e.left:e.right}return null},t.prototype.find=function(t){return this._root&&(this._root=Da(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root},t.prototype.contains=function(t){for(var e=this._root,n=this._comparator;e;){var r=n(t,e.key);if(0===r)return!0;e=r<0?e.left:e.right}return!1},t.prototype.forEach=function(t,e){for(var n=this._root,r=[],i=!1;!i;)null!==n?(r.push(n),n=n.left):0!==r.length?(n=r.pop(),t.call(e,n),n=n.right):i=!0;return this},t.prototype.range=function(t,e,n,r){for(var i=[],o=this._comparator,s=this._root;0!==i.length||s;)if(s)i.push(s),s=s.left;else{if(o((s=i.pop()).key,e)>0)break;if(o(s.key,t)>=0&&n.call(r,s))return this;s=s.right}return this},t.prototype.keys=function(){var t=[];return this.forEach((function(e){var n=e.key;return t.push(n)})),t},t.prototype.values=function(){var t=[];return this.forEach((function(e){var n=e.data;return t.push(n)})),t},t.prototype.min=function(){return this._root?this.minNode(this._root).key:null},t.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},t.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},t.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},t.prototype.at=function(t){for(var e=this._root,n=!1,r=0,i=[];!n;)if(e)i.push(e),e=e.left;else if(i.length>0){if(e=i.pop(),r===t)return e;r++,e=e.right}else n=!0;return null},t.prototype.next=function(t){var e=this._root,n=null;if(t.right){for(n=t.right;n.left;)n=n.left;return n}for(var r=this._comparator;e;){var i=r(t.key,e.key);if(0===i)break;i<0?(n=e,e=e.left):e=e.right}return n},t.prototype.prev=function(t){var e=this._root,n=null;if(null!==t.left){for(n=t.left;n.right;)n=n.right;return n}for(var r=this._comparator;e;){var i=r(t.key,e.key);if(0===i)break;i<0?e=e.left:(n=e,e=e.right)}return n},t.prototype.clear=function(){return this._root=null,this._size=0,this},t.prototype.toList=function(){return function(t){for(var e=t,n=[],r=!1,i=new Fa(null,null),o=i;!r;)e?(n.push(e),e=e.left):n.length>0?e=(e=o=o.next=n.pop()).right:r=!0;return o.next=null,i.next}(this._root)},t.prototype.load=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=!1);var r=t.length,i=this._comparator;if(n&&function t(e,n,r,i,o){if(!(r>=i)){for(var s=e[r+i>>1],a=r-1,u=i+1;;){do{a++}while(o(e[a],s)<0);do{u--}while(o(e[u],s)>0);if(a>=u)break;var l=e[a];e[a]=e[u],e[u]=l,l=n[a],n[a]=n[u],n[u]=l}t(e,n,r,u,o),t(e,n,u+1,i,o)}}(t,e,0,r-1,i),null===this._root)this._root=function t(e,n,r,i){var o=i-r;if(o>0){var s=r+Math.floor(o/2),a=e[s],u=n[s],l=new Fa(a,u);return l.left=t(e,n,r,s),l.right=t(e,n,s+1,i),l}return null}(t,e,0,r),this._size=r;else{var o=function(t,e,n){for(var r=new Fa(null,null),i=r,o=t,s=e;null!==o&&null!==s;)n(o.key,s.key)<0?(i.next=o,o=o.next):(i.next=s,s=s.next),i=i.next;return null!==o?i.next=o:null!==s&&(i.next=s),r.next}(this.toList(),function(t,e){for(var n=new Fa(null,null),r=n,i=0;i<t.length;i++)r=r.next=new Fa(t[i],e[i]);return r.next=null,n.next}(t,e),i);r=this._size+r,this._root=function t(e,n,r){var i=r-n;if(i>0){var o=n+Math.floor(i/2),s=t(e,n,o),a=e.head;return a.left=s,e.head=e.head.next,a.right=t(e,o+1,r),a}return null}({head:o},0,r)}return this},t.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(t.prototype,\"size\",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"root\",{get:function(){return this._root},enumerable:!0,configurable:!0}),t.prototype.toString=function(t){void 0===t&&(t=function(t){return String(t.key)});var e=[];return function t(e,n,r,i,o){if(e){i(n+(r?\"└── \":\"├── \")+o(e)+\"\\n\");var s=n+(r?\"    \":\"│   \");e.left&&t(e.left,s,!1,i,o),e.right&&t(e.right,s,!0,i,o)}}(this._root,\"\",!0,(function(t){return e.push(t)}),t),e.join(\"\")},t.prototype.update=function(t,e,n){var r=this._comparator,i=Ga(t,this._root,r),o=i.left,s=i.right;r(t,e)<0?s=ka(e,n,s,r):o=ka(e,n,o,r),this._root=function(t,e,n){return null===e?t:(null===t||((e=Da(t.key,e,n)).left=t),e)}(o,s,r)},t.prototype.split=function(t){return Ga(t,this._root,this._comparator)},t}();function za(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function Va(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qa(t,e,n){return e&&Va(t.prototype,e),n&&Va(t,n),t}var Ua=function(t,e){return t.ll.x<=e.x&&e.x<=t.ur.x&&t.ll.y<=e.y&&e.y<=t.ur.y},$a=function(t,e){if(e.ur.x<t.ll.x||t.ur.x<e.ll.x||e.ur.y<t.ll.y||t.ur.y<e.ll.y)return null;var n=t.ll.x<e.ll.x?e.ll.x:t.ll.x,r=t.ur.x<e.ur.x?t.ur.x:e.ur.x;return{ll:{x:n,y:t.ll.y<e.ll.y?e.ll.y:t.ll.y},ur:{x:r,y:t.ur.y<e.ur.y?t.ur.y:e.ur.y}}},Xa=Number.EPSILON;void 0===Xa&&(Xa=Math.pow(2,-52));var Ya=Xa*Xa,Wa=function(t,e){if(-Xa<t&&t<Xa&&-Xa<e&&e<Xa)return 0;var n=t-e;return n*n<Ya*t*e?0:t<e?-1:1},Ha=function(){function t(){za(this,t),this.reset()}return qa(t,[{key:\"reset\",value:function(){this.xRounder=new Ka,this.yRounder=new Ka}},{key:\"round\",value:function(t,e){return{x:this.xRounder.round(t),y:this.yRounder.round(e)}}}]),t}(),Ka=function(){function t(){za(this,t),this.tree=new Ba,this.round(0)}return qa(t,[{key:\"round\",value:function(t){var e=this.tree.add(t),n=this.tree.prev(e);if(null!==n&&0===Wa(e.key,n.key))return this.tree.remove(t),n.key;var r=this.tree.next(e);return null!==r&&0===Wa(e.key,r.key)?(this.tree.remove(t),r.key):t}}]),t}(),Za=new Ha,Ja=function(t,e){return t.x*e.y-t.y*e.x},Qa=function(t,e){return t.x*e.x+t.y*e.y},tu=function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},i={x:n.x-t.x,y:n.y-t.y},o=Ja(r,i);return Wa(o,0)},eu=function(t){return Math.sqrt(Qa(t,t))},nu=function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},i={x:n.x-t.x,y:n.y-t.y};return Qa(i,r)/eu(i)/eu(r)},ru=function(t,e,n){return 0===e.y?null:{x:t.x+e.x/e.y*(n-t.y),y:n}},iu=function(t,e,n){return 0===e.x?null:{x:n,y:t.y+e.y/e.x*(n-t.x)}},ou=function(){function t(e,n){za(this,t),void 0===e.events?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=n}return qa(t,null,[{key:\"compare\",value:function(e,n){var r=t.comparePoints(e.point,n.point);return 0!==r?r:(e.point!==n.point&&e.link(n),e.isLeft!==n.isLeft?e.isLeft?1:-1:au.compare(e.segment,n.segment))}},{key:\"comparePoints\",value:function(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}}]),qa(t,[{key:\"link\",value:function(t){if(t.point===this.point)throw new Error(\"Tried to link already linked events\");for(var e=t.point.events,n=0,r=e.length;n<r;n++){var i=e[n];this.point.events.push(i),i.point=this.point}this.checkForConsuming()}},{key:\"checkForConsuming\",value:function(){for(var t=this.point.events.length,e=0;e<t;e++){var n=this.point.events[e];if(void 0===n.segment.consumedBy)for(var r=e+1;r<t;r++){var i=this.point.events[r];void 0===i.consumedBy&&n.otherSE.point.events===i.otherSE.point.events&&n.segment.consume(i.segment)}}}},{key:\"getAvailableLinkedEvents\",value:function(){for(var t=[],e=0,n=this.point.events.length;e<n;e++){var r=this.point.events[e];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&t.push(r)}return t}},{key:\"getLeftmostComparator\",value:function(t){var e=this,n=new Map,r=function(r){var i,o,s,a,u,l=r.otherSE;n.set(r,{sine:(i=e.point,o=t.point,s=l.point,a={x:o.x-i.x,y:o.y-i.y},u={x:s.x-i.x,y:s.y-i.y},Ja(u,a)/eu(u)/eu(a)),cosine:nu(e.point,t.point,l.point)})};return function(t,e){n.has(t)||r(t),n.has(e)||r(e);var i=n.get(t),o=i.sine,s=i.cosine,a=n.get(e),u=a.sine,l=a.cosine;return o>=0&&u>=0?s<l?1:s>l?-1:0:o<0&&u<0?s<l?-1:s>l?1:0:u<o?-1:u>o?1:0}}}]),t}(),su=0,au=function(){function t(e,n,r,i){za(this,t),this.id=++su,this.leftSE=e,e.segment=this,e.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=e,this.rings=r,this.windings=i}return qa(t,null,[{key:\"compare\",value:function(t,e){var n=t.leftSE.point.x,r=e.leftSE.point.x,i=t.rightSE.point.x,o=e.rightSE.point.x;if(o<n)return 1;if(i<r)return-1;var s=t.leftSE.point.y,a=e.leftSE.point.y,u=t.rightSE.point.y,l=e.rightSE.point.y;if(n<r){if(a<s&&a<u)return 1;if(a>s&&a>u)return-1;var c=t.comparePoint(e.leftSE.point);if(c<0)return 1;if(c>0)return-1;var h=e.comparePoint(t.rightSE.point);return 0!==h?h:-1}if(n>r){if(s<a&&s<l)return-1;if(s>a&&s>l)return 1;var p=e.comparePoint(t.leftSE.point);if(0!==p)return p;var f=t.comparePoint(e.rightSE.point);return f<0?1:f>0?-1:1}if(s<a)return-1;if(s>a)return 1;if(i<o){var d=e.comparePoint(t.rightSE.point);if(0!==d)return d}if(i>o){var g=t.comparePoint(e.rightSE.point);if(g<0)return 1;if(g>0)return-1}if(i!==o){var y=u-s,v=i-n,_=l-a,m=o-r;if(y>v&&_<m)return 1;if(y<v&&_>m)return-1}return i>o?1:i<o||u<l?-1:u>l?1:t.id<e.id?-1:t.id>e.id?1:0}}]),qa(t,[{key:\"replaceRightSE\",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:\"bbox\",value:function(){var t=this.leftSE.point.y,e=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<e?t:e},ur:{x:this.rightSE.point.x,y:t>e?t:e}}}},{key:\"vector\",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:\"isAnEndpoint\",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:\"comparePoint\",value:function(t){if(this.isAnEndpoint(t))return 0;var e=this.leftSE.point,n=this.rightSE.point,r=this.vector();if(e.x===n.x)return t.x===e.x?0:t.x<e.x?1:-1;var i=(t.y-e.y)/r.y,o=e.x+i*r.x;if(t.x===o)return 0;var s=(t.x-e.x)/r.x,a=e.y+s*r.y;return t.y===a?0:t.y<a?-1:1}},{key:\"getIntersection\",value:function(t){var e=this.bbox(),n=t.bbox(),r=$a(e,n);if(null===r)return null;var i=this.leftSE.point,o=this.rightSE.point,s=t.leftSE.point,a=t.rightSE.point,u=Ua(e,s)&&0===this.comparePoint(s),l=Ua(n,i)&&0===t.comparePoint(i),c=Ua(e,a)&&0===this.comparePoint(a),h=Ua(n,o)&&0===t.comparePoint(o);if(l&&u)return h&&!c?o:!h&&c?a:null;if(l)return c&&i.x===a.x&&i.y===a.y?null:i;if(u)return h&&o.x===s.x&&o.y===s.y?null:s;if(h&&c)return null;if(h)return o;if(c)return a;var p=function(t,e,n,r){if(0===e.x)return iu(n,r,t.x);if(0===r.x)return iu(t,e,n.x);if(0===e.y)return ru(n,r,t.y);if(0===r.y)return ru(t,e,n.y);var i=Ja(e,r);if(0==i)return null;var o={x:n.x-t.x,y:n.y-t.y},s=Ja(o,e)/i,a=Ja(o,r)/i;return{x:(t.x+a*e.x+(n.x+s*r.x))/2,y:(t.y+a*e.y+(n.y+s*r.y))/2}}(i,this.vector(),s,t.vector());return null===p?null:Ua(r,p)?Za.round(p.x,p.y):null}},{key:\"split\",value:function(e){var n=[],r=void 0!==e.events,i=new ou(e,!0),o=new ou(e,!1),s=this.rightSE;this.replaceRightSE(o),n.push(o),n.push(i);var a=new t(i,s,this.rings.slice(),this.windings.slice());return ou.comparePoints(a.leftSE.point,a.rightSE.point)>0&&a.swapEvents(),ou.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(i.checkForConsuming(),o.checkForConsuming()),n}},{key:\"swapEvents\",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var e=0,n=this.windings.length;e<n;e++)this.windings[e]*=-1}},{key:\"consume\",value:function(e){for(var n=this,r=e;n.consumedBy;)n=n.consumedBy;for(;r.consumedBy;)r=r.consumedBy;var i=t.compare(n,r);if(0!==i){if(i>0){var o=n;n=r,r=o}if(n.prev===r){var s=n;n=r,r=s}for(var a=0,u=r.rings.length;a<u;a++){var l=r.rings[a],c=r.windings[a],h=n.rings.indexOf(l);-1===h?(n.rings.push(l),n.windings.push(c)):n.windings[h]+=c}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}},{key:\"prevInResult\",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:\"beforeState\",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:\"afterState\",value:function(){if(void 0!==this._afterState)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var e=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys,i=0,o=this.rings.length;i<o;i++){var s=this.rings[i],a=this.windings[i],u=e.indexOf(s);-1===u?(e.push(s),n.push(a)):n[u]+=a}for(var l=[],c=[],h=0,p=e.length;h<p;h++)if(0!==n[h]){var f=e[h],d=f.poly;if(-1===c.indexOf(d))if(f.isExterior)l.push(d);else{-1===c.indexOf(d)&&c.push(d);var g=l.indexOf(f.poly);-1!==g&&l.splice(g,1)}}for(var y=0,v=l.length;y<v;y++){var _=l[y].multiPoly;-1===r.indexOf(_)&&r.push(_)}return this._afterState}},{key:\"isInResult\",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var t=this.beforeState().multiPolys,e=this.afterState().multiPolys;switch(vu.type){case\"union\":var n=0===t.length,r=0===e.length;this._isInResult=n!==r;break;case\"intersection\":var i,o;t.length<e.length?(i=t.length,o=e.length):(i=e.length,o=t.length),this._isInResult=o===vu.numMultiPolys&&i<o;break;case\"xor\":var s=Math.abs(t.length-e.length);this._isInResult=s%2==1;break;case\"difference\":var a=function(t){return 1===t.length&&t[0].isSubject};this._isInResult=a(t)!==a(e);break;default:throw new Error(\"Unrecognized operation type found \".concat(vu.type))}return this._isInResult}}],[{key:\"fromRing\",value:function(e,n,r){var i,o,s,a=ou.comparePoints(e,n);if(a<0)i=e,o=n,s=1;else{if(!(a>0))throw new Error(\"Tried to create degenerate segment at [\".concat(e.x,\", \").concat(e.y,\"]\"));i=n,o=e,s=-1}return new t(new ou(i,!0),new ou(o,!1),[r],[s])}}]),t}(),uu=function(){function t(e,n,r){if(za(this,t),!Array.isArray(e)||0===e.length)throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");if(this.poly=n,this.isExterior=r,this.segments=[],\"number\"!=typeof e[0][0]||\"number\"!=typeof e[0][1])throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");var i=Za.round(e[0][0],e[0][1]);this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};for(var o=i,s=1,a=e.length;s<a;s++){if(\"number\"!=typeof e[s][0]||\"number\"!=typeof e[s][1])throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");var u=Za.round(e[s][0],e[s][1]);u.x===o.x&&u.y===o.y||(this.segments.push(au.fromRing(o,u,this)),u.x<this.bbox.ll.x&&(this.bbox.ll.x=u.x),u.y<this.bbox.ll.y&&(this.bbox.ll.y=u.y),u.x>this.bbox.ur.x&&(this.bbox.ur.x=u.x),u.y>this.bbox.ur.y&&(this.bbox.ur.y=u.y),o=u)}i.x===o.x&&i.y===o.y||this.segments.push(au.fromRing(o,i,this))}return qa(t,[{key:\"getSweepEvents\",value:function(){for(var t=[],e=0,n=this.segments.length;e<n;e++){var r=this.segments[e];t.push(r.leftSE),t.push(r.rightSE)}return t}}]),t}(),lu=function(){function t(e,n){if(za(this,t),!Array.isArray(e))throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");this.exteriorRing=new uu(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var r=1,i=e.length;r<i;r++){var o=new uu(e[r],this,!1);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.interiorRings.push(o)}this.multiPoly=n}return qa(t,[{key:\"getSweepEvents\",value:function(){for(var t=this.exteriorRing.getSweepEvents(),e=0,n=this.interiorRings.length;e<n;e++)for(var r=this.interiorRings[e].getSweepEvents(),i=0,o=r.length;i<o;i++)t.push(r[i]);return t}}]),t}(),cu=function(){function t(e,n){if(za(this,t),!Array.isArray(e))throw new Error(\"Input geometry is not a valid Polygon or MultiPolygon\");try{\"number\"==typeof e[0][0][0]&&(e=[e])}catch(t){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var r=0,i=e.length;r<i;r++){var o=new lu(e[r],this);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.polys.push(o)}this.isSubject=n}return qa(t,[{key:\"getSweepEvents\",value:function(){for(var t=[],e=0,n=this.polys.length;e<n;e++)for(var r=this.polys[e].getSweepEvents(),i=0,o=r.length;i<o;i++)t.push(r[i]);return t}}]),t}(),hu=function(){function t(e){za(this,t),this.events=e;for(var n=0,r=e.length;n<r;n++)e[n].segment.ringOut=this;this.poly=null}return qa(t,null,[{key:\"factory\",value:function(e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];if(o.isInResult()&&!o.ringOut){for(var s=null,a=o.leftSE,u=o.rightSE,l=[a],c=a.point,h=[];s=a,a=u,l.push(a),a.point!==c;)for(;;){var p=a.getAvailableLinkedEvents();if(0===p.length){var f=l[0].point,d=l[l.length-1].point;throw new Error(\"Unable to complete output ring starting at [\".concat(f.x,\",\")+\" \".concat(f.y,\"]. Last matching segment found ends at\")+\" [\".concat(d.x,\", \").concat(d.y,\"].\"))}if(1===p.length){u=p[0].otherSE;break}for(var g=null,y=0,v=h.length;y<v;y++)if(h[y].point===a.point){g=y;break}if(null===g){h.push({index:l.length,point:a.point});var _=a.getLeftmostComparator(s);u=p.sort(_)[0].otherSE;break}var m=h.splice(g)[0],b=l.splice(m.index);b.unshift(b[0].otherSE),n.push(new t(b.reverse()))}n.push(new t(l))}}return n}}]),qa(t,[{key:\"getGeom\",value:function(){for(var t=this.events[0].point,e=[t],n=1,r=this.events.length-1;n<r;n++){var i=this.events[n].point,o=this.events[n+1].point;0!==tu(i,t,o)&&(e.push(i),t=i)}if(1===e.length)return null;var s=e[0],a=e[1];0===tu(s,t,a)&&e.shift(),e.push(e[0]);for(var u=this.isExteriorRing()?1:-1,l=this.isExteriorRing()?0:e.length-1,c=this.isExteriorRing()?e.length:-1,h=[],p=l;p!=c;p+=u)h.push([e[p].x,e[p].y]);return h}},{key:\"isExteriorRing\",value:function(){if(void 0===this._isExteriorRing){var t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}},{key:\"enclosingRing\",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:\"_calcEnclosingRing\",value:function(){for(var t=this.events[0],e=1,n=this.events.length;e<n;e++){var r=this.events[e];ou.compare(t,r)>0&&(t=r)}for(var i=t.segment.prevInResult(),o=i?i.prevInResult():null;;){if(!i)return null;if(!o)return i.ringOut;if(o.ringOut!==i.ringOut)return o.ringOut.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut.enclosingRing();i=o.prevInResult(),o=i?i.prevInResult():null}}}]),t}(),pu=function(){function t(e){za(this,t),this.exteriorRing=e,e.poly=this,this.interiorRings=[]}return qa(t,[{key:\"addInterior\",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:\"getGeom\",value:function(){var t=[this.exteriorRing.getGeom()];if(null===t[0])return null;for(var e=0,n=this.interiorRings.length;e<n;e++){var r=this.interiorRings[e].getGeom();null!==r&&t.push(r)}return t}}]),t}(),fu=function(){function t(e){za(this,t),this.rings=e,this.polys=this._composePolys(e)}return qa(t,[{key:\"getGeom\",value:function(){for(var t=[],e=0,n=this.polys.length;e<n;e++){var r=this.polys[e].getGeom();null!==r&&t.push(r)}return t}},{key:\"_composePolys\",value:function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];if(!i.poly)if(i.isExteriorRing())e.push(new pu(i));else{var o=i.enclosingRing();o.poly||e.push(new pu(o)),o.poly.addInterior(i)}}return e}}]),t}(),du=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:au.compare;za(this,t),this.queue=e,this.tree=new Ba(n),this.segments=[]}return qa(t,[{key:\"process\",value:function(t){var e=t.segment,n=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(e),n;var r=t.isLeft?this.tree.insert(e):this.tree.find(e);if(!r)throw new Error(\"Unable to find segment #\".concat(e.id,\" \")+\"[\".concat(e.leftSE.point.x,\", \").concat(e.leftSE.point.y,\"] -> \")+\"[\".concat(e.rightSE.point.x,\", \").concat(e.rightSE.point.y,\"] \")+\"in SweepLine tree. Please submit a bug report.\");for(var i=r,o=r,s=void 0,a=void 0;void 0===s;)null===(i=this.tree.prev(i))?s=null:void 0===i.key.consumedBy&&(s=i.key);for(;void 0===a;)null===(o=this.tree.next(o))?a=null:void 0===o.key.consumedBy&&(a=o.key);if(t.isLeft){var u=null;if(s){var l=s.getIntersection(e);if(null!==l&&(e.isAnEndpoint(l)||(u=l),!s.isAnEndpoint(l)))for(var c=this._splitSafely(s,l),h=0,p=c.length;h<p;h++)n.push(c[h])}var f=null;if(a){var d=a.getIntersection(e);if(null!==d&&(e.isAnEndpoint(d)||(f=d),!a.isAnEndpoint(d)))for(var g=this._splitSafely(a,d),y=0,v=g.length;y<v;y++)n.push(g[y])}if(null!==u||null!==f){var _=null;_=null===u?f:null===f||ou.comparePoints(u,f)<=0?u:f,this.queue.remove(e.rightSE),n.push(e.rightSE);for(var m=e.split(_),b=0,x=m.length;b<x;b++)n.push(m[b])}n.length>0?(this.tree.remove(e),n.push(t)):(this.segments.push(e),e.prev=s)}else{if(s&&a){var w=s.getIntersection(a);if(null!==w){if(!s.isAnEndpoint(w))for(var E=this._splitSafely(s,w),C=0,S=E.length;C<S;C++)n.push(E[C]);if(!a.isAnEndpoint(w))for(var O=this._splitSafely(a,w),P=0,I=O.length;P<I;P++)n.push(O[P])}}this.tree.remove(e)}return n}},{key:\"_splitSafely\",value:function(t,e){this.tree.remove(t);var n=t.rightSE;this.queue.remove(n);var r=t.split(e);return r.push(n),void 0===t.consumedBy&&this.tree.insert(t),r}}]),t}(),gu=\"undefined\"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,yu=\"undefined\"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,vu=new(function(){function t(){za(this,t)}return qa(t,[{key:\"run\",value:function(t,e,n){vu.type=t,Za.reset();for(var r=[new cu(e,!0)],i=0,o=n.length;i<o;i++)r.push(new cu(n[i],!1));if(vu.numMultiPolys=r.length,\"difference\"===vu.type)for(var s=r[0],a=1;a<r.length;)null!==$a(r[a].bbox,s.bbox)?a++:r.splice(a,1);if(\"intersection\"===vu.type)for(var u=0,l=r.length;u<l;u++)for(var c=r[u],h=u+1,p=r.length;h<p;h++)if(null===$a(c.bbox,r[h].bbox))return[];for(var f=new Ba(ou.compare),d=0,g=r.length;d<g;d++)for(var y=r[d].getSweepEvents(),v=0,_=y.length;v<_;v++)if(f.insert(y[v]),f.size>gu)throw new Error(\"Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.\");for(var m=new du(f),b=f.size,x=f.pop();x;){var w=x.key;if(f.size===b){var E=w.segment;throw new Error(\"Unable to pop() \".concat(w.isLeft?\"left\":\"right\",\" SweepEvent \")+\"[\".concat(w.point.x,\", \").concat(w.point.y,\"] from segment #\").concat(E.id,\" \")+\"[\".concat(E.leftSE.point.x,\", \").concat(E.leftSE.point.y,\"] -> \")+\"[\".concat(E.rightSE.point.x,\", \").concat(E.rightSE.point.y,\"] from queue. \")+\"Please file a bug report.\")}if(f.size>gu)throw new Error(\"Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.\");if(m.segments.length>yu)throw new Error(\"Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.\");for(var C=m.process(w),S=0,O=C.length;S<O;S++){var P=C[S];void 0===P.consumedBy&&f.insert(P)}b=f.size,x=f.pop()}Za.reset();var I=hu.factory(m.segments);return new fu(I).getGeom()}}]),t}()),_u={union:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return vu.run(\"union\",t,n)},intersection:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return vu.run(\"intersection\",t,n)},xor:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return vu.run(\"xor\",t,n)},difference:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return vu.run(\"difference\",t,n)}};\"fill\"in Array.prototype||Object.defineProperty(Array.prototype,\"fill\",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+\" is not an object\");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return\"number\"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return\"number\"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var mu=function(){};mu.prototype.interfaces_=function(){return[]},mu.prototype.getClass=function(){return mu},mu.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var bu=function(t){function e(e){t.call(this,e),this.name=\"IllegalArgumentException\",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),xu=function(){},wu={MAX_VALUE:{configurable:!0}};xu.isNaN=function(t){return Number.isNaN(t)},xu.doubleToLongBits=function(t){return t},xu.longBitsToDouble=function(t){return t},xu.isInfinite=function(t){return!Number.isFinite(t)},wu.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(xu,wu);var Eu=function(){},Cu=function(){},Su=function(){};function Ou(){}var Pu=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Iu={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};Pu.prototype.setOrdinate=function(t,e){switch(t){case Pu.X:this.x=e;break;case Pu.Y:this.y=e;break;case Pu.Z:this.z=e;break;default:throw new bu(\"Invalid ordinate index: \"+t)}},Pu.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!mu.equalsWithTolerance(this.x,e.x,n)&&!!mu.equalsWithTolerance(this.y,e.y,n)}},Pu.prototype.getOrdinate=function(t){switch(t){case Pu.X:return this.x;case Pu.Y:return this.y;case Pu.Z:return this.z}throw new bu(\"Invalid ordinate index: \"+t)},Pu.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||xu.isNaN(this.z))&&xu.isNaN(t.z)},Pu.prototype.equals=function(t){return t instanceof Pu&&this.equals2D(t)},Pu.prototype.equalInZ=function(t,e){return mu.equalsWithTolerance(this.z,t.z,e)},Pu.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},Pu.prototype.clone=function(){},Pu.prototype.copy=function(){return new Pu(this)},Pu.prototype.toString=function(){return\"(\"+this.x+\", \"+this.y+\", \"+this.z+\")\"},Pu.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},Pu.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},Pu.prototype.hashCode=function(){var t=17;return 37*(t=37*t+Pu.hashCode(this.x))+Pu.hashCode(this.y)},Pu.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},Pu.prototype.interfaces_=function(){return[Eu,Cu,Ou]},Pu.prototype.getClass=function(){return Pu},Pu.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=xu.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},Iu.DimensionalComparator.get=function(){return Tu},Iu.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},Iu.NULL_ORDINATE.get=function(){return xu.NaN},Iu.X.get=function(){return 0},Iu.Y.get=function(){return 1},Iu.Z.get=function(){return 2},Object.defineProperties(Pu,Iu);var Tu=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new bu(\"only 2 or 3 dimensions may be specified\");this._dimensionsToTest=e}};Tu.prototype.compare=function(t,e){var n=t,r=e,i=Tu.compare(n.x,r.x);if(0!==i)return i;var o=Tu.compare(n.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:Tu.compare(n.z,r.z)},Tu.prototype.interfaces_=function(){return[Su]},Tu.prototype.getClass=function(){return Tu},Tu.compare=function(t,e){return t<e?-1:t>e?1:xu.isNaN(t)?xu.isNaN(e)?0:-1:xu.isNaN(e)?1:0};var Mu=function(){};Mu.prototype.create=function(){},Mu.prototype.interfaces_=function(){return[]},Mu.prototype.getClass=function(){return Mu};var Au=function(){},Lu={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};Au.prototype.interfaces_=function(){return[]},Au.prototype.getClass=function(){return Au},Au.toLocationSymbol=function(t){switch(t){case Au.EXTERIOR:return\"e\";case Au.BOUNDARY:return\"b\";case Au.INTERIOR:return\"i\";case Au.NONE:return\"-\"}throw new bu(\"Unknown location value: \"+t)},Lu.INTERIOR.get=function(){return 0},Lu.BOUNDARY.get=function(){return 1},Lu.EXTERIOR.get=function(){return 2},Lu.NONE.get=function(){return-1},Object.defineProperties(Au,Lu);var Ru=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},Nu=function(){},Fu={LOG_10:{configurable:!0}};Nu.prototype.interfaces_=function(){return[]},Nu.prototype.getClass=function(){return Nu},Nu.log10=function(t){var e=Math.log(t);return xu.isInfinite(e)||xu.isNaN(e)?e:e/Nu.LOG_10},Nu.min=function(t,e,n,r){var i=t;return e<i&&(i=e),n<i&&(i=n),r<i&&(i=r),i},Nu.clamp=function(){if(\"number\"==typeof arguments[2]&&\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},Nu.wrap=function(t,e){return t<0?e- -t%e:t%e},Nu.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=t;return e>r&&(r=e),n>r&&(r=n),r}if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=i;return o>u&&(u=o),s>u&&(u=s),a>u&&(u=a),u}},Nu.average=function(t,e){return(t+e)/2},Fu.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(Nu,Fu);var ju=function(t){this.str=t};ju.prototype.append=function(t){this.str+=t},ju.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},ju.prototype.toString=function(t){return this.str};var Du=function(t){this.value=t};Du.prototype.intValue=function(){return this.value},Du.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},Du.isNaN=function(t){return Number.isNaN(t)};var ku=function(){};ku.isWhitespace=function(t){return t<=32&&t>=0||127===t},ku.toUpperCase=function(t){return t.toUpperCase()};var Gu=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if(\"number\"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else if(\"string\"==typeof arguments[0]){var r=arguments[0];t.call(this,t.parse(r))}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.init(i,o)}},Bu={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Gu.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},Gu.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),r=Gu.magnitude(n._hi),i=Gu.TEN.pow(r);(n=n.divide(i)).gt(Gu.TEN)?(n=n.divide(Gu.TEN),r+=1):n.lt(Gu.ONE)&&(n=n.multiply(Gu.TEN),r-=1);for(var o=r+1,s=new ju,a=Gu.MAX_PRINT_DIGITS-1,u=0;u<=a;u++){t&&u===o&&s.append(\".\");var l=Math.trunc(n._hi);if(l<0)break;var c=!1,h=0;l>9?(c=!0,h=\"9\"):h=\"0\"+l,s.append(h),n=n.subtract(Gu.valueOf(l)).multiply(Gu.TEN),c&&n.selfAdd(Gu.TEN);var p=!0,f=Gu.magnitude(n._hi);if(f<0&&Math.abs(f)>=a-u&&(p=!1),!p)break}return e[0]=r,s.toString()},Gu.prototype.sqr=function(){return this.multiply(this)},Gu.prototype.doubleValue=function(){return this._hi+this._lo},Gu.prototype.subtract=function(){if(arguments[0]instanceof Gu){var t=arguments[0];return this.add(t.negate())}if(\"number\"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},Gu.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},Gu.prototype.isZero=function(){return 0===this._hi&&0===this._lo},Gu.prototype.selfSubtract=function(){if(arguments[0]instanceof Gu){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if(\"number\"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},Gu.prototype.getSpecialNumberString=function(){return this.isZero()?\"0.0\":this.isNaN()?\"NaN \":null},Gu.prototype.min=function(t){return this.le(t)?this:t},Gu.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof Gu){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if(\"number\"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,s=null,a=null,u=null,l=null,c=null,h=null;return u=this._hi/n,h=(i=(l=Gu.SPLIT*u)-(i=l-u))*(s=(h=Gu.SPLIT*n)-(s=h-n))-(c=u*n)+i*(a=n-s)+(o=u-i)*s+o*a,h=u+(l=(this._hi-c-h+this._lo-u*r)/n),this._hi=h,this._lo=u-h+l,this}},Gu.prototype.dump=function(){return\"DD<\"+this._hi+\", \"+this._lo+\">\"},Gu.prototype.divide=function(){if(arguments[0]instanceof Gu){var t=arguments[0],e=null,n=null,r=null,i=null,o=null,s=null,a=null,u=null;n=(o=this._hi/t._hi)-(e=(s=Gu.SPLIT*o)-(e=s-o)),u=e*(r=(u=Gu.SPLIT*t._hi)-(r=u-t._hi))-(a=o*t._hi)+e*(i=t._hi-r)+n*r+n*i;var l=u=o+(s=(this._hi-a-u+this._lo-o*t._lo)/t._hi),c=o-u+s;return new Gu(l,c)}if(\"number\"==typeof arguments[0]){var h=arguments[0];return xu.isNaN(h)?Gu.createNaN():Gu.copy(this).selfDivide(h,0)}},Gu.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},Gu.prototype.pow=function(t){if(0===t)return Gu.valueOf(1);var e=new Gu(this),n=Gu.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},Gu.prototype.ceil=function(){if(this.isNaN())return Gu.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new Gu(t,e)},Gu.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},Gu.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},Gu.prototype.setValue=function(){if(arguments[0]instanceof Gu){var t=arguments[0];return this.init(t),this}if(\"number\"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},Gu.prototype.max=function(t){return this.ge(t)?this:t},Gu.prototype.sqrt=function(){if(this.isZero())return Gu.valueOf(0);if(this.isNegative())return Gu.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=Gu.valueOf(e),r=this.subtract(n.sqr())._hi*(.5*t);return n.add(r)},Gu.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof Gu){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if(\"number\"==typeof arguments[0]){var e=arguments[0],n=null,r=null,i=null,o=null,s=null,a=null;return o=(i=this._hi+e)-(s=i-this._hi),r=(a=(o=e-s+(this._hi-o))+this._lo)+(i-(n=i+a)),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var u=arguments[0],l=arguments[1],c=null,h=null,p=null,f=null,d=null,g=null,y=null;f=this._hi+u,h=this._lo+l,d=f-(g=f-this._hi),p=h-(y=h-this._lo);var v=(c=f+(g=(d=u-g+(this._hi-d))+h))+(g=(p=l-y+(this._lo-p))+(g+(f-c))),_=g+(c-v);return this._hi=v,this._lo=_,this}},Gu.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof Gu){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if(\"number\"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,s=null,a=null,u=null,l=null;i=(u=Gu.SPLIT*this._hi)-this._hi,l=Gu.SPLIT*n,i=u-i,o=this._hi-i,s=l-n;var c=(u=this._hi*n)+(l=i*(s=l-s)-u+i*(a=n-s)+o*s+o*a+(this._hi*r+this._lo*n)),h=l+(i=u-c);return this._hi=c,this._lo=h,this}},Gu.prototype.selfSqr=function(){return this.selfMultiply(this)},Gu.prototype.floor=function(){if(this.isNaN())return Gu.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new Gu(t,e)},Gu.prototype.negate=function(){return this.isNaN()?this:new Gu(-this._hi,-this._lo)},Gu.prototype.clone=function(){},Gu.prototype.multiply=function(){if(arguments[0]instanceof Gu){var t=arguments[0];return t.isNaN()?Gu.createNaN():Gu.copy(this).selfMultiply(t)}if(\"number\"==typeof arguments[0]){var e=arguments[0];return xu.isNaN(e)?Gu.createNaN():Gu.copy(this).selfMultiply(e,0)}},Gu.prototype.isNaN=function(){return xu.isNaN(this._hi)},Gu.prototype.intValue=function(){return Math.trunc(this._hi)},Gu.prototype.toString=function(){var t=Gu.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},Gu.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,i=n;if(\".\"===n.charAt(0))i=\"0\"+n;else if(r<0)i=\"0.\"+Gu.stringOfChar(\"0\",-r)+n;else if(-1===n.indexOf(\".\")){var o=r-n.length;i=n+Gu.stringOfChar(\"0\",o)+\".0\"}return this.isNegative()?\"-\"+i:i},Gu.prototype.reciprocal=function(){var t,e,n,r,i=null,o=null,s=null,a=null;t=(n=1/this._hi)-(i=(s=Gu.SPLIT*n)-(i=s-n)),o=(a=Gu.SPLIT*this._hi)-this._hi;var u=n+(s=(1-(r=n*this._hi)-(a=i*(o=a-o)-r+i*(e=this._hi-o)+t*o+t*e)-n*this._lo)/this._hi);return new Gu(u,n-u+s)},Gu.prototype.toSciNotation=function(){if(this.isZero())return Gu.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=Gu.SCI_NOT_EXPONENT_CHAR+e[0];if(\"0\"===n.charAt(0))throw new Error(\"Found leading zero: \"+n);var i=\"\";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+\".\"+i;return this.isNegative()?\"-\"+o+r:o+r},Gu.prototype.abs=function(){return this.isNaN()?Gu.NaN:this.isNegative()?this.negate():new Gu(this)},Gu.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},Gu.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},Gu.prototype.add=function(){if(arguments[0]instanceof Gu){var t=arguments[0];return Gu.copy(this).selfAdd(t)}if(\"number\"==typeof arguments[0]){var e=arguments[0];return Gu.copy(this).selfAdd(e)}},Gu.prototype.init=function(){if(1===arguments.length){if(\"number\"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof Gu){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},Gu.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},Gu.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},Gu.prototype.trunc=function(){return this.isNaN()?Gu.NaN:this.isPositive()?this.floor():this.ceil()},Gu.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},Gu.prototype.interfaces_=function(){return[Ou,Eu,Cu]},Gu.prototype.getClass=function(){return Gu},Gu.sqr=function(t){return Gu.valueOf(t).selfMultiply(t)},Gu.valueOf=function(){if(\"string\"==typeof arguments[0]){var t=arguments[0];return Gu.parse(t)}if(\"number\"==typeof arguments[0]){var e=arguments[0];return new Gu(e)}},Gu.sqrt=function(t){return Gu.valueOf(t).sqrt()},Gu.parse=function(t){for(var e=0,n=t.length;ku.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var i=t.charAt(e);\"-\"!==i&&\"+\"!==i||(e++,\"-\"===i&&(r=!0))}for(var o=new Gu,s=0,a=0,u=0;!(e>=n);){var l=t.charAt(e);if(e++,ku.isDigit(l)){var c=l-\"0\";o.selfMultiply(Gu.TEN),o.selfAdd(c),s++}else{if(\".\"!==l){if(\"e\"===l||\"E\"===l){var h=t.substring(e);try{u=Du.parseInt(h)}catch(e){throw e instanceof Error?new Error(\"Invalid exponent \"+h+\" in string \"+t):e}break}throw new Error(\"Unexpected character '\"+l+\"' at position \"+e+\" in string \"+t)}a=s}}var p=o,f=s-a-u;if(0===f)p=o;else if(f>0){var d=Gu.TEN.pow(f);p=o.divide(d)}else if(f<0){var g=Gu.TEN.pow(-f);p=o.multiply(g)}return r?p.negate():p},Gu.createNaN=function(){return new Gu(xu.NaN,xu.NaN)},Gu.copy=function(t){return new Gu(t)},Gu.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},Gu.stringOfChar=function(t,e){for(var n=new ju,r=0;r<e;r++)n.append(t);return n.toString()},Bu.PI.get=function(){return new Gu(3.141592653589793,12246467991473532e-32)},Bu.TWO_PI.get=function(){return new Gu(6.283185307179586,24492935982947064e-32)},Bu.PI_2.get=function(){return new Gu(1.5707963267948966,6123233995736766e-32)},Bu.E.get=function(){return new Gu(2.718281828459045,14456468917292502e-32)},Bu.NaN.get=function(){return new Gu(xu.NaN,xu.NaN)},Bu.EPS.get=function(){return 123259516440783e-46},Bu.SPLIT.get=function(){return 134217729},Bu.MAX_PRINT_DIGITS.get=function(){return 32},Bu.TEN.get=function(){return Gu.valueOf(10)},Bu.ONE.get=function(){return Gu.valueOf(1)},Bu.SCI_NOT_EXPONENT_CHAR.get=function(){return\"E\"},Bu.SCI_NOT_ZERO.get=function(){return\"0.0E0\"},Object.defineProperties(Gu,Bu);var zu=function(){},Vu={DP_SAFE_EPSILON:{configurable:!0}};zu.prototype.interfaces_=function(){return[]},zu.prototype.getClass=function(){return zu},zu.orientationIndex=function(t,e,n){var r=zu.orientationIndexFilter(t,e,n);if(r<=1)return r;var i=Gu.valueOf(e.x).selfAdd(-t.x),o=Gu.valueOf(e.y).selfAdd(-t.y),s=Gu.valueOf(n.x).selfAdd(-e.x),a=Gu.valueOf(n.y).selfAdd(-e.y);return i.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},zu.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},zu.intersection=function(t,e,n,r){var i=Gu.valueOf(r.y).selfSubtract(n.y).selfMultiply(Gu.valueOf(e.x).selfSubtract(t.x)),o=Gu.valueOf(r.x).selfSubtract(n.x).selfMultiply(Gu.valueOf(e.y).selfSubtract(t.y)),s=i.subtract(o),a=Gu.valueOf(r.x).selfSubtract(n.x).selfMultiply(Gu.valueOf(t.y).selfSubtract(n.y)),u=Gu.valueOf(r.y).selfSubtract(n.y).selfMultiply(Gu.valueOf(t.x).selfSubtract(n.x)),l=a.subtract(u).selfDivide(s).doubleValue(),c=Gu.valueOf(t.x).selfAdd(Gu.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue(),h=Gu.valueOf(e.x).selfSubtract(t.x).selfMultiply(Gu.valueOf(t.y).selfSubtract(n.y)),p=Gu.valueOf(e.y).selfSubtract(t.y).selfMultiply(Gu.valueOf(t.x).selfSubtract(n.x)),f=h.subtract(p).selfDivide(s).doubleValue(),d=Gu.valueOf(n.y).selfAdd(Gu.valueOf(r.y).selfSubtract(n.y).selfMultiply(f)).doubleValue();return new Pu(c,d)},zu.orientationIndexFilter=function(t,e,n){var r=null,i=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=i-o;if(i>0){if(o<=0)return zu.signum(s);r=i+o}else{if(!(i<0))return zu.signum(s);if(o>=0)return zu.signum(s);r=-i-o}var a=zu.DP_SAFE_EPSILON*r;return s>=a||-s>=a?zu.signum(s):2},zu.signum=function(t){return t>0?1:t<0?-1:0},Vu.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(zu,Vu);var qu=function(){},Uu={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Uu.X.get=function(){return 0},Uu.Y.get=function(){return 1},Uu.Z.get=function(){return 2},Uu.M.get=function(){return 3},qu.prototype.setOrdinate=function(t,e,n){},qu.prototype.size=function(){},qu.prototype.getOrdinate=function(t,e){},qu.prototype.getCoordinate=function(){},qu.prototype.getCoordinateCopy=function(t){},qu.prototype.getDimension=function(){},qu.prototype.getX=function(t){},qu.prototype.clone=function(){},qu.prototype.expandEnvelope=function(t){},qu.prototype.copy=function(){},qu.prototype.getY=function(t){},qu.prototype.toCoordinateArray=function(){},qu.prototype.interfaces_=function(){return[Cu]},qu.prototype.getClass=function(){return qu},Object.defineProperties(qu,Uu);var $u=function(){},Xu=function(t){function e(){t.call(this,\"Projective point not representable on the Cartesian plane.\")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}($u),Yu=function(){};Yu.arraycopy=function(t,e,n,r,i){for(var o=0,s=e;s<e+i;s++)n[r+o]=t[s],o++},Yu.getProperty=function(t){return{\"line.separator\":\"\\n\"}[t]};var Wu=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if(\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof Pu&&arguments[1]instanceof Pu){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2];this.x=u,this.y=l,this.w=c}else if(4===arguments.length){var h=arguments[0],p=arguments[1],f=arguments[2],d=arguments[3],g=h.y-p.y,y=p.x-h.x,v=h.x*p.y-p.x*h.y,_=f.y-d.y,m=d.x-f.x,b=f.x*d.y-d.x*f.y;this.x=y*b-m*v,this.y=_*v-g*b,this.w=g*m-_*y}};Wu.prototype.getY=function(){var t=this.y/this.w;if(xu.isNaN(t)||xu.isInfinite(t))throw new Xu;return t},Wu.prototype.getX=function(){var t=this.x/this.w;if(xu.isNaN(t)||xu.isInfinite(t))throw new Xu;return t},Wu.prototype.getCoordinate=function(){var t=new Pu;return t.x=this.getX(),t.y=this.getY(),t},Wu.prototype.interfaces_=function(){return[]},Wu.prototype.getClass=function(){return Wu},Wu.intersection=function(t,e,n,r){var i=t.y-e.y,o=e.x-t.x,s=t.x*e.y-e.x*t.y,a=n.y-r.y,u=r.x-n.x,l=n.x*r.y-r.x*n.y,c=i*u-a*o,h=(o*l-u*s)/c,p=(a*s-i*l)/c;if(xu.isNaN(h)||xu.isInfinite(h)||xu.isNaN(p)||xu.isInfinite(p))throw new Xu;return new Pu(h,p)};var Hu=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof Pu){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];this.init(o,s,a,u)}},Ku={serialVersionUID:{configurable:!0}};Hu.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Hu.prototype.equals=function(t){if(!(t instanceof Hu))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},Hu.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new Hu;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,r=this._maxx<t._maxx?this._maxx:t._maxx,i=this._maxy<t._maxy?this._maxy:t._maxy;return new Hu(e,r,n,i)},Hu.prototype.isNull=function(){return this._maxx<this._minx},Hu.prototype.getMaxX=function(){return this._maxx},Hu.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof Pu){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof Hu){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},Hu.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Hu){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof Pu){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},Hu.prototype.getMinY=function(){return this._miny},Hu.prototype.getMinX=function(){return this._minx},Hu.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof Pu){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Hu){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},Hu.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},Hu.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Hu.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},Hu.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},Hu.prototype.toString=function(){return\"Env[\"+this._minx+\" : \"+this._maxx+\", \"+this._miny+\" : \"+this._maxy+\"]\"},Hu.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Hu.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Hu.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},Hu.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Hu.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Hu){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof Pu){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},Hu.prototype.centre=function(){return this.isNull()?null:new Pu((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Hu.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof Pu){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Hu){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},Hu.prototype.getMaxY=function(){return this._maxy},Hu.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},Hu.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+Pu.hashCode(this._minx))+Pu.hashCode(this._maxx))+Pu.hashCode(this._miny))+Pu.hashCode(this._maxy)},Hu.prototype.interfaces_=function(){return[Eu,Ou]},Hu.prototype.getClass=function(){return Hu},Hu.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),l=Math.min(r.x,i.x),c=Math.max(r.x,i.x);return!(l>u||c<a||(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),l=Math.min(r.y,i.y),c=Math.max(r.y,i.y),l>u||c<a))}},Ku.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Hu,Ku);var Zu={typeStr:/^\\s*(\\w+)\\s*\\(\\s*(.*)\\s*\\)\\s*$/,emptyTypeStr:/^\\s*(\\w+)\\s*EMPTY\\s*$/,spaces:/\\s+/,parenComma:/\\)\\s*,\\s*\\(/,doubleParenComma:/\\)\\s*\\)\\s*,\\s*\\(\\s*\\(/,trimParens:/^\\s*\\(?(.*?)\\)?\\s*$/},Ju=function(t){this.geometryFactory=t||new Dc};Ju.prototype.read=function(t){var e,n,r;t=t.replace(/[\\n\\r]/g,\" \");var i=Zu.typeStr.exec(t);if(-1!==t.search(\"EMPTY\")&&((i=Zu.emptyTypeStr.exec(t))[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],tl[n]&&(e=tl[n].apply(this,[r]))),void 0===e)throw new Error(\"Could not parse WKT \"+t);return e},Ju.prototype.write=function(t){return this.extractGeometry(t)},Ju.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!Qu[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+\" EMPTY\":n+\"(\"+Qu[e].apply(this,[t])+\")\"};var Qu={coordinate:function(t){return t.x+\" \"+t.y},point:function(t){return Qu.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(\"(\"+Qu.point.apply(this,[t._geometries[n]])+\")\");return e.join(\",\")},linestring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Qu.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(\",\")},linearring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Qu.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(\",\")},multilinestring:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(\"(\"+Qu.linestring.apply(this,[t._geometries[n]])+\")\");return e.join(\",\")},polygon:function(t){var e=[];e.push(\"(\"+Qu.linestring.apply(this,[t._shell])+\")\");for(var n=0,r=t._holes.length;n<r;++n)e.push(\"(\"+Qu.linestring.apply(this,[t._holes[n]])+\")\");return e.join(\",\")},multipolygon:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(\"(\"+Qu.polygon.apply(this,[t._geometries[n]])+\")\");return e.join(\",\")},geometrycollection:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(\",\")}},tl={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Zu.spaces);return this.geometryFactory.createPoint(new Pu(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){var e;if(void 0===t)return this.geometryFactory.createMultiPoint();for(var n=t.trim().split(\",\"),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Zu.trimParens,\"$1\"),r.push(tl.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(\",\"),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Zu.spaces),r.push(new Pu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(\",\"),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Zu.spaces),r.push(new Pu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){var e;if(void 0===t)return this.geometryFactory.createMultiLineString();for(var n=t.trim().split(Zu.parenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Zu.trimParens,\"$1\"),r.push(tl.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){var e,n,r;if(void 0===t)return this.geometryFactory.createPolygon();for(var i,o=t.trim().split(Zu.parenComma),s=[],a=0,u=o.length;a<u;++a)e=o[a].replace(Zu.trimParens,\"$1\"),n=tl.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n._points),0===a?i=r:s.push(r);return this.geometryFactory.createPolygon(i,s)},multipolygon:function(t){var e;if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var n=t.trim().split(Zu.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Zu.trimParens,\"$1\"),r.push(tl.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\\s*([A-Za-z])/g,\"|$1\")).trim().split(\"|\"),n=[],r=0,i=e.length;r<i;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}},el=function(t){this.parser=new Ju(t)};el.prototype.write=function(t){return this.parser.write(t)},el.toLineString=function(t,e){if(2!==arguments.length)throw new Error(\"Not implemented\");return\"LINESTRING ( \"+t.x+\" \"+t.y+\", \"+e.x+\" \"+e.y+\" )\"};var nl=function(t){function e(e){t.call(this,e),this.name=\"RuntimeException\",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),rl=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(nl),il=function(){};il.prototype.interfaces_=function(){return[]},il.prototype.getClass=function(){return il},il.shouldNeverReachHere=function(){if(0===arguments.length)il.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new rl(\"Should never reach here\"+(null!==t?\": \"+t:\"\"))}},il.isTrue=function(){var t;if(1===arguments.length)il.isTrue(arguments[0],null);else if(2===arguments.length&&(t=arguments[1],!arguments[0]))throw null===t?new rl:new rl(t)},il.equals=function(){var t,e,n;if(2===arguments.length)il.equals(t=arguments[0],e=arguments[1],null);else if(3===arguments.length&&(t=arguments[0],n=arguments[2],!(e=arguments[1]).equals(t)))throw new rl(\"Expected \"+t+\" but encountered \"+e+(null!==n?\": \"+n:\"\"))};var ol=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Pu,this._intPt[1]=new Pu,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},sl={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};ol.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},ol.prototype.getTopologySummary=function(){var t=new ju;return this.isEndPoint()&&t.append(\" endpoint\"),this._isProper&&t.append(\" proper\"),this.isCollinear()&&t.append(\" collinear\"),t.toString()},ol.prototype.computeIntersection=function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)},ol.prototype.getIntersectionNum=function(){return this._result},ol.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0],e=this.getEdgeDistance(t,0),n=this.getEdgeDistance(t,1);e>n?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},ol.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},ol.prototype.setPrecisionModel=function(t){this._precisionModel=t},ol.prototype.isInteriorIntersection=function(){var t=this;if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var e=arguments[0],n=0;n<this._result;n++)if(!t._intPt[n].equals2D(t._inputLines[e][0])&&!t._intPt[n].equals2D(t._inputLines[e][1]))return!0;return!1}},ol.prototype.getIntersection=function(t){return this._intPt[t]},ol.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},ol.prototype.hasIntersection=function(){return this._result!==ol.NO_INTERSECTION},ol.prototype.getEdgeDistance=function(t,e){return ol.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},ol.prototype.isCollinear=function(){return this._result===ol.COLLINEAR_INTERSECTION},ol.prototype.toString=function(){return el.toLineString(this._inputLines[0][0],this._inputLines[0][1])+\" - \"+el.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},ol.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},ol.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},ol.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},ol.prototype.interfaces_=function(){return[]},ol.prototype.getClass=function(){return ol},ol.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=r>i?s:a)||t.equals(e)||(o=Math.max(s,a))}return il.isTrue(!(0===o&&!t.equals(e)),\"Bad distance calculation\"),o},ol.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return il.isTrue(!(0===o&&!t.equals(e)),\"Invalid distance calculation\"),o},sl.DONT_INTERSECT.get=function(){return 0},sl.DO_INTERSECT.get=function(){return 1},sl.COLLINEAR.get=function(){return 2},sl.NO_INTERSECTION.get=function(){return 0},sl.POINT_INTERSECTION.get=function(){return 1},sl.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(ol,sl);var al=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new Hu(this._inputLines[0][0],this._inputLines[0][1]),n=new Hu(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,Hu.intersects(n,r,e)&&0===cl.orientationIndex(n,r,e)&&0===cl.orientationIndex(r,n,e))return this._isProper=!0,(e.equals(n)||e.equals(r))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,r,i){i.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),i.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.safeHCoordinateIntersection=function(t,n,r,i){var o=null;try{o=Wu.intersection(t,n,r,i)}catch(s){if(!(s instanceof Xu))throw s;o=e.nearestEndpoint(t,n,r,i)}return o},e.prototype.intersection=function(t,n,r,i){var o=this.intersectionWithNormalization(t,n,r,i);return this.isInSegmentEnvelopes(o)||(o=new Pu(e.nearestEndpoint(t,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,r){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},e.prototype.checkDD=function(t,e,n,r,i){var o=zu.intersection(t,e,n,r),s=this.isInSegmentEnvelopes(o);Yu.out.println(\"DD in env = \"+s+\"  --------------------- \"+o),i.distance(o)>1e-4&&Yu.out.println(\"Distance = \"+i.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,r){var i=new Pu(t),o=new Pu(e),s=new Pu(n),a=new Pu(r),u=new Pu;this.normalizeToEnvCentre(i,o,s,a,u);var l=this.safeHCoordinateIntersection(i,o,s,a);return l.x+=u.x,l.y+=u.y,l},e.prototype.computeCollinearIntersection=function(e,n,r,i){var o=Hu.intersects(e,n,r),s=Hu.intersects(e,n,i),a=Hu.intersects(r,i,e),u=Hu.intersects(r,i,n);return o&&s?(this._intPt[0]=r,this._intPt[1]=i,t.COLLINEAR_INTERSECTION):a&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||s||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||o||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||o||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,r,i){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<r.x?n.x:r.x,c=n.y<r.y?n.y:r.y,h=n.x>r.x?n.x:r.x,p=n.y>r.y?n.y:r.y,f=((o>l?o:l)+(a<h?a:h))/2,d=((s>c?s:c)+(u<p?u:p))/2;i.x=f,i.y=d,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.computeIntersect=function(e,n,r,i){if(this._isProper=!1,!Hu.intersects(e,n,r,i))return t.NO_INTERSECTION;var o=cl.orientationIndex(e,n,r),s=cl.orientationIndex(e,n,i);if(o>0&&s>0||o<0&&s<0)return t.NO_INTERSECTION;var a=cl.orientationIndex(r,i,e),u=cl.orientationIndex(r,i,n);return a>0&&u>0||a<0&&u<0?t.NO_INTERSECTION:0===o&&0===s&&0===a&&0===u?this.computeCollinearIntersection(e,n,r,i):(0===o||0===s||0===a||0===u?(this._isProper=!1,e.equals2D(r)||e.equals2D(i)?this._intPt[0]=e:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===o?this._intPt[0]=new Pu(r):0===s?this._intPt[0]=new Pu(i):0===a?this._intPt[0]=new Pu(e):0===u&&(this._intPt[0]=new Pu(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,r,i)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,r){var i=t,o=cl.distancePointLine(t,n,r),s=cl.distancePointLine(e,n,r);return s<o&&(o=s,i=e),(s=cl.distancePointLine(n,t,e))<o&&(o=s,i=n),(s=cl.distancePointLine(r,t,e))<o&&(o=s,i=r),i},e}(ol),ul=function(){};ul.prototype.interfaces_=function(){return[]},ul.prototype.getClass=function(){return ul},ul.orientationIndex=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-e.x,s=n.y-e.y;return ul.signOfDet2x2(r,i,o,s)},ul.signOfDet2x2=function(t,e,n,r){var i=null,o=null,s=null;if(i=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-i:i:n>0?i:-i;if(0===e||0===n)return r>0?t>0?i:-i:t>0?-i:i;if(e>0?r>0?e<=r||(i=-i,o=t,t=n,n=o,o=e,e=r,r=o):e<=-r?(i=-i,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):r>0?-e<=r?(i=-i,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(i=-i,o=-t,t=-n,n=o,o=-e,e=-r,r=o),t>0){if(!(n>0))return i;if(!(t<=n))return i}else{if(n>0)return-i;if(!(t>=n))return-i;i=-i,t=-t,n=-n}for(;;){if((r-=(s=Math.floor(n/t))*e)<0)return-i;if(r>e)return i;if(t>(n-=s*t)+n){if(e<r+r)return i}else{if(e>r+r)return-i;n=t-n,r=e-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if((e-=(s=Math.floor(t/n))*r)<0)return i;if(e>r)return-i;if(n>(t-=s*n)+t){if(r<e+e)return-i}else{if(r>e+e)return i;t=n-t,e=r-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}};var ll=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};ll.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var i=t.x-this._p.x,o=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,u=ul.signOfDet2x2(i,o,s,a);if(0===u)return this._isPointOnSegment=!0,null;a<o&&(u=-u),u>0&&this._crossingCount++}},ll.prototype.isPointInPolygon=function(){return this.getLocation()!==Au.EXTERIOR},ll.prototype.getLocation=function(){return this._isPointOnSegment?Au.BOUNDARY:this._crossingCount%2==1?Au.INTERIOR:Au.EXTERIOR},ll.prototype.isOnSegment=function(){return this._isPointOnSegment},ll.prototype.interfaces_=function(){return[]},ll.prototype.getClass=function(){return ll},ll.locatePointInRing=function(){if(arguments[0]instanceof Pu&&Ru(arguments[1],qu)){for(var t=arguments[0],e=arguments[1],n=new ll(t),r=new Pu,i=new Pu,o=1;o<e.size();o++)if(e.getCoordinate(o,r),e.getCoordinate(o-1,i),n.countSegment(r,i),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof Pu&&arguments[1]instanceof Array){for(var s=arguments[0],a=arguments[1],u=new ll(s),l=1;l<a.length;l++){var c=a[l],h=a[l-1];if(u.countSegment(c,h),u.isOnSegment())return u.getLocation()}return u.getLocation()}};var cl=function(){},hl={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};cl.prototype.interfaces_=function(){return[]},cl.prototype.getClass=function(){return cl},cl.orientationIndex=function(t,e,n){return zu.orientationIndex(t,e,n)},cl.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var i=t[r].x-n,o=t[r+1].y,s=t[r-1].y;e+=i*(s-o)}return e/2}if(Ru(arguments[0],qu)){var a=arguments[0],u=a.size();if(u<3)return 0;var l=new Pu,c=new Pu,h=new Pu;a.getCoordinate(0,c),a.getCoordinate(1,h);var p=c.x;h.x-=p;for(var f=0,d=1;d<u-1;d++)l.y=c.y,c.x=h.x,c.y=h.y,a.getCoordinate(d+1,h),h.x-=p,f+=c.x*(l.y-h.y);return f/2}},cl.distanceLineLine=function(t,e,n,r){if(t.equals(e))return cl.distancePointLine(t,n,r);if(n.equals(r))return cl.distancePointLine(r,t,e);var i=!1;if(Hu.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var s=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,u=s/o;(u<0||u>1||a<0||a>1)&&(i=!0)}}else i=!0;return i?Nu.min(cl.distancePointLine(t,n,r),cl.distancePointLine(e,n,r),cl.distancePointLine(n,t,e),cl.distancePointLine(r,t,e)):0},cl.isPointInRing=function(t,e){return cl.locatePointInRing(t,e)!==Au.EXTERIOR},cl.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new Pu;t.getCoordinate(0,r);for(var i=r.x,o=r.y,s=1;s<e;s++){t.getCoordinate(s,r);var a=r.x,u=r.y,l=a-i,c=u-o;n+=Math.sqrt(l*l+c*c),i=a,o=u}return n},cl.isCCW=function(t){var e=t.length-1;if(e<3)throw new bu(\"Ring has fewer than 4 points, so orientation cannot be determined\");for(var n=t[0],r=0,i=1;i<=e;i++){var o=t[i];o.y>n.y&&(n=o,r=i)}var s=r;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(n)&&s!==r);var a=r;do{a=(a+1)%e}while(t[a].equals2D(n)&&a!==r);var u=t[s],l=t[a];if(u.equals2D(n)||l.equals2D(n)||u.equals2D(l))return!1;var c=cl.computeOrientation(u,n,l);return 0===c?u.x>l.x:c>0},cl.locatePointInRing=function(t,e){return ll.locatePointInRing(t,e)},cl.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),i=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(i)*Math.sqrt(r)},cl.computeOrientation=function(t,e,n){return cl.orientationIndex(t,e,n)},cl.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new bu(\"Line array must contain at least one vertex\");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var i=cl.distancePointLine(t,e[r],e[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var u=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),l=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/u;if(l<=0)return o.distance(s);if(l>=1)return o.distance(a);var c=((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/u;return Math.abs(c)*Math.sqrt(u)}},cl.isOnLine=function(t,e){for(var n=new al,r=1;r<e.length;r++){var i=e[r-1],o=e[r];if(n.computeIntersection(t,i,o),n.hasIntersection())return!0}return!1},hl.CLOCKWISE.get=function(){return-1},hl.RIGHT.get=function(){return cl.CLOCKWISE},hl.COUNTERCLOCKWISE.get=function(){return 1},hl.LEFT.get=function(){return cl.COUNTERCLOCKWISE},hl.COLLINEAR.get=function(){return 0},hl.STRAIGHT.get=function(){return cl.COLLINEAR},Object.defineProperties(cl,hl);var pl=function(){};pl.prototype.filter=function(t){},pl.prototype.interfaces_=function(){return[]},pl.prototype.getClass=function(){return pl};var fl=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},dl={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};fl.prototype.isGeometryCollection=function(){return this.getSortIndex()===fl.SORTINDEX_GEOMETRYCOLLECTION},fl.prototype.getFactory=function(){return this._factory},fl.prototype.getGeometryN=function(t){return this},fl.prototype.getArea=function(){return 0},fl.prototype.isRectangle=function(){return!1},fl.prototype.equals=function(){if(arguments[0]instanceof fl){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof fl))return!1;var n=e;return this.equalsExact(n)}},fl.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},fl.prototype.geometryChanged=function(){this.apply(fl.geometryChangedFilter)},fl.prototype.geometryChangedAction=function(){this._envelope=null},fl.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},fl.prototype.getLength=function(){return 0},fl.prototype.getNumGeometries=function(){return 1},fl.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},fl.prototype.getUserData=function(){return this._userData},fl.prototype.getSRID=function(){return this._SRID},fl.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},fl.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===fl.SORTINDEX_GEOMETRYCOLLECTION)throw new bu(\"This method does not support GeometryCollection arguments\")},fl.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},fl.prototype.norm=function(){var t=this.copy();return t.normalize(),t},fl.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},fl.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Hu(this._envelope)},fl.prototype.setSRID=function(t){this._SRID=t},fl.prototype.setUserData=function(t){this._userData=t},fl.prototype.compare=function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),s=i.compareTo(o);if(0!==s)return s}return n.hasNext()?1:r.hasNext()?-1:0},fl.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},fl.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===fl.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===fl.SORTINDEX_MULTIPOINT||this.getSortIndex()===fl.SORTINDEX_MULTILINESTRING||this.getSortIndex()===fl.SORTINDEX_MULTIPOLYGON},fl.prototype.interfaces_=function(){return[Cu,Eu,Ou]},fl.prototype.getClass=function(){return fl},fl.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},fl.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},dl.serialVersionUID.get=function(){return 0x799ea46522854c00},dl.SORTINDEX_POINT.get=function(){return 0},dl.SORTINDEX_MULTIPOINT.get=function(){return 1},dl.SORTINDEX_LINESTRING.get=function(){return 2},dl.SORTINDEX_LINEARRING.get=function(){return 3},dl.SORTINDEX_MULTILINESTRING.get=function(){return 4},dl.SORTINDEX_POLYGON.get=function(){return 5},dl.SORTINDEX_MULTIPOLYGON.get=function(){return 6},dl.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},dl.geometryChangedFilter.get=function(){return gl},Object.defineProperties(fl,dl);var gl=function(){};gl.interfaces_=function(){return[pl]},gl.filter=function(t){t.geometryChangedAction()};var yl=function(){};yl.prototype.filter=function(t){},yl.prototype.interfaces_=function(){return[]},yl.prototype.getClass=function(){return yl};var vl=function(){},_l={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};vl.prototype.isInBoundary=function(t){},vl.prototype.interfaces_=function(){return[]},vl.prototype.getClass=function(){return vl},_l.Mod2BoundaryNodeRule.get=function(){return ml},_l.EndPointBoundaryNodeRule.get=function(){return bl},_l.MultiValentEndPointBoundaryNodeRule.get=function(){return xl},_l.MonoValentEndPointBoundaryNodeRule.get=function(){return wl},_l.MOD2_BOUNDARY_RULE.get=function(){return new ml},_l.ENDPOINT_BOUNDARY_RULE.get=function(){return new bl},_l.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new xl},_l.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new wl},_l.OGC_SFS_BOUNDARY_RULE.get=function(){return vl.MOD2_BOUNDARY_RULE},Object.defineProperties(vl,_l);var ml=function(){};ml.prototype.isInBoundary=function(t){return t%2==1},ml.prototype.interfaces_=function(){return[vl]},ml.prototype.getClass=function(){return ml};var bl=function(){};bl.prototype.isInBoundary=function(t){return t>0},bl.prototype.interfaces_=function(){return[vl]},bl.prototype.getClass=function(){return bl};var xl=function(){};xl.prototype.isInBoundary=function(t){return t>1},xl.prototype.interfaces_=function(){return[vl]},xl.prototype.getClass=function(){return xl};var wl=function(){};wl.prototype.isInBoundary=function(t){return 1===t},wl.prototype.interfaces_=function(){return[vl]},wl.prototype.getClass=function(){return wl};var El=function(){};function Cl(t){this.message=t||\"\"}El.prototype.add=function(){},El.prototype.addAll=function(){},El.prototype.isEmpty=function(){},El.prototype.iterator=function(){},El.prototype.size=function(){},El.prototype.toArray=function(){},El.prototype.remove=function(){},Cl.prototype=new Error,Cl.prototype.name=\"IndexOutOfBoundsException\";var Sl=function(){};Sl.prototype.hasNext=function(){},Sl.prototype.next=function(){},Sl.prototype.remove=function(){};var Ol=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(El);function Pl(t){this.message=t||\"\"}Pl.prototype=new Error,Pl.prototype.name=\"NoSuchElementException\";var Il=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof El&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,El]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new Tl(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new Cl;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(Ol),Tl=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new Pl;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(Sl),Ml=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){var e=this;if(2===arguments.length){for(var n=arguments[0],r=arguments[1],i=!1,o=n.iterator();o.hasNext();)e.add(o.next(),r),i=!0;return i}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){var e=this;if(1===arguments.length){var n=arguments[0];t.prototype.add.call(this,n)}else if(2===arguments.length){if(arguments[0]instanceof Array&&\"boolean\"==typeof arguments[1]){var r=arguments[0],i=arguments[1];return this.add(r,i,!0),!0}if(arguments[0]instanceof Pu&&\"boolean\"==typeof arguments[1]){var o=arguments[0],s=arguments[1];if(!s&&this.size()>=1){var a=this.get(this.size()-1);if(a.equals2D(o))return null}t.prototype.add.call(this,o)}else if(arguments[0]instanceof Object&&\"boolean\"==typeof arguments[1]){var u=arguments[0],l=arguments[1];return this.add(u,l),!0}}else if(3===arguments.length){if(\"boolean\"==typeof arguments[2]&&arguments[0]instanceof Array&&\"boolean\"==typeof arguments[1]){var c=arguments[0],h=arguments[1],p=arguments[2];if(p)for(var f=0;f<c.length;f++)e.add(c[f],h);else for(var d=c.length-1;d>=0;d--)e.add(c[d],h);return!0}if(\"boolean\"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof Pu){var g=arguments[0],y=arguments[1],v=arguments[2];if(!v){var _=this.size();if(_>0){if(g>0){var m=this.get(g-1);if(m.equals2D(y))return null}if(g<_){var b=this.get(g);if(b.equals2D(y))return null}}}t.prototype.add.call(this,g,y)}}else if(4===arguments.length){var x=arguments[0],w=arguments[1],E=arguments[2],C=arguments[3],S=1;E>C&&(S=-1);for(var O=E;O!==C;O+=S)e.add(x[O],w);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new Pu(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(Il),Al=function(){},Ll={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Ll.ForwardComparator.get=function(){return Rl},Ll.BidirectionalComparator.get=function(){return Nl},Ll.coordArrayType.get=function(){return new Array(0).fill(null)},Al.prototype.interfaces_=function(){return[]},Al.prototype.getClass=function(){return Al},Al.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},Al.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(Al.indexOf(r,e)<0)return r}return null},Al.scroll=function(t,e){var n=Al.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);Yu.arraycopy(t,n,r,0,t.length-n),Yu.arraycopy(t,0,r,t.length-n,n),Yu.arraycopy(r,0,t,0,t.length)},Al.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var s=0;s<r.length;s++)if(0!==o.compare(r[s],i[s]))return!1;return!0}},Al.intersection=function(t,e){for(var n=new Ml,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},Al.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Al.removeRepeatedPoints=function(t){return Al.hasRepeatedPoints(t)?new Ml(t,!1).toCoordinateArray():t},Al.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}},Al.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var i=0,o=0;o<t.length;o++)null!==t[o]&&(r[i++]=t[o]);return r},Al.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new Pu(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=0;u<a;u++)o[s+u]=new Pu(r[i+u])},Al.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[t.length-n-1];if(0!==r.compareTo(i))return!1}return!0},Al.envelope=function(t){for(var e=new Hu,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},Al.toCoordinateArray=function(t){return t.toArray(Al.coordArrayType)},Al.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Al.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},Al.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,r=t[e].compareTo(t[n]);if(0!==r)return r}return 1},Al.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},Al.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},Al.extract=function(t,e,n){e=Nu.clamp(e,0,t.length);var r=(n=Nu.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,s=e;s<=n;s++)i[o++]=t[s];return i},Object.defineProperties(Al,Ll);var Rl=function(){};Rl.prototype.compare=function(t,e){return Al.compare(t,e)},Rl.prototype.interfaces_=function(){return[Su]},Rl.prototype.getClass=function(){return Rl};var Nl=function(){};Nl.prototype.compare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=Al.compare(n,r);return Al.isEqualReversed(n,r)?0:i},Nl.prototype.OLDcompare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=Al.increasingDirection(n),o=Al.increasingDirection(r),s=i>0?0:n.length-1,a=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[s].compareTo(r[a]);if(0!==l)return l;s+=i,a+=o}return 0},Nl.prototype.interfaces_=function(){return[Su]},Nl.prototype.getClass=function(){return Nl};var Fl=function(){};Fl.prototype.get=function(){},Fl.prototype.put=function(){},Fl.prototype.size=function(){},Fl.prototype.values=function(){},Fl.prototype.entrySet=function(){};var jl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Fl);function Dl(t){this.message=t||\"\"}function kl(){}Dl.prototype=new Error,Dl.prototype.name=\"OperationNotSupported\",kl.prototype=new El,kl.prototype.contains=function(){};var Gl=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof El&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new Bl(this)},e}(kl),Bl=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new Pl;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new Dl},e}(Sl);function zl(t){return null===t?0:t.color}function Vl(t){return null===t?null:t.parent}function ql(t,e){null!==t&&(t.color=e)}function Ul(t){return null===t?null:t.left}function $l(t){return null===t?null:t.right}function Xl(){this.root_=null,this.size_=0}Xl.prototype=new jl,Xl.prototype.get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},Xl.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=t.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var s={key:t,left:null,right:null,value:e,parent:n,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},Xl.prototype.fixAfterInsertion=function(t){var e=this;for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(Vl(t)===Ul(Vl(Vl(t)))){var n=$l(Vl(Vl(t)));1===zl(n)?(ql(Vl(t),0),ql(n,0),ql(Vl(Vl(t)),1),t=Vl(Vl(t))):(t===$l(Vl(t))&&(t=Vl(t),e.rotateLeft(t)),ql(Vl(t),0),ql(Vl(Vl(t)),1),e.rotateRight(Vl(Vl(t))))}else{var r=Ul(Vl(Vl(t)));1===zl(r)?(ql(Vl(t),0),ql(r,0),ql(Vl(Vl(t)),1),t=Vl(Vl(t))):(t===Ul(Vl(t))&&(t=Vl(t),e.rotateRight(t)),ql(Vl(t),0),ql(Vl(Vl(t)),1),e.rotateLeft(Vl(Vl(t))))}this.root_.color=0},Xl.prototype.values=function(){var t=new Il,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=Xl.successor(e));)t.add(e.value);return t},Xl.prototype.entrySet=function(){var t=new Gl,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=Xl.successor(e));)t.add(e);return t},Xl.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},Xl.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},Xl.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},Xl.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,r=t;null!==n&&r===n.right;)r=n,n=n.parent;return n},Xl.prototype.size=function(){return this.size_};var Yl=function(){};function Wl(){}function Hl(){this.array_=[],arguments[0]instanceof El&&this.addAll(arguments[0])}Yl.prototype.interfaces_=function(){return[]},Yl.prototype.getClass=function(){return Yl},Wl.prototype=new kl,Hl.prototype=new Wl,Hl.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},Hl.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},Hl.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Hl.prototype.remove=function(t){throw new Dl},Hl.prototype.size=function(){return this.array_.length},Hl.prototype.isEmpty=function(){return 0===this.array_.length},Hl.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},Hl.prototype.iterator=function(){return new Kl(this)};var Kl=function(t){this.treeSet_=t,this.position_=0};Kl.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new Pl;return this.treeSet_.array_[this.position_++]},Kl.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Kl.prototype.remove=function(){throw new Dl};var Zl=function(){};Zl.sort=function(){var t,e,n,r,i=arguments[0];if(1===arguments.length)r=function(t,e){return t.compareTo(e)},i.sort(r);else if(2===arguments.length)n=arguments[1],r=function(t,e){return n.compare(t,e)},i.sort(r);else if(3===arguments.length){(e=i.slice(arguments[1],arguments[2])).sort();var o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])}else if(4===arguments.length)for(e=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(t,e){return n.compare(t,e)},e.sort(r),o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])},Zl.asList=function(t){for(var e=new Il,n=0,r=t.length;n<r;n++)e.add(t[n]);return e};var Jl=function(){},Ql={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Ql.P.get=function(){return 0},Ql.L.get=function(){return 1},Ql.A.get=function(){return 2},Ql.FALSE.get=function(){return-1},Ql.TRUE.get=function(){return-2},Ql.DONTCARE.get=function(){return-3},Ql.SYM_FALSE.get=function(){return\"F\"},Ql.SYM_TRUE.get=function(){return\"T\"},Ql.SYM_DONTCARE.get=function(){return\"*\"},Ql.SYM_P.get=function(){return\"0\"},Ql.SYM_L.get=function(){return\"1\"},Ql.SYM_A.get=function(){return\"2\"},Jl.prototype.interfaces_=function(){return[]},Jl.prototype.getClass=function(){return Jl},Jl.toDimensionSymbol=function(t){switch(t){case Jl.FALSE:return Jl.SYM_FALSE;case Jl.TRUE:return Jl.SYM_TRUE;case Jl.DONTCARE:return Jl.SYM_DONTCARE;case Jl.P:return Jl.SYM_P;case Jl.L:return Jl.SYM_L;case Jl.A:return Jl.SYM_A}throw new bu(\"Unknown dimension value: \"+t)},Jl.toDimensionValue=function(t){switch(ku.toUpperCase(t)){case Jl.SYM_FALSE:return Jl.FALSE;case Jl.SYM_TRUE:return Jl.TRUE;case Jl.SYM_DONTCARE:return Jl.DONTCARE;case Jl.SYM_P:return Jl.P;case Jl.SYM_L:return Jl.L;case Jl.SYM_A:return Jl.A}throw new bu(\"Unknown dimension symbol: \"+t)},Object.defineProperties(Jl,Ql);var tc=function(){};tc.prototype.filter=function(t){},tc.prototype.interfaces_=function(){return[]},tc.prototype.getClass=function(){return tc};var ec=function(){};ec.prototype.filter=function(t,e){},ec.prototype.isDone=function(){},ec.prototype.isGeometryChanged=function(){},ec.prototype.interfaces_=function(){return[]},ec.prototype.getClass=function(){return ec};var nc=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new bu(\"geometries must not contain null elements\")}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new Hu,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)t[++e]=r[i];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){var e=this;if(2===arguments.length){var n=arguments[0],r=arguments[1];if(!this.isEquivalentClass(n))return!1;var i=n;if(this._geometries.length!==i._geometries.length)return!1;for(var o=0;o<this._geometries.length;o++)if(!e._geometries[o].equalsExact(i._geometries[o],r))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();Zl.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=Jl.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=Jl.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){var t=this;if(1===arguments.length){var e=arguments[0],n=new Hl(Zl.asList(this._geometries)),r=new Hl(Zl.asList(e._geometries));return this.compare(n,r)}if(2===arguments.length){for(var i=arguments[0],o=arguments[1],s=i,a=this.getNumGeometries(),u=s.getNumGeometries(),l=0;l<a&&l<u;){var c=t.getGeometryN(l),h=s.getGeometryN(l),p=c.compareToSameClass(h,o);if(0!==p)return p;l++}return l<a?1:l<u?-1:0}},e.prototype.apply=function(){var t=this;if(Ru(arguments[0],yl))for(var e=arguments[0],n=0;n<this._geometries.length;n++)t._geometries[n].apply(e);else if(Ru(arguments[0],ec)){var r=arguments[0];if(0===this._geometries.length)return null;for(var i=0;i<this._geometries.length&&(t._geometries[i].apply(r),!r.isDone());i++);r.isGeometryChanged()&&this.geometryChanged()}else if(Ru(arguments[0],tc)){var o=arguments[0];o.filter(this);for(var s=0;s<this._geometries.length;s++)t._geometries[s].apply(o)}else if(Ru(arguments[0],pl)){var a=arguments[0];a.filter(this);for(var u=0;u<this._geometries.length;u++)t._geometries[u].apply(a)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),il.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return\"GeometryCollection\"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(fl),rc=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return fl.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Jl.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new ic(this).getBoundary()},e.prototype.getGeometryType=function(){return\"MultiLineString\"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Yl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(nc),ic=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=vl.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};ic.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},ic.prototype.getBoundary=function(){return this._geom instanceof gc?this.boundaryLineString(this._geom):this._geom instanceof rc?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},ic.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},ic.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},ic.prototype.computeBoundaryCoordinates=function(t){var e=this,n=new Il;this._endpointMap=new Xl;for(var r=0;r<t.getNumGeometries();r++){var i=t.getGeometryN(r);0!==i.getNumPoints()&&(e.addEndpoint(i.getCoordinateN(0)),e.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var o=this._endpointMap.entrySet().iterator();o.hasNext();){var s=o.next(),a=s.getValue().count;e._bnRule.isInBoundary(a)&&n.add(s.getKey())}return Al.toCoordinateArray(n)},ic.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new oc,this._endpointMap.put(t,e)),e.count++},ic.prototype.interfaces_=function(){return[]},ic.prototype.getClass=function(){return ic},ic.getBoundary=function(){if(1===arguments.length){var t=arguments[0],e=new ic(t);return e.getBoundary()}if(2===arguments.length){var n=arguments[0],r=arguments[1],i=new ic(n,r);return i.getBoundary()}};var oc=function(){this.count=null};function sc(){}function ac(){}oc.prototype.interfaces_=function(){return[]},oc.prototype.getClass=function(){return oc};var uc=function(){};function lc(){}function cc(){}function hc(){}var pc=function(){},fc={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};pc.prototype.interfaces_=function(){return[]},pc.prototype.getClass=function(){return pc},pc.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return String(n)},pc.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new lc,n=new sc(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o=\"\",s=new ac(pc.getStackTrace(r)),a=new hc(s),u=0;u<i;u++)try{o+=a.readLine()+pc.NEWLINE}catch(t){if(!(t instanceof cc))throw t;il.shouldNeverReachHere()}return o}},pc.split=function(t,e){for(var n=e.length,r=new Il,i=\"\"+t,o=i.indexOf(e);o>=0;){var s=i.substring(0,o);r.add(s),o=(i=i.substring(o+n)).indexOf(e)}i.length>0&&r.add(i);for(var a=new Array(r.size()).fill(null),u=0;u<a.length;u++)a[u]=r.get(u);return a},pc.toString=function(){if(1===arguments.length){var t=arguments[0];return pc.SIMPLE_ORDINATE_FORMAT.format(t)}},pc.spaces=function(t){return pc.chars(\" \",t)},fc.NEWLINE.get=function(){return Yu.getProperty(\"line.separator\")},fc.SIMPLE_ORDINATE_FORMAT.get=function(){return new uc(\"0.#\")},Object.defineProperties(pc,fc);var dc=function(){};dc.prototype.interfaces_=function(){return[]},dc.prototype.getClass=function(){return dc},dc.copyCoord=function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},dc.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,qu.X)===t.getOrdinate(e-1,qu.X)&&t.getOrdinate(0,qu.Y)===t.getOrdinate(e-1,qu.Y)},dc.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var s=t.getOrdinate(i,o),a=e.getOrdinate(i,o);if(!(t.getOrdinate(i,o)===e.getOrdinate(i,o)||xu.isNaN(s)&&xu.isNaN(a)))return!1}return!0},dc.extend=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();if(dc.copy(e,0,r,0,i),i>0)for(var o=i;o<n;o++)dc.copy(e,i-1,r,o,1);return r},dc.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)dc.swap(t,r,e-r)},dc.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}},dc.copy=function(t,e,n,r,i){for(var o=0;o<i;o++)dc.copyCoord(t,e+o,n,r+o)},dc.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return\"()\";var n=t.getDimension(),r=new ju;r.append(\"(\");for(var i=0;i<e;i++){i>0&&r.append(\" \");for(var o=0;o<n;o++)o>0&&r.append(\",\"),r.append(pc.toString(t.getOrdinate(i,o)))}return r.append(\")\"),r.toString()}},dc.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?dc.createClosedRing(t,e,4):e.getOrdinate(0,qu.X)===e.getOrdinate(n-1,qu.X)&&e.getOrdinate(0,qu.Y)===e.getOrdinate(n-1,qu.Y)?e:dc.createClosedRing(t,e,n+1)},dc.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();dc.copy(e,0,r,0,i);for(var o=i;o<n;o++)dc.copy(e,0,r,o,1);return r};var gc=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Hu:this._points.expandEnvelope(new Hu)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){var e=this;if(2===arguments.length){var n=arguments[0],r=arguments[1];if(!this.isEquivalentClass(n))return!1;var i=n;if(this._points.size()!==i._points.size())return!1;for(var o=0;o<this._points.size();o++)if(!e.equal(e._points.getCoordinate(o),i._points.getCoordinate(o),r))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=this,e=0;e<Math.trunc(this._points.size()/2);e++){var n=t._points.size()-1-e;if(!t._points.getCoordinate(e).equals(t._points.getCoordinate(n)))return t._points.getCoordinate(e).compareTo(t._points.getCoordinate(n))>0&&dc.reverse(t._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Jl.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return cl.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return dc.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){var t=this;if(1===arguments.length){for(var e=arguments[0],n=e,r=0,i=0;r<this._points.size()&&i<n._points.size();){var o=t._points.getCoordinate(r).compareTo(n._points.getCoordinate(i));if(0!==o)return o;r++,i++}return r<this._points.size()?1:i<n._points.size()?-1:0}if(2===arguments.length){var s=arguments[0],a=arguments[1],u=s;return a.compare(this._points,u._points)}},e.prototype.apply=function(){var t=this;if(Ru(arguments[0],yl))for(var e=arguments[0],n=0;n<this._points.size();n++)e.filter(t._points.getCoordinate(n));else if(Ru(arguments[0],ec)){var r=arguments[0];if(0===this._points.size())return null;for(var i=0;i<this._points.size()&&(r.filter(t._points,i),!r.isDone());i++);r.isGeometryChanged()&&this.geometryChanged()}else if(Ru(arguments[0],tc)){var o=arguments[0];o.filter(this)}else if(Ru(arguments[0],pl)){var s=arguments[0];s.filter(this)}},e.prototype.getBoundary=function(){return new ic(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return\"LineString\"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new bu(\"Invalid number of points in LineString (found \"+t.size()+\" - must be 0 or >= 2)\");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[Yl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(fl),yc=function(){};yc.prototype.interfaces_=function(){return[]},yc.prototype.getClass=function(){return yc};var vc=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Hu;var t=new Hu;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return Jl.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error(\"getX called on empty Point\");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var n=arguments[0],r=arguments[1],i=n;return r.compare(this._coordinates,i._coordinates)}},e.prototype.apply=function(){if(Ru(arguments[0],yl)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(Ru(arguments[0],ec)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else if(Ru(arguments[0],tc)){var n=arguments[0];n.filter(this)}else if(Ru(arguments[0],pl)){var r=arguments[0];r.filter(this)}},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return\"Point\"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error(\"getY called on empty Point\");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),il.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[yc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(fl),_c=function(){};_c.prototype.interfaces_=function(){return[]},_c.prototype.getClass=function(){return _c};var mc=function(t){function e(e,n,r){if(t.call(this,r),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new bu(\"holes must not contain null elements\");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new bu(\"shell is empty but holes are not\");this._shell=e,this._holes=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(cl.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(cl.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var i=t.getY(n);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var u=t.getX(a),l=t.getY(a);if(u!==o==(l!==s))return!1;o=u,s=l}return!0},e.prototype.equalsExact=function(){var e=this;if(2===arguments.length){var n=arguments[0],r=arguments[1];if(!this.isEquivalentClass(n))return!1;var i=n,o=this._shell,s=i._shell;if(!o.equalsExact(s,r))return!1;if(this._holes.length!==i._holes.length)return!1;for(var a=0;a<this._holes.length;a++)if(!e._holes[a].equalsExact(i._holes[a],r))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){var t=this;if(0===arguments.length){this.normalize(this._shell,!0);for(var e=0;e<this._holes.length;e++)t.normalize(t._holes[e],!1);Zl.sort(this._holes)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];if(n.isEmpty())return null;var i=new Array(n.getCoordinates().length-1).fill(null);Yu.arraycopy(n.getCoordinates(),0,i,0,i.length);var o=Al.minCoordinate(n.getCoordinates());Al.scroll(i,o),Yu.arraycopy(i,0,n.getCoordinates(),0,i.length),n.getCoordinates()[i.length]=i[0],cl.isCCW(n.getCoordinates())===r&&Al.reverse(n.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){var t=this;if(1===arguments.length){var e=arguments[0],n=this._shell,r=e._shell;return n.compareToSameClass(r)}if(2===arguments.length){var i=arguments[0],o=arguments[1],s=i,a=this._shell,u=s._shell,l=a.compareToSameClass(u,o);if(0!==l)return l;for(var c=this.getNumInteriorRing(),h=s.getNumInteriorRing(),p=0;p<c&&p<h;){var f=t.getInteriorRingN(p),d=s.getInteriorRingN(p),g=f.compareToSameClass(d,o);if(0!==g)return g;p++}return p<c?1:p<h?-1:0}},e.prototype.apply=function(t){var e=this;if(Ru(t,yl)){this._shell.apply(t);for(var n=0;n<this._holes.length;n++)e._holes[n].apply(t)}else if(Ru(t,ec)){if(this._shell.apply(t),!t.isDone())for(var r=0;r<this._holes.length&&(e._holes[r].apply(t),!t.isDone());r++);t.isGeometryChanged()&&this.geometryChanged()}else if(Ru(t,tc))t.filter(this);else if(Ru(t,pl)){t.filter(this),this._shell.apply(t);for(var i=0;i<this._holes.length;i++)e._holes[i].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return\"Polygon\"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[_c]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(fl),bc=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return fl.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return Jl.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return\"MultiPoint\"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[yc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(nc),xc=function(t){function e(e,n){e instanceof Pu&&n instanceof Dc&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return fl.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return Jl.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return dc.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new bu(\"Points of LinearRing do not form a closed linestring\");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new bu(\"Invalid number of points in LinearRing (found \"+this.getCoordinateSequence().size()+\" - must be 0 or >= 4)\")},e.prototype.getGeometryType=function(){return\"LinearRing\"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(gc),wc=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return fl.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new Il,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))},e.prototype.getGeometryType=function(){return\"MultiPolygon\"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[_c]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(nc),Ec=function(t){this._factory=t||null,this._isUserDataCopied=!1},Cc={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Ec.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},Ec.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},Ec.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof nc?this.editGeometryCollection(t,e):t instanceof mc?this.editPolygon(t,e):t instanceof vc||t instanceof gc?e.edit(t,this._factory):(il.shouldNeverReachHere(\"Unsupported Geometry class: \"+t.getClass().getName()),null)},Ec.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),r=new Il,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),e);null===o||o.isEmpty()||r.add(o)}return n.getClass()===bc?this._factory.createMultiPoint(r.toArray([])):n.getClass()===rc?this._factory.createMultiLineString(r.toArray([])):n.getClass()===wc?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},Ec.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new Il,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||i.add(s)}return this._factory.createPolygon(r,i.toArray([]))},Ec.prototype.interfaces_=function(){return[]},Ec.prototype.getClass=function(){return Ec},Ec.GeometryEditorOperation=function(){},Cc.NoOpGeometryOperation.get=function(){return Sc},Cc.CoordinateOperation.get=function(){return Oc},Cc.CoordinateSequenceOperation.get=function(){return Pc},Object.defineProperties(Ec,Cc);var Sc=function(){};Sc.prototype.edit=function(t,e){return t},Sc.prototype.interfaces_=function(){return[Ec.GeometryEditorOperation]},Sc.prototype.getClass=function(){return Sc};var Oc=function(){};Oc.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof xc?e.createLinearRing(n):t instanceof gc?e.createLineString(n):t instanceof vc?n.length>0?e.createPoint(n[0]):e.createPoint():t},Oc.prototype.interfaces_=function(){return[Ec.GeometryEditorOperation]},Oc.prototype.getClass=function(){return Oc};var Pc=function(){};Pc.prototype.edit=function(t,e){return t instanceof xc?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof gc?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof vc?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},Pc.prototype.interfaces_=function(){return[Ec.GeometryEditorOperation]},Pc.prototype.getClass=function(){return Pc};var Ic=function(){var t=this;if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var e=arguments[0];this._coordinates=new Array(e).fill(null);for(var n=0;n<e;n++)t._coordinates[n]=new Pu}else if(Ru(arguments[0],qu)){var r=arguments[0];if(null===r)return this._coordinates=new Array(0).fill(null),null;this._dimension=r.getDimension(),this._coordinates=new Array(r.size()).fill(null);for(var i=0;i<this._coordinates.length;i++)t._coordinates[i]=r.getCoordinateCopy(i)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var o=arguments[0],s=arguments[1];this._coordinates=o,this._dimension=s,null===o&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],u=arguments[1];this._coordinates=new Array(a).fill(null),this._dimension=u;for(var l=0;l<a;l++)t._coordinates[l]=new Pu}},Tc={serialVersionUID:{configurable:!0}};Ic.prototype.setOrdinate=function(t,e,n){switch(e){case qu.X:this._coordinates[t].x=n;break;case qu.Y:this._coordinates[t].y=n;break;case qu.Z:this._coordinates[t].z=n;break;default:throw new bu(\"invalid ordinateIndex\")}},Ic.prototype.size=function(){return this._coordinates.length},Ic.prototype.getOrdinate=function(t,e){switch(e){case qu.X:return this._coordinates[t].x;case qu.Y:return this._coordinates[t].y;case qu.Z:return this._coordinates[t].z}return xu.NaN},Ic.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},Ic.prototype.getCoordinateCopy=function(t){return new Pu(this._coordinates[t])},Ic.prototype.getDimension=function(){return this._dimension},Ic.prototype.getX=function(t){return this._coordinates[t].x},Ic.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new Ic(t,this._dimension)},Ic.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},Ic.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new Ic(t,this._dimension)},Ic.prototype.toString=function(){if(this._coordinates.length>0){var t=new ju(17*this._coordinates.length);t.append(\"(\"),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(\", \"),t.append(this._coordinates[e]);return t.append(\")\"),t.toString()}return\"()\"},Ic.prototype.getY=function(t){return this._coordinates[t].y},Ic.prototype.toCoordinateArray=function(){return this._coordinates},Ic.prototype.interfaces_=function(){return[qu,Ou]},Ic.prototype.getClass=function(){return Ic},Tc.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Ic,Tc);var Mc=function(){},Ac={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Mc.prototype.readResolve=function(){return Mc.instance()},Mc.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new Ic(t)}if(Ru(arguments[0],qu)){var e=arguments[0];return new Ic(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return r>3&&(r=3),r<2?new Ic(n):new Ic(n,r)}},Mc.prototype.interfaces_=function(){return[Mu,Ou]},Mc.prototype.getClass=function(){return Mc},Mc.instance=function(){return Mc.instanceObject},Ac.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Ac.instanceObject.get=function(){return new Mc},Object.defineProperties(Mc,Ac);var Lc=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new Il,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new Gl;return this.map_.entries().forEach((function(e){return t.add(e)})),t},e.prototype.size=function(){return this.map_.size()},e}(Fl),Rc=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Fc){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if(\"number\"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},Nc={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Rc.prototype.equals=function(t){if(!(t instanceof Rc))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},Rc.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new Du(n).compareTo(new Du(r))},Rc.prototype.getScale=function(){return this._scale},Rc.prototype.isFloating=function(){return this._modelType===Rc.FLOATING||this._modelType===Rc.FLOATING_SINGLE},Rc.prototype.getType=function(){return this._modelType},Rc.prototype.toString=function(){var t=\"UNKNOWN\";return this._modelType===Rc.FLOATING?t=\"Floating\":this._modelType===Rc.FLOATING_SINGLE?t=\"Floating-Single\":this._modelType===Rc.FIXED&&(t=\"Fixed (Scale=\"+this.getScale()+\")\"),t},Rc.prototype.makePrecise=function(){if(\"number\"==typeof arguments[0]){var t=arguments[0];return xu.isNaN(t)||this._modelType===Rc.FLOATING_SINGLE?t:this._modelType===Rc.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof Pu){var e=arguments[0];if(this._modelType===Rc.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},Rc.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===Rc.FLOATING?t=16:this._modelType===Rc.FLOATING_SINGLE?t=6:this._modelType===Rc.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},Rc.prototype.setScale=function(t){this._scale=Math.abs(t)},Rc.prototype.interfaces_=function(){return[Ou,Eu]},Rc.prototype.getClass=function(){return Rc},Rc.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},Nc.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},Nc.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Rc,Nc);var Fc=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},jc={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Fc.prototype.readResolve=function(){return Fc.nameToTypeMap.get(this._name)},Fc.prototype.toString=function(){return this._name},Fc.prototype.interfaces_=function(){return[Ou]},Fc.prototype.getClass=function(){return Fc},jc.serialVersionUID.get=function(){return-552860263173159e4},jc.nameToTypeMap.get=function(){return new Lc},Object.defineProperties(Fc,jc),Rc.Type=Fc,Rc.FIXED=new Fc(\"FIXED\"),Rc.FLOATING=new Fc(\"FLOATING\"),Rc.FLOATING_SINGLE=new Fc(\"FLOATING SINGLE\");var Dc=function t(){this._precisionModel=new Rc,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Ru(arguments[0],Mu)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Rc&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},kc={serialVersionUID:{configurable:!0}};Dc.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new Pu(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new Pu(t.getMinX(),t.getMinY()),new Pu(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new Pu(t.getMinX(),t.getMinY()),new Pu(t.getMinX(),t.getMaxY()),new Pu(t.getMaxX(),t.getMaxY()),new Pu(t.getMaxX(),t.getMinY()),new Pu(t.getMinX(),t.getMinY())]),null)},Dc.prototype.createLineString=function(t){return t?t instanceof Array?new gc(this.getCoordinateSequenceFactory().create(t),this):Ru(t,qu)?new gc(t,this):void 0:new gc(this.getCoordinateSequenceFactory().create([]),this)},Dc.prototype.createMultiLineString=function(){if(0===arguments.length)return new rc(null,this);if(1===arguments.length){var t=arguments[0];return new rc(t,this)}},Dc.prototype.buildGeometry=function(t){for(var e=null,n=!1,r=!1,i=t.iterator();i.hasNext();){var o=i.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(Dc.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof mc)return this.createMultiPolygon(Dc.toPolygonArray(t));if(a instanceof gc)return this.createMultiLineString(Dc.toLineStringArray(t));if(a instanceof vc)return this.createMultiPoint(Dc.toPointArray(t));il.shouldNeverReachHere(\"Unhandled class: \"+a.getClass().getName())}return a},Dc.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},Dc.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Pu){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(Ru(arguments[0],qu)){var e=arguments[0];return new vc(e,this)}}},Dc.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Dc.prototype.createPolygon=function(){if(0===arguments.length)return new mc(null,null,this);if(1===arguments.length){if(Ru(arguments[0],qu)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof xc){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];return new mc(r,i,this)}},Dc.prototype.getSRID=function(){return this._SRID},Dc.prototype.createGeometryCollection=function(){if(0===arguments.length)return new nc(null,this);if(1===arguments.length){var t=arguments[0];return new nc(t,this)}},Dc.prototype.createGeometry=function(t){return new Ec(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},Dc.prototype.getPrecisionModel=function(){return this._precisionModel},Dc.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Ru(arguments[0],qu)){var e=arguments[0];return new xc(e,this)}}},Dc.prototype.createMultiPolygon=function(){if(0===arguments.length)return new wc(null,this);if(1===arguments.length){var t=arguments[0];return new wc(t,this)}},Dc.prototype.createMultiPoint=function(){var t=this;if(0===arguments.length)return new bc(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return new bc(e,this)}if(arguments[0]instanceof Array){var n=arguments[0];return this.createMultiPoint(null!==n?this.getCoordinateSequenceFactory().create(n):null)}if(Ru(arguments[0],qu)){var r=arguments[0];if(null===r)return this.createMultiPoint(new Array(0).fill(null));for(var i=new Array(r.size()).fill(null),o=0;o<r.size();o++){var s=t.getCoordinateSequenceFactory().create(1,r.getDimension());dc.copy(r,o,s,0,1),i[o]=t.createPoint(s)}return this.createMultiPoint(i)}}},Dc.prototype.interfaces_=function(){return[Ou]},Dc.prototype.getClass=function(){return Dc},Dc.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Dc.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},Dc.getDefaultCoordinateSequenceFactory=function(){return Mc.instance()},Dc.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Dc.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Dc.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Dc.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Dc.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Dc.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Dc.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},kc.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(Dc,kc);var Gc=[\"Point\",\"MultiPoint\",\"LineString\",\"MultiLineString\",\"Polygon\",\"MultiPolygon\"],Bc=function(t){this.geometryFactory=t||new Dc};Bc.prototype.read=function(t){var e,n=(e=\"string\"==typeof t?JSON.parse(t):t).type;if(!zc[n])throw new Error(\"Unknown GeoJSON type: \"+e.type);return-1!==Gc.indexOf(n)?zc[n].apply(this,[e.coordinates]):\"GeometryCollection\"===n?zc[n].apply(this,[e.geometries]):zc[n].apply(this,[e])},Bc.prototype.write=function(t){var e=t.getGeometryType();if(!Vc[e])throw new Error(\"Geometry is not supported\");return Vc[e].apply(this,[t])};var zc={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var r=t.geometry.type;if(!zc[r])throw new Error(\"Unknown GeoJSON type: \"+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=zc.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new Pu(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new Pu(t[0],t[1]),new Pu(t[2],t[1]),new Pu(t[2],t[3]),new Pu(t[0],t[3]),new Pu(t[0],t[1])])},Point:function(t){var e=new Pu(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(zc.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=zc.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(zc.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=zc.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=t[i],s=zc.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);r.push(a)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(zc.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(this.read(r))}return this.geometryFactory.createGeometryCollection(e)}},Vc={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:\"Point\",coordinates:Vc.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=Vc.Point.apply(this,[r]);e.push(i.coordinates)}return{type:\"MultiPoint\",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r){var i=n[r];e.push(Vc.coordinate.apply(this,[i]))}return{type:\"LineString\",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=Vc.LineString.apply(this,[r]);e.push(i.coordinates)}return{type:\"MultiLineString\",coordinates:e}},Polygon:function(t){var e=[],n=Vc.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var i=t._holes[r],o=Vc.LineString.apply(this,[i]);e.push(o.coordinates)}return{type:\"Polygon\",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=Vc.Polygon.apply(this,[r]);e.push(i.coordinates)}return{type:\"MultiPolygon\",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=r.getGeometryType();e.push(Vc[i].apply(this,[r]))}return{type:\"GeometryCollection\",geometries:e}}},qc=function(t){this.geometryFactory=t||new Dc,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Bc(this.geometryFactory)};qc.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Rc.FIXED&&this.reducePrecision(e),e},qc.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var Uc=function(){this.parser=new Bc(this.geometryFactory)};Uc.prototype.write=function(t){return this.parser.write(t)};var $c=function(){},Xc={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};function Yc(t){this.message=t||\"\"}function Wc(){this.array_=[]}$c.prototype.interfaces_=function(){return[]},$c.prototype.getClass=function(){return $c},$c.opposite=function(t){return t===$c.LEFT?$c.RIGHT:t===$c.RIGHT?$c.LEFT:t},Xc.ON.get=function(){return 0},Xc.LEFT.get=function(){return 1},Xc.RIGHT.get=function(){return 2},Object.defineProperties($c,Xc),Yc.prototype=new Error,Yc.prototype.name=\"EmptyStackException\",Wc.prototype=new Ol,Wc.prototype.add=function(t){return this.array_.push(t),!0},Wc.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},Wc.prototype.push=function(t){return this.array_.push(t),t},Wc.prototype.pop=function(t){if(0===this.array_.length)throw new Yc;return this.array_.pop()},Wc.prototype.peek=function(){if(0===this.array_.length)throw new Yc;return this.array_[this.array_.length-1]},Wc.prototype.empty=function(){return 0===this.array_.length},Wc.prototype.isEmpty=function(){return this.empty()},Wc.prototype.search=function(t){return this.array_.indexOf(t)},Wc.prototype.size=function(){return this.array_.length},Wc.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var Hc=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Hc.prototype.getCoordinate=function(){return this._minCoord},Hc.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},Hc.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();il.isTrue(this._minIndex>0&&this._minIndex<t.length,\"rightmost point expected to be interior vertex of edge\");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=cl.computeOrientation(this._minCoord,n,e),i=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===cl.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===cl.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)},Hc.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=$c.LEFT;return n[e].y<n[e+1].y&&(r=$c.RIGHT),r},Hc.prototype.getEdge=function(){return this._orientedDe},Hc.prototype.checkForRightmostCoordinate=function(t){for(var e=this,n=t.getEdge().getCoordinates(),r=0;r<n.length-1;r++)(null===e._minCoord||n[r].x>e._minCoord.x)&&(e._minDe=t,e._minIndex=r,e._minCoord=n[r])},Hc.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Hc.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}il.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),\"inconsistency in rightmost processing\"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===$c.LEFT&&(this._orientedDe=this._minDe.getSym())},Hc.prototype.interfaces_=function(){return[]},Hc.prototype.getClass=function(){return Hc};var Kc=function(t){function e(n,r){t.call(this,e.msgWithCoord(n,r)),this.pt=r?new Pu(r):null,this.name=\"TopologyException\"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+\" [ \"+e+\" ]\"},e}(nl),Zc=function(){this.array_=[]};Zc.prototype.addLast=function(t){this.array_.push(t)},Zc.prototype.removeFirst=function(){return this.array_.shift()},Zc.prototype.isEmpty=function(){return 0===this.array_.length};var Jc=function(){this._finder=null,this._dirEdgeList=new Il,this._nodes=new Il,this._rightMostCoord=null,this._env=null,this._finder=new Hc};Jc.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Jc.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Jc.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new Kc(\"unable to find edge to compute depths at \"+t.getCoordinate());t.getEdges().computeDepths(e);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},Jc.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths($c.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Jc.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Jc.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth($c.RIGHT)>=1&&e.getDepth($c.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Jc.prototype.computeDepths=function(t){var e=new Gl,n=new Zc,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},Jc.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},Jc.prototype.getEnvelope=function(){if(null===this._env){for(var t=new Hu,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env},Jc.prototype.addReachable=function(t){var e=new Wc;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},Jc.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth($c.LEFT,t.getDepth($c.RIGHT)),e.setDepth($c.RIGHT,t.getDepth($c.LEFT))},Jc.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||e.push(i)}},Jc.prototype.getNodes=function(){return this._nodes},Jc.prototype.getDirectedEdges=function(){return this._dirEdgeList},Jc.prototype.interfaces_=function(){return[Eu]},Jc.prototype.getClass=function(){return Jc};var Qc=function t(){var e=this;if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var n=arguments[0];this.init(n.length)}else if(Number.isInteger(arguments[0])){var r=arguments[0];this.init(1),this.location[$c.ON]=r}else if(arguments[0]instanceof t){var i=arguments[0];if(this.init(i.location.length),null!==i)for(var o=0;o<this.location.length;o++)e.location[o]=i.location[o]}}else if(3===arguments.length){var s=arguments[0],a=arguments[1],u=arguments[2];this.init(3),this.location[$c.ON]=s,this.location[$c.LEFT]=a,this.location[$c.RIGHT]=u}};Qc.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},Qc.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==Au.NONE)return!1;return!0},Qc.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===Au.NONE&&(this.location[e]=t)},Qc.prototype.isLine=function(){return 1===this.location.length},Qc.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[$c.ON]=this.location[$c.ON],e[$c.LEFT]=Au.NONE,e[$c.RIGHT]=Au.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===Au.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},Qc.prototype.getLocations=function(){return this.location},Qc.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[$c.LEFT];this.location[$c.LEFT]=this.location[$c.RIGHT],this.location[$c.RIGHT]=t},Qc.prototype.toString=function(){var t=new ju;return this.location.length>1&&t.append(Au.toLocationSymbol(this.location[$c.LEFT])),t.append(Au.toLocationSymbol(this.location[$c.ON])),this.location.length>1&&t.append(Au.toLocationSymbol(this.location[$c.RIGHT])),t.toString()},Qc.prototype.setLocations=function(t,e,n){this.location[$c.ON]=t,this.location[$c.LEFT]=e,this.location[$c.RIGHT]=n},Qc.prototype.get=function(t){return t<this.location.length?this.location[t]:Au.NONE},Qc.prototype.isArea=function(){return this.location.length>1},Qc.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===Au.NONE)return!0;return!1},Qc.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation($c.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},Qc.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(Au.NONE)},Qc.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},Qc.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},Qc.prototype.interfaces_=function(){return[]},Qc.prototype.getClass=function(){return Qc};var th=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Qc(e),this.elt[1]=new Qc(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Qc(n.elt[0]),this.elt[1]=new Qc(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new Qc(Au.NONE),this.elt[1]=new Qc(Au.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new Qc(o,s,a),this.elt[1]=new Qc(o,s,a)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2],h=arguments[3];this.elt[0]=new Qc(Au.NONE,Au.NONE,Au.NONE),this.elt[1]=new Qc(Au.NONE,Au.NONE,Au.NONE),this.elt[u].setLocations(l,c,h)}};th.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},th.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},th.prototype.isNull=function(t){return this.elt[t].isNull()},th.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},th.prototype.isLine=function(t){return this.elt[t].isLine()},th.prototype.merge=function(t){for(var e=this,n=0;n<2;n++)null===e.elt[n]&&null!==t.elt[n]?e.elt[n]=new Qc(t.elt[n]):e.elt[n].merge(t.elt[n])},th.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},th.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get($c.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},th.prototype.toString=function(){var t=new ju;return null!==this.elt[0]&&(t.append(\"A:\"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(\" B:\"),t.append(this.elt[1].toString())),t.toString()},th.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},th.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},th.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation($c.ON,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},th.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},th.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},th.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Qc(this.elt[t].location[0]))},th.prototype.interfaces_=function(){return[]},th.prototype.getClass=function(){return th},th.toLineLabel=function(t){for(var e=new th(Au.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var eh=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Il,this._pts=new Il,this._label=new th(Au.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Il,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};eh.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=cl.isCCW(this._ring.getCoordinates())},eh.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},eh.prototype.computePoints=function(t){var e=this;this._startDe=t;var n=t,r=!0;do{if(null===n)throw new Kc(\"Found null DirectedEdge\");if(n.getEdgeRing()===e)throw new Kc(\"Directed Edge visited twice during ring-building at \"+n.getCoordinate());e._edges.add(n);var i=n.getLabel();il.isTrue(i.isArea()),e.mergeLabel(i),e.addPoints(n.getEdge(),n.isForward(),r),r=!1,e.setEdgeRing(n,e),n=e.getNext(n)}while(n!==this._startDe)},eh.prototype.getLinearRing=function(){return this._ring},eh.prototype.getCoordinate=function(t){return this._pts.get(t)},eh.prototype.computeMaxNodeDegree=function(){var t=this;this._maxNodeDegree=0;var e=this._startDe;do{var n=e.getNode().getEdges().getOutgoingDegree(t);n>t._maxNodeDegree&&(t._maxNodeDegree=n),e=t.getNext(e)}while(e!==this._startDe);this._maxNodeDegree*=2},eh.prototype.addPoints=function(t,e,n){var r=t.getCoordinates();if(e){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var s=r.length-2;n&&(s=r.length-1);for(var a=s;a>=0;a--)this._pts.add(r[a])}},eh.prototype.isHole=function(){return this._isHole},eh.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},eh.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!cl.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},eh.prototype.addHole=function(t){this._holes.add(t)},eh.prototype.isShell=function(){return null===this._shell},eh.prototype.getLabel=function(){return this._label},eh.prototype.getEdges=function(){return this._edges},eh.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},eh.prototype.getShell=function(){return this._shell},eh.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=e.getLocation(n,$c.RIGHT);if(r===Au.NONE)return null;if(this._label.getLocation(n)===Au.NONE)return this._label.setLocation(n,r),null}},eh.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},eh.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},eh.prototype.interfaces_=function(){return[]},eh.prototype.getClass=function(){return eh};var nh=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(eh),rh=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new Il,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new nh(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(eh),ih=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};ih.prototype.setVisited=function(t){this._isVisited=t},ih.prototype.setInResult=function(t){this._isInResult=t},ih.prototype.isCovered=function(){return this._isCovered},ih.prototype.isCoveredSet=function(){return this._isCoveredSet},ih.prototype.setLabel=function(t){this._label=t},ih.prototype.getLabel=function(){return this._label},ih.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},ih.prototype.updateIM=function(t){il.isTrue(this._label.getGeometryCount()>=2,\"found partial label\"),this.computeIM(t)},ih.prototype.isInResult=function(){return this._isInResult},ih.prototype.isVisited=function(){return this._isVisited},ih.prototype.interfaces_=function(){return[]},ih.prototype.getClass=function(){return ih};var oh=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new th(0,Au.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println(\"node \"+this._coord+\" lbl: \"+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=Au.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==Au.BOUNDARY&&(n=r)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new th(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){var t=this;if(arguments[0]instanceof e){var n=arguments[0];this.mergeLabel(n._label)}else if(arguments[0]instanceof th)for(var r=arguments[0],i=0;i<2;i++){var o=t.computeMergedLocation(r,i),s=t._label.getLocation(i);s===Au.NONE&&t._label.setLocation(i,o)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=Au.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case Au.BOUNDARY:n=Au.INTERIOR;break;case Au.INTERIOR:default:n=Au.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ih),sh=function(){this.nodeMap=new Xl,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};sh.prototype.find=function(t){return this.nodeMap.get(t)},sh.prototype.addNode=function(){if(arguments[0]instanceof Pu){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof oh){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},sh.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},sh.prototype.iterator=function(){return this.nodeMap.values().iterator()},sh.prototype.values=function(){return this.nodeMap.values()},sh.prototype.getBoundaryNodes=function(t){for(var e=new Il,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===Au.BOUNDARY&&e.add(r)}return e},sh.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},sh.prototype.interfaces_=function(){return[]},sh.prototype.getClass=function(){return sh};var ah=function(){},uh={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};ah.prototype.interfaces_=function(){return[]},ah.prototype.getClass=function(){return ah},ah.isNorthern=function(t){return t===ah.NE||t===ah.NW},ah.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},ah.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},ah.isInHalfPlane=function(t,e){return e===ah.SE?t===ah.SE||t===ah.SW:t===e||t===e+1},ah.quadrant=function(){if(\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new bu(\"Cannot compute the quadrant for point ( \"+t+\", \"+e+\" )\");return t>=0?e>=0?ah.NE:ah.SE:e>=0?ah.NW:ah.SW}if(arguments[0]instanceof Pu&&arguments[1]instanceof Pu){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new bu(\"Cannot compute the quadrant for two identical points \"+n);return r.x>=n.x?r.y>=n.y?ah.NE:ah.SE:r.y>=n.y?ah.NW:ah.SW}},uh.NE.get=function(){return 0},uh.NW.get=function(){return 1},uh.SW.get=function(){return 2},uh.SE.get=function(){return 3},Object.defineProperties(ah,uh);var lh=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=null;this._edge=e,this.init(n,r),this._label=i}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];this._edge=o,this.init(s,a),this._label=u}};lh.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:cl.computeOrientation(t._p0,t._p1,this._p1)},lh.prototype.getDy=function(){return this._dy},lh.prototype.getCoordinate=function(){return this._p0},lh.prototype.setNode=function(t){this._node=t},lh.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf(\".\"),i=n.substring(r+1);t.print(\"  \"+i+\": \"+this._p0+\" - \"+this._p1+\" \"+this._quadrant+\":\"+e+\"   \"+this._label)},lh.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},lh.prototype.getDirectedCoordinate=function(){return this._p1},lh.prototype.getDx=function(){return this._dx},lh.prototype.getLabel=function(){return this._label},lh.prototype.getEdge=function(){return this._edge},lh.prototype.getQuadrant=function(){return this._quadrant},lh.prototype.getNode=function(){return this._node},lh.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(\".\");return\"  \"+e.substring(n+1)+\": \"+this._p0+\" - \"+this._p1+\" \"+this._quadrant+\":\"+t+\"   \"+this._label},lh.prototype.computeLabel=function(t){},lh.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=ah.quadrant(this._dx,this._dy),il.isTrue(!(0===this._dx&&0===this._dy),\"EdgeEnd with identical endpoints found\")},lh.prototype.interfaces_=function(){return[Eu]},lh.prototype.getClass=function(){return lh};var ch=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var r=e.getNumPoints()-1;this.init(e.getCoordinate(r),e.getCoordinate(r-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new th(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new Kc(\"assigned depths do not match\",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=this,e=!0,n=0;n<2;n++)t._label.isArea(n)&&t._label.getLocation(n,$c.LEFT)===Au.INTERIOR&&t._label.getLocation(n,$c.RIGHT)===Au.INTERIOR||(e=!1);return e},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(\" \"+this._depth[$c.LEFT]+\"/\"+this._depth[$c.RIGHT]),e.print(\" (\"+this.getDepthDelta()+\")\"),this._isInResult&&e.print(\" inResult\")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,Au.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,Au.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(\" \"),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===$c.LEFT&&(r=-1);var i=$c.opposite(t),o=e+n*r;this.setDepth(t,e),this.setDepth(i,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===Au.EXTERIOR&&e===Au.INTERIOR?1:t===Au.INTERIOR&&e===Au.EXTERIOR?-1:0},e}(lh),hh=function(){};hh.prototype.createNode=function(t){return new oh(t,null)},hh.prototype.interfaces_=function(){return[]},hh.prototype.getClass=function(){return hh};var ph=function(){if(this._edges=new Il,this._nodes=null,this._edgeEndList=new Il,0===arguments.length)this._nodes=new sh(new hh);else if(1===arguments.length){var t=arguments[0];this._nodes=new sh(t)}};ph.prototype.printEdges=function(t){t.println(\"Edges:\");for(var e=0;e<this._edges.size();e++){t.println(\"edge \"+e+\":\");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},ph.prototype.find=function(t){return this._nodes.find(t)},ph.prototype.addNode=function(){if(arguments[0]instanceof oh){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof Pu){var e=arguments[0];return this._nodes.addNode(e)}},ph.prototype.getNodeIterator=function(){return this._nodes.iterator()},ph.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},ph.prototype.debugPrintln=function(t){Yu.out.println(t)},ph.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===Au.BOUNDARY},ph.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},ph.prototype.matchInSameDirection=function(t,e,n,r){return!!t.equals(n)&&cl.computeOrientation(t,e,r)===cl.COLLINEAR&&ah.quadrant(t,e)===ah.quadrant(n,r)},ph.prototype.getEdgeEnds=function(){return this._edgeEndList},ph.prototype.debugPrint=function(t){Yu.out.print(t)},ph.prototype.getEdgeIterator=function(){return this._edges.iterator()},ph.prototype.findEdgeInSameDirection=function(t,e){for(var n=this,r=0;r<this._edges.size();r++){var i=n._edges.get(r),o=i.getCoordinates();if(n.matchInSameDirection(t,e,o[0],o[1]))return i;if(n.matchInSameDirection(t,e,o[o.length-1],o[o.length-2]))return i}return null},ph.prototype.insertEdge=function(t){this._edges.add(t)},ph.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},ph.prototype.addEdges=function(t){for(var e=this,n=t.iterator();n.hasNext();){var r=n.next();e._edges.add(r);var i=new ch(r,!0),o=new ch(r,!1);i.setSym(o),o.setSym(i),e.add(i),e.add(o)}},ph.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},ph.prototype.getNodes=function(){return this._nodes.values()},ph.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null},ph.prototype.interfaces_=function(){return[]},ph.prototype.getClass=function(){return ph},ph.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var fh=function(){this._geometryFactory=null,this._shellList=new Il;var t=arguments[0];this._geometryFactory=t};fh.prototype.sortShellsAndHoles=function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}},fh.prototype.computePolygons=function(t){for(var e=new Il,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e},fh.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,t);if(null===i)throw new Kc(\"unable to assign hole to a shell\",r.getCoordinate(0));r.setShell(i)}}},fh.prototype.buildMinimalEdgeRings=function(t,e,n){for(var r=new Il,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else r.add(o)}return r},fh.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},fh.prototype.buildMaximalEdgeRings=function(t){for(var e=new Il,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new rh(r,this._geometryFactory);e.add(i),i.setInResult()}}return e},fh.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},fh.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},fh.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(r)&&cl.isPointInRing(i,l.getCoordinates())&&(h=!0),h&&(null===o||s.contains(c))&&(o=u)}return o},fh.prototype.findShell=function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return il.isTrue(e<=1,\"found two shells in MinimalEdgeRing list\"),n},fh.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];ph.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),i=new Il,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},fh.prototype.interfaces_=function(){return[]},fh.prototype.getClass=function(){return fh};var dh=function(){};dh.prototype.getBounds=function(){},dh.prototype.interfaces_=function(){return[]},dh.prototype.getClass=function(){return dh};var gh=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};gh.prototype.getItem=function(){return this._item},gh.prototype.getBounds=function(){return this._bounds},gh.prototype.interfaces_=function(){return[dh,Ou]},gh.prototype.getClass=function(){return gh};var yh=function(){this._size=null,this._items=null,this._size=0,this._items=new Il,this._items.add(null)};yh.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},yh.prototype.size=function(){return this._size},yh.prototype.reorder=function(t){for(var e=this,n=null,r=this._items.get(t);2*t<=this._size&&((n=2*t)!==e._size&&e._items.get(n+1).compareTo(e._items.get(n))<0&&n++,e._items.get(n).compareTo(r)<0);t=n)e._items.set(t,e._items.get(n));this._items.set(t,r)},yh.prototype.clear=function(){this._size=0,this._items.clear()},yh.prototype.isEmpty=function(){return 0===this._size},yh.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},yh.prototype.interfaces_=function(){return[]},yh.prototype.getClass=function(){return yh};var vh=function(){};vh.prototype.visitItem=function(t){},vh.prototype.interfaces_=function(){return[]},vh.prototype.getClass=function(){return vh};var _h=function(){};_h.prototype.insert=function(t,e){},_h.prototype.remove=function(t,e){},_h.prototype.query=function(){},_h.prototype.interfaces_=function(){return[]},_h.prototype.getClass=function(){return _h};var mh=function(){if(this._childBoundables=new Il,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},bh={serialVersionUID:{configurable:!0}};mh.prototype.getLevel=function(){return this._level},mh.prototype.size=function(){return this._childBoundables.size()},mh.prototype.getChildBoundables=function(){return this._childBoundables},mh.prototype.addChildBoundable=function(t){il.isTrue(null===this._bounds),this._childBoundables.add(t)},mh.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},mh.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},mh.prototype.interfaces_=function(){return[dh,Ou]},mh.prototype.getClass=function(){return mh},bh.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(mh,bh);var xh=function(){};xh.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},xh.min=function(t){return xh.sort(t),t.get(0)},xh.sort=function(t,e){var n=t.toArray();e?Zl.sort(n,e):Zl.sort(n);for(var r=t.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},xh.singletonList=function(t){var e=new Il;return e.add(t),e};var wh=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};wh.prototype.expandToQueue=function(t,e){var n=wh.isComposite(this._boundable1),r=wh.isComposite(this._boundable2);if(n&&r)return wh.area(this._boundable1)>wh.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(r)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new bu(\"neither boundable is composite\")},wh.prototype.isLeaves=function(){return!(wh.isComposite(this._boundable1)||wh.isComposite(this._boundable2))},wh.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},wh.prototype.expand=function(t,e,n,r){for(var i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next(),s=new wh(o,e,this._itemDistance);s.getDistance()<r&&n.add(s)}},wh.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},wh.prototype.getDistance=function(){return this._distance},wh.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},wh.prototype.interfaces_=function(){return[Eu]},wh.prototype.getClass=function(){return wh},wh.area=function(t){return t.getBounds().getArea()},wh.isComposite=function(t){return t instanceof mh};var Eh=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new Il,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];il.isTrue(n>1,\"Node capacity must be greater than 1\"),this._nodeCapacity=n}},Ch={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Eh.prototype.getNodeCapacity=function(){return this._nodeCapacity},Eh.prototype.lastNode=function(t){return t.get(t.size()-1)},Eh.prototype.size=function(){var t=this;if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var e=arguments[0],n=0,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof mh?n+=t.size(i):i instanceof gh&&(n+=1)}return n}},Eh.prototype.removeItem=function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof gh&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)},Eh.prototype.itemsTree=function(){var t=this;if(0===arguments.length){this.build();var e=this.itemsTree(this._root);return null===e?new Il:e}if(1===arguments.length){for(var n=arguments[0],r=new Il,i=n.getChildBoundables().iterator();i.hasNext();){var o=i.next();if(o instanceof mh){var s=t.itemsTree(o);null!==s&&r.add(s)}else o instanceof gh?r.add(o.getItem()):il.shouldNeverReachHere()}return r.size()<=0?null:r}},Eh.prototype.insert=function(t,e){il.isTrue(!this._built,\"Cannot insert items into an STR packed R-tree after it has been built.\"),this._itemBoundables.add(new gh(t,e))},Eh.prototype.boundablesAtLevel=function(){var t=this;if(1===arguments.length){var e=arguments[0],n=new Il;return this.boundablesAtLevel(e,this._root,n),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(il.isTrue(r>-2),i.getLevel()===r)return o.add(i),null;for(var s=i.getChildBoundables().iterator();s.hasNext();){var a=s.next();a instanceof mh?t.boundablesAtLevel(r,a,o):(il.isTrue(a instanceof gh),-1===r&&o.add(a))}return null}},Eh.prototype.query=function(){var t=this;if(1===arguments.length){var e=arguments[0];this.build();var n=new Il;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.query(e,this._root,n),n}if(2===arguments.length){var r=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),r)&&this.query(r,this._root,i)}else if(3===arguments.length)if(Ru(arguments[2],vh)&&arguments[0]instanceof Object&&arguments[1]instanceof mh)for(var o=arguments[0],s=arguments[1],a=arguments[2],u=s.getChildBoundables(),l=0;l<u.size();l++){var c=u.get(l);t.getIntersectsOp().intersects(c.getBounds(),o)&&(c instanceof mh?t.query(o,c,a):c instanceof gh?a.visitItem(c.getItem()):il.shouldNeverReachHere())}else if(Ru(arguments[2],Ol)&&arguments[0]instanceof Object&&arguments[1]instanceof mh)for(var h=arguments[0],p=arguments[1],f=arguments[2],d=p.getChildBoundables(),g=0;g<d.size();g++){var y=d.get(g);t.getIntersectsOp().intersects(y.getBounds(),h)&&(y instanceof mh?t.query(h,y,f):y instanceof gh?f.add(y.getItem()):il.shouldNeverReachHere())}},Eh.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Eh.prototype.getRoot=function(){return this.build(),this._root},Eh.prototype.remove=function(){var t=this;if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.remove(e,this._root,n)}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=this.removeItem(i,o);if(s)return!0;for(var a=null,u=i.getChildBoundables().iterator();u.hasNext();){var l=u.next();if(t.getIntersectsOp().intersects(l.getBounds(),r)&&l instanceof mh&&(s=t.remove(r,l,o))){a=l;break}}return null!==a&&a.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(a),s}},Eh.prototype.createHigherLevels=function(t,e){il.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},Eh.prototype.depth=function(){var t=this;if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var e=arguments[0],n=0,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof mh){var o=t.depth(i);o>n&&(n=o)}}return n+1}},Eh.prototype.createParentBoundables=function(t,e){var n=this;il.isTrue(!t.isEmpty());var r=new Il;r.add(this.createNode(e));var i=new Il(t);xh.sort(i,this.getComparator());for(var o=i.iterator();o.hasNext();){var s=o.next();n.lastNode(r).getChildBoundables().size()===n.getNodeCapacity()&&r.add(n.createNode(e)),n.lastNode(r).addChildBoundable(s)}return r},Eh.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Eh.prototype.interfaces_=function(){return[Ou]},Eh.prototype.getClass=function(){return Eh},Eh.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},Ch.IntersectsOp.get=function(){return Sh},Ch.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Ch.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Eh,Ch);var Sh=function(){},Oh=function(){};Oh.prototype.distance=function(t,e){},Oh.prototype.interfaces_=function(){return[]},Oh.prototype.getClass=function(){return Oh};var Ph=function(t){function e(n){n=n||e.DEFAULT_NODE_CAPACITY,t.call(this,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){il.isTrue(t.length>0);for(var n=new Il,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},e.prototype.createNode=function(t){return new Ih(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new Il;for(var s=0;i.hasNext()&&s<n;){var a=i.next();r[o].add(a),s++}}return r},e.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];t.prototype.query.call(this,n,r)}else if(3===arguments.length)if(Ru(arguments[2],vh)&&arguments[0]instanceof Object&&arguments[1]instanceof mh){var i=arguments[0],o=arguments[1],s=arguments[2];t.prototype.query.call(this,i,o,s)}else if(Ru(arguments[2],Ol)&&arguments[0]instanceof Object&&arguments[1]instanceof mh){var a=arguments[0],u=arguments[1],l=arguments[2];t.prototype.query.call(this,a,u,l)}},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},e.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,n){il.isTrue(!t.isEmpty());var r=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new Il(t);xh.sort(i,e.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,n)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Ru(arguments[0],Oh)){var t=arguments[0],n=new wh(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof wh){var r=arguments[0];return this.nearestNeighbour(r,xu.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof e&&Ru(arguments[1],Oh)){var i=arguments[0],o=arguments[1],s=new wh(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(s)}if(arguments[0]instanceof wh&&\"number\"==typeof arguments[1]){var a=arguments[0],u=arguments[1],l=u,c=null,h=new yh;for(h.add(a);!h.isEmpty()&&l>0;){var p=h.poll(),f=p.getDistance();if(f>=l)break;p.isLeaves()?(l=f,c=p):p.expandToQueue(h,l)}return[c.getBoundable(0).getItem(),c.getBoundable(1).getItem()]}}else if(3===arguments.length){var d=arguments[0],g=arguments[1],y=arguments[2],v=new gh(d,g),_=new wh(this.getRoot(),v,y);return this.nearestNeighbour(_)[0]}},e.prototype.interfaces_=function(){return[_h,Ou]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},n.STRtreeNode.get=function(){return Ih},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[Su]},compare:function(n,r){return t.compareDoubles(e.centreX(n.getBounds()),e.centreX(r.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[Su]},compare:function(n,r){return t.compareDoubles(e.centreY(n.getBounds()),e.centreY(r.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,n),e}(Eh),Ih=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new Hu(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(mh),Th=function(){};Th.prototype.interfaces_=function(){return[]},Th.prototype.getClass=function(){return Th},Th.relativeSign=function(t,e){return t<e?-1:t>e?1:0},Th.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=Th.relativeSign(e.x,n.x),i=Th.relativeSign(e.y,n.y);switch(t){case 0:return Th.compareValue(r,i);case 1:return Th.compareValue(i,r);case 2:return Th.compareValue(i,-r);case 3:return Th.compareValue(-r,i);case 4:return Th.compareValue(-r,-i);case 5:return Th.compareValue(-i,-r);case 6:return Th.compareValue(-i,r);case 7:return Th.compareValue(r,-i)}return il.shouldNeverReachHere(\"invalid octant value\"),0},Th.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var Mh=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new Pu(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))};Mh.prototype.getCoordinate=function(){return this.coord},Mh.prototype.print=function(t){t.print(this.coord),t.print(\" seg # = \"+this.segmentIndex)},Mh.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Th.compare(this._segmentOctant,this.coord,e.coord)},Mh.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},Mh.prototype.isInterior=function(){return this._isInterior},Mh.prototype.interfaces_=function(){return[Eu]},Mh.prototype.getClass=function(){return Mh};var Ah=function(){this._nodeMap=new Xl,this._edge=null;var t=arguments[0];this._edge=t};Ah.prototype.getSplitCoordinates=function(){var t=new Ml;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},Ah.prototype.addCollapsedNodes=function(){var t=new Il;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},Ah.prototype.print=function(t){t.println(\"Intersections:\");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Ah.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(new Du(e+1))}},Ah.prototype.addEdgeCoordinates=function(t,e,n){var r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);n.add(new Pu(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new Pu(e.coord))},Ah.prototype.iterator=function(){return this._nodeMap.values().iterator()},Ah.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},Ah.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},Ah.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new Du(e[0])),r=i}},Ah.prototype.getEdge=function(){return this._edge},Ah.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},Ah.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new Pu(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return i&&(o[s]=new Pu(e.coord)),new Fh(o,this._edge.getData())},Ah.prototype.add=function(t,e){var n=new Mh(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(il.isTrue(r.coord.equals2D(t),\"Found equal nodes with different coordinates\"),r):(this._nodeMap.put(n,n),n)},Ah.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new nl(\"bad split edge start point at \"+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new nl(\"bad split edge end point at \"+i)},Ah.prototype.interfaces_=function(){return[]},Ah.prototype.getClass=function(){return Ah};var Lh=function(){};Lh.prototype.interfaces_=function(){return[]},Lh.prototype.getClass=function(){return Lh},Lh.octant=function(){if(\"number\"==typeof arguments[0]&&\"number\"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new bu(\"Cannot compute the octant for point ( \"+t+\", \"+e+\" )\");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof Pu&&arguments[1]instanceof Pu){var i=arguments[0],o=arguments[1],s=o.x-i.x,a=o.y-i.y;if(0===s&&0===a)throw new bu(\"Cannot compute the octant for two identical points \"+i);return Lh.octant(s,a)}};var Rh=function(){};Rh.prototype.getCoordinates=function(){},Rh.prototype.size=function(){},Rh.prototype.getCoordinate=function(t){},Rh.prototype.isClosed=function(){},Rh.prototype.setData=function(t){},Rh.prototype.getData=function(){},Rh.prototype.interfaces_=function(){return[]},Rh.prototype.getClass=function(){return Rh};var Nh=function(){};Nh.prototype.addIntersection=function(t,e){},Nh.prototype.interfaces_=function(){return[Rh]},Nh.prototype.getClass=function(){return Nh};var Fh=function(){this._nodeList=new Ah(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Fh.prototype.getCoordinates=function(){return this._pts},Fh.prototype.size=function(){return this._pts.length},Fh.prototype.getCoordinate=function(t){return this._pts[t]},Fh.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Fh.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},Fh.prototype.setData=function(t){this._data=t},Fh.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:Lh.octant(t,e)},Fh.prototype.getData=function(){return this._data},Fh.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[3],o=new Pu(n.getIntersection(i));this.addIntersection(o,r)}},Fh.prototype.toString=function(){return el.toLineString(new Ic(this._pts))},Fh.prototype.getNodeList=function(){return this._nodeList},Fh.prototype.addIntersectionNode=function(t,e){var n=e,r=n+1;if(r<this._pts.length){var i=this._pts[r];t.equals2D(i)&&(n=r)}return this._nodeList.add(t,n)},Fh.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},Fh.prototype.interfaces_=function(){return[Nh]},Fh.prototype.getClass=function(){return Fh},Fh.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new Il;return Fh.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();){var o=i.next();o.getNodeList().addSplitEdges(r)}};var jh=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new Pu,this.p1=new Pu;else if(1===arguments.length){var t=arguments[0];this.p0=new Pu(t.p0),this.p1=new Pu(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.p0=new Pu(e,n),this.p1=new Pu(r,i)}},Dh={serialVersionUID:{configurable:!0}};jh.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},jh.prototype.orientationIndex=function(){if(arguments[0]instanceof jh){var t=arguments[0],e=cl.orientationIndex(this.p0,this.p1,t.p0),n=cl.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof Pu){var r=arguments[0];return cl.orientationIndex(this.p0,this.p1,r)}},jh.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},jh.prototype.isVertical=function(){return this.p0.x===this.p1.x},jh.prototype.equals=function(t){if(!(t instanceof jh))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},jh.prototype.intersection=function(t){var e=new al;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},jh.prototype.project=function(){if(arguments[0]instanceof Pu){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new Pu(t);var e=this.projectionFactor(t),n=new Pu;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof jh){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var s=this.project(r.p0);i<0&&(s=this.p0),i>1&&(s=this.p1);var a=this.project(r.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new jh(s,a)}},jh.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},jh.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},jh.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},jh.prototype.distancePerpendicular=function(t){return cl.distancePointLinePerpendicular(t,this.p0,this.p1)},jh.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},jh.prototype.midPoint=function(){return jh.midPoint(this.p0,this.p1)},jh.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return r<=0?xu.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},jh.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=xu.MAX_VALUE,i=null,o=this.closestPoint(t.p0);r=o.distance(t.p0),n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(i=s.distance(t.p1))<r&&(r=i,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(i=a.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=a);var u=t.closestPoint(this.p1);return(i=u.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=u),n},jh.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},jh.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},jh.prototype.getLength=function(){return this.p0.distance(this.p1)},jh.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},jh.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},jh.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},jh.prototype.lineIntersection=function(t){try{return Wu.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof Xu))throw t}return null},jh.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},jh.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(i*i+o*o),a=0,u=0;if(0!==e){if(s<=0)throw new Error(\"Cannot compute offset from zero-length line segment\");a=e*i/s,u=e*o/s}return new Pu(n-u,r+a)},jh.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},jh.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||xu.isNaN(e))&&(e=1),e},jh.prototype.toString=function(){return\"LINESTRING( \"+this.p0.x+\" \"+this.p0.y+\", \"+this.p1.x+\" \"+this.p1.y+\")\"},jh.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},jh.prototype.distance=function(){if(arguments[0]instanceof jh){var t=arguments[0];return cl.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof Pu){var e=arguments[0];return cl.distancePointLine(e,this.p0,this.p1)}},jh.prototype.pointAlong=function(t){var e=new Pu;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},jh.prototype.hashCode=function(){var t=xu.doubleToLongBits(this.p0.x);t^=31*xu.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=xu.doubleToLongBits(this.p1.x);return n^=31*xu.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},jh.prototype.interfaces_=function(){return[Eu,Ou]},jh.prototype.getClass=function(){return jh},jh.midPoint=function(t,e){return new Pu((t.x+e.x)/2,(t.y+e.y)/2)},Dh.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(jh,Dh);var kh=function(){this.tempEnv1=new Hu,this.tempEnv2=new Hu,this._overlapSeg1=new jh,this._overlapSeg2=new jh};kh.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},kh.prototype.interfaces_=function(){return[]},kh.prototype.getClass=function(){return kh};var Gh=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=r};Gh.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},Gh.prototype.computeSelect=function(t,e,n,r){var i=this._pts[e],o=this._pts[n];if(r.tempEnv1.init(i,o),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,r),s<n&&this.computeSelect(t,s,n,r)},Gh.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},Gh.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},Gh.prototype.setId=function(t){this._id=t},Gh.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},Gh.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new Hu(t,e)}return this._env},Gh.prototype.getEndIndex=function(){return this._end},Gh.prototype.getStartIndex=function(){return this._start},Gh.prototype.getContext=function(){return this._context},Gh.prototype.getId=function(){return this._id},Gh.prototype.computeOverlapsInternal=function(t,e,n,r,i,o){var s=this._pts[t],a=this._pts[e],u=n._pts[r],l=n._pts[i];if(e-t==1&&i-r==1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),h=Math.trunc((r+i)/2);t<c&&(r<h&&this.computeOverlapsInternal(t,c,n,r,h,o),h<i&&this.computeOverlapsInternal(t,c,n,h,i,o)),c<e&&(r<h&&this.computeOverlapsInternal(c,e,n,r,h,o),h<i&&this.computeOverlapsInternal(c,e,n,h,i,o))},Gh.prototype.interfaces_=function(){return[]},Gh.prototype.getClass=function(){return Gh};var Bh=function(){};Bh.prototype.interfaces_=function(){return[]},Bh.prototype.getClass=function(){return Bh},Bh.getChainStartIndices=function(t){var e=0,n=new Il;n.add(new Du(e));do{var r=Bh.findChainEnd(t,e);n.add(new Du(r)),e=r}while(e<t.length-1);return Bh.toIntArray(n)},Bh.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=ah.quadrant(t[n],t[n+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||ah.quadrant(t[i-1],t[i])===r);)i++;return i-1},Bh.getChains=function(){if(1===arguments.length){var t=arguments[0];return Bh.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new Il,i=Bh.getChainStartIndices(e),o=0;o<i.length-1;o++){var s=new Gh(e,i[o],i[o+1],n);r.add(s)}return r}},Bh.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var zh=function(){};zh.prototype.computeNodes=function(t){},zh.prototype.getNodedSubstrings=function(){},zh.prototype.interfaces_=function(){return[]},zh.prototype.getClass=function(){return zh};var Vh=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};Vh.prototype.setSegmentIntersector=function(t){this._segInt=t},Vh.prototype.interfaces_=function(){return[zh]},Vh.prototype.getClass=function(){return Vh};var qh=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new Il,this._index=new Ph,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return Fh.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=this,n=Bh.getChains(t.getCoordinates(),t).iterator();n.hasNext();){var r=n.next();r.setId(e._idCounter++),e._index.insert(r.getEnvelope(),r),e._monoChains.add(r)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=this,e=new Uh(this._segInt),n=this._monoChains.iterator();n.hasNext();)for(var r=n.next(),i=t._index.query(r.getEnvelope()).iterator();i.hasNext();){var o=i.next();if(o.getId()>r.getId()&&(r.computeOverlaps(o,e),t._nOverlaps++),t._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return Uh},Object.defineProperties(e,n),e}(Vh),Uh=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3],o=e.getContext(),s=r.getContext();this._si.processIntersections(o,n,s,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(kh),$h=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}},Xh={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};$h.prototype.getEndCapStyle=function(){return this._endCapStyle},$h.prototype.isSingleSided=function(){return this._isSingleSided},$h.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=$h.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=$h.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==$h.JOIN_ROUND&&(this._quadrantSegments=$h.DEFAULT_QUADRANT_SEGMENTS)},$h.prototype.getJoinStyle=function(){return this._joinStyle},$h.prototype.setJoinStyle=function(t){this._joinStyle=t},$h.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},$h.prototype.getSimplifyFactor=function(){return this._simplifyFactor},$h.prototype.getQuadrantSegments=function(){return this._quadrantSegments},$h.prototype.setEndCapStyle=function(t){this._endCapStyle=t},$h.prototype.getMitreLimit=function(){return this._mitreLimit},$h.prototype.setMitreLimit=function(t){this._mitreLimit=t},$h.prototype.setSingleSided=function(t){this._isSingleSided=t},$h.prototype.interfaces_=function(){return[]},$h.prototype.getClass=function(){return $h},$h.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Xh.CAP_ROUND.get=function(){return 1},Xh.CAP_FLAT.get=function(){return 2},Xh.CAP_SQUARE.get=function(){return 3},Xh.JOIN_ROUND.get=function(){return 1},Xh.JOIN_MITRE.get=function(){return 2},Xh.JOIN_BEVEL.get=function(){return 3},Xh.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Xh.DEFAULT_MITRE_LIMIT.get=function(){return 5},Xh.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties($h,Xh);var Yh=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=cl.COUNTERCLOCKWISE,this._inputLine=t||null},Wh={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Yh.prototype.isDeletable=function(t,e,n,r){var i=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(i,o,s)&&!!this.isShallow(i,o,s,r)&&this.isShallowSampled(i,o,t,n,r)},Yh.prototype.deleteShallowConcavities=function(){for(var t=this,e=1,n=this.findNextNonDeletedIndex(e),r=this.findNextNonDeletedIndex(n),i=!1;r<this._inputLine.length;){var o=!1;t.isDeletable(e,n,r,t._distanceTol)&&(t._isDeleted[n]=Yh.DELETE,o=!0,i=!0),e=o?r:n,n=t.findNextNonDeletedIndex(e),r=t.findNextNonDeletedIndex(n)}return i},Yh.prototype.isShallowConcavity=function(t,e,n,r){return cl.computeOrientation(t,e,n)===this._angleOrientation&&cl.distancePointLine(e,t,n)<r},Yh.prototype.isShallowSampled=function(t,e,n,r,i){var o=Math.trunc((r-n)/Yh.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<r;s+=o)if(!this.isShallow(t,e,this._inputLine[s],i))return!1;return!0},Yh.prototype.isConcave=function(t,e,n){return cl.computeOrientation(t,e,n)===this._angleOrientation},Yh.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=cl.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},Yh.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===Yh.DELETE;)e++;return e},Yh.prototype.isShallow=function(t,e,n,r){return cl.distancePointLine(e,t,n)<r},Yh.prototype.collapseLine=function(){for(var t=new Ml,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==Yh.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},Yh.prototype.interfaces_=function(){return[]},Yh.prototype.getClass=function(){return Yh},Yh.simplify=function(t,e){return new Yh(t).simplify(e)},Wh.INIT.get=function(){return 0},Wh.DELETE.get=function(){return 1},Wh.KEEP.get=function(){return 1},Wh.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Yh,Wh);var Hh=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Il},Kh={COORDINATE_ARRAY_TYPE:{configurable:!0}};Hh.prototype.getCoordinates=function(){return this._ptList.toArray(Hh.COORDINATE_ARRAY_TYPE)},Hh.prototype.setPrecisionModel=function(t){this._precisionModel=t},Hh.prototype.addPt=function(t){var e=new Pu(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},Hh.prototype.revere=function(){},Hh.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])},Hh.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},Hh.prototype.toString=function(){return(new Dc).createLineString(this.getCoordinates()).toString()},Hh.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new Pu(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},Hh.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},Hh.prototype.interfaces_=function(){return[]},Hh.prototype.getClass=function(){return Hh},Kh.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Hh,Kh);var Zh=function(){},Jh={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Zh.prototype.interfaces_=function(){return[]},Zh.prototype.getClass=function(){return Zh},Zh.toDegrees=function(t){return 180*t/Math.PI},Zh.normalize=function(t){for(;t>Math.PI;)t-=Zh.PI_TIMES_2;for(;t<=-Math.PI;)t+=Zh.PI_TIMES_2;return t},Zh.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x,i=n.y-e.y;return Math.atan2(i,r)}},Zh.isAcute=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)>0},Zh.isObtuse=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)<0},Zh.interiorAngle=function(t,e,n){var r=Zh.angle(e,t),i=Zh.angle(e,n);return Math.abs(i-r)},Zh.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Zh.PI_TIMES_2;t>=Zh.PI_TIMES_2&&(t=0)}else{for(;t>=Zh.PI_TIMES_2;)t-=Zh.PI_TIMES_2;t<0&&(t=0)}return t},Zh.angleBetween=function(t,e,n){var r=Zh.angle(e,t),i=Zh.angle(e,n);return Zh.diff(r,i)},Zh.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},Zh.toRadians=function(t){return t*Math.PI/180},Zh.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?Zh.COUNTERCLOCKWISE:n<0?Zh.CLOCKWISE:Zh.NONE},Zh.angleBetweenOriented=function(t,e,n){var r=Zh.angle(e,t),i=Zh.angle(e,n)-r;return i<=-Math.PI?i+Zh.PI_TIMES_2:i>Math.PI?i-Zh.PI_TIMES_2:i},Jh.PI_TIMES_2.get=function(){return 2*Math.PI},Jh.PI_OVER_2.get=function(){return Math.PI/2},Jh.PI_OVER_4.get=function(){return Math.PI/4},Jh.COUNTERCLOCKWISE.get=function(){return cl.COUNTERCLOCKWISE},Jh.CLOCKWISE.get=function(){return cl.CLOCKWISE},Jh.NONE.get=function(){return cl.COLLINEAR},Object.defineProperties(Zh,Jh);var Qh=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new jh,this._seg1=new jh,this._offset0=new jh,this._offset1=new jh,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new al,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===$h.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},tp={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Qh.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=cl.computeOrientation(this._s0,this._s1,this._s2),r=n===cl.CLOCKWISE&&this._side===$c.LEFT||n===cl.COUNTERCLOCKWISE&&this._side===$c.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},Qh.prototype.addLineEndCap=function(t,e){var n=new jh(t,e),r=new jh;this.computeOffsetSegment(n,$c.LEFT,this._distance,r);var i=new jh;this.computeOffsetSegment(n,$c.RIGHT,this._distance,i);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case $h.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,cl.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case $h.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case $h.CAP_SQUARE:var u=new Pu;u.x=Math.abs(this._distance)*Math.cos(a),u.y=Math.abs(this._distance)*Math.sin(a);var l=new Pu(r.p1.x+u.x,r.p1.y+u.y),c=new Pu(i.p1.x+u.x,i.p1.y+u.y);this._segList.addPt(l),this._segList.addPt(c)}},Qh.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Qh.prototype.addMitreJoin=function(t,e,n,r){var i=!0,o=null;try{o=Wu.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:o.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof Xu))throw t;o=new Pu(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},Qh.prototype.addFilletCorner=function(t,e,n,r,i){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),u=n.x-t.x,l=n.y-t.y,c=Math.atan2(l,u);r===cl.CLOCKWISE?a<=c&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,c,r,i),this._segList.addPt(n)},Qh.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Qh.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===$h.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===$h.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},Qh.prototype.createSquare=function(t){this._segList.addPt(new Pu(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new Pu(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new Pu(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new Pu(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},Qh.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},Qh.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Qh.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Qh.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},Qh.prototype.addLimitedMitreJoin=function(t,e,n,r){var i=this._seg0.p1,o=Zh.angle(i,this._seg0.p0),s=Zh.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,a=Zh.normalize(o+s),u=Zh.normalize(a+Math.PI),l=r*n,c=n-l*Math.abs(Math.sin(s)),h=i.x+l*Math.cos(u),p=i.y+l*Math.sin(u),f=new Pu(h,p),d=new jh(i,f),g=d.pointAlongOffset(1,c),y=d.pointAlongOffset(1,-c);this._side===$c.LEFT?(this._segList.addPt(g),this._segList.addPt(y)):(this._segList.addPt(y),this._segList.addPt(g))},Qh.prototype.computeOffsetSegment=function(t,e,n,r){var i=e===$c.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=i*n*o/a,l=i*n*s/a;r.p0.x=t.p0.x-l,r.p0.y=t.p0.y+u,r.p1.x=t.p1.x-l,r.p1.y=t.p1.y+u},Qh.prototype.addFilletArc=function(t,e,n,r,i){var o=r===cl.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var u=s/a,l=0,c=new Pu;l<s;){var h=e+o*l;c.x=t.x+i*Math.cos(h),c.y=t.y+i*Math.sin(h),this._segList.addPt(c),l+=u}},Qh.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Qh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new Pu((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new Pu((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Qh.prototype.createCircle=function(t){var e=new Pu(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Qh.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},Qh.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Hh,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*Qh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Qh.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===$h.JOIN_BEVEL||this._bufParams.getJoinStyle()===$h.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,cl.CLOCKWISE,this._distance))},Qh.prototype.closeRing=function(){this._segList.closeRing()},Qh.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Qh.prototype.interfaces_=function(){return[]},Qh.prototype.getClass=function(){return Qh},tp.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},tp.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},tp.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},tp.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Qh,tp);var ep=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};ep.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&Al.reverse(o),o},ep.prototype.computeSingleSidedBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var i=Yh.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],$c.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{n.addSegments(t,!1);var a=Yh.simplify(t,r),u=a.length-1;n.initSideSegments(a[0],a[1],$c.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment(),n.closeRing()},ep.prototype.computeRingBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);e===$c.RIGHT&&(r=-r);var i=Yh.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(i[s],a)}n.closeRing()},ep.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),r=Yh.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],$c.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var s=Yh.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],$c.LEFT);for(var u=a-2;u>=0;u--)e.addNextSegment(s[u],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},ep.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case $h.CAP_ROUND:e.createCircle(t);break;case $h.CAP_SQUARE:e.createSquare(t)}},ep.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this._bufParams.isSingleSided()){var i=e<0;this.computeSingleSidedBufferCurve(t,i,r)}else this.computeLineBufferCurve(t,r);return r.getCoordinates()},ep.prototype.getBufferParameters=function(){return this._bufParams},ep.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},ep.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return ep.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},ep.prototype.computeOffsetCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var i=Yh.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],$c.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{var a=Yh.simplify(t,r),u=a.length-1;n.initSideSegments(a[0],a[1],$c.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment()},ep.prototype.getSegGen=function(t){return new Qh(this._precisionModel,this._bufParams,t)},ep.prototype.interfaces_=function(){return[]},ep.prototype.getClass=function(){return ep},ep.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new Pu(t[n]);return e};var np=function(){this._subgraphs=null,this._seg=new jh,this._cga=new cl;var t=arguments[0];this._subgraphs=t},rp={DepthSegment:{configurable:!0}};np.prototype.findStabbedSegments=function(){var t=this;if(1===arguments.length){for(var e=arguments[0],n=new Il,r=this._subgraphs.iterator();r.hasNext();){var i=r.next(),o=i.getEnvelope();e.y<o.getMinY()||e.y>o.getMaxY()||t.findStabbedSegments(e,i.getDirectedEdges(),n)}return n}if(3===arguments.length)if(Ru(arguments[2],Ol)&&arguments[0]instanceof Pu&&arguments[1]instanceof ch)for(var s=arguments[0],a=arguments[1],u=arguments[2],l=a.getEdge().getCoordinates(),c=0;c<l.length-1;c++){t._seg.p0=l[c],t._seg.p1=l[c+1],t._seg.p0.y>t._seg.p1.y&&t._seg.reverse();var h=Math.max(t._seg.p0.x,t._seg.p1.x);if(!(h<s.x||t._seg.isHorizontal()||s.y<t._seg.p0.y||s.y>t._seg.p1.y||cl.computeOrientation(t._seg.p0,t._seg.p1,s)===cl.RIGHT)){var p=a.getDepth($c.LEFT);t._seg.p0.equals(l[c])||(p=a.getDepth($c.RIGHT));var f=new ip(t._seg,p);u.add(f)}}else if(Ru(arguments[2],Ol)&&arguments[0]instanceof Pu&&Ru(arguments[1],Ol))for(var d=arguments[0],g=arguments[1],y=arguments[2],v=g.iterator();v.hasNext();){var _=v.next();_.isForward()&&t.findStabbedSegments(d,_,y)}},np.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:xh.min(e)._leftDepth},np.prototype.interfaces_=function(){return[]},np.prototype.getClass=function(){return np},rp.DepthSegment.get=function(){return ip},Object.defineProperties(np,rp);var ip=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new jh(t),this._leftDepth=e};ip.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},ip.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},ip.prototype.toString=function(){return this._upwardSeg.toString()},ip.prototype.interfaces_=function(){return[Eu]},ip.prototype.getClass=function(){return ip};var op=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};op.prototype.area=function(){return op.area(this.p0,this.p1,this.p2)},op.prototype.signedArea=function(){return op.signedArea(this.p0,this.p1,this.p2)},op.prototype.interpolateZ=function(t){if(null===t)throw new bu(\"Supplied point is null.\");return op.interpolateZ(t,this.p0,this.p1,this.p2)},op.prototype.longestSideLength=function(){return op.longestSideLength(this.p0,this.p1,this.p2)},op.prototype.isAcute=function(){return op.isAcute(this.p0,this.p1,this.p2)},op.prototype.circumcentre=function(){return op.circumcentre(this.p0,this.p1,this.p2)},op.prototype.area3D=function(){return op.area3D(this.p0,this.p1,this.p2)},op.prototype.centroid=function(){return op.centroid(this.p0,this.p1,this.p2)},op.prototype.inCentre=function(){return op.inCentre(this.p0,this.p1,this.p2)},op.prototype.interfaces_=function(){return[]},op.prototype.getClass=function(){return op},op.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},op.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},op.det=function(t,e,n,r){return t*r-e*n},op.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,s=n.x-i,a=r.x-i,u=n.y-o,l=r.y-o,c=s*l-a*u,h=t.x-i,p=t.y-o,f=(l*h-a*p)/c,d=(-u*h+s*p)/c;return e.z+f*(n.z-e.z)+d*(r.z-e.z)},op.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),s=r;return i>s&&(s=i),o>s&&(s=o),s},op.isAcute=function(t,e,n){return!!Zh.isAcute(t,e,n)&&!!Zh.isAcute(e,n,t)&&!!Zh.isAcute(n,t,e)},op.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,s=t.y-i,a=e.x-r,u=e.y-i,l=2*op.det(o,s,a,u),c=op.det(s,o*o+s*s,u,a*a+u*u),h=op.det(o,o*o+s*s,a,a*a+u*u);return new Pu(r-c/l,i+h/l)},op.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=new Wu(t.x+n/2,t.y+r/2,1),o=new Wu(t.x-r+n/2,t.y+n+r/2,1);return new Wu(i,o)},op.angleBisector=function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n)),o=n.x-t.x,s=n.y-t.y;return new Pu(t.x+i*o,t.y+i*s)},op.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,u=n.z-t.z,l=i*u-o*a,c=o*s-r*u,h=r*a-i*s,p=l*l+c*c+h*h;return Math.sqrt(p)/2},op.centroid=function(t,e,n){var r=(t.x+e.x+n.x)/3,i=(t.y+e.y+n.y)/3;return new Pu(r,i)},op.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),s=r+i+o,a=(r*t.x+i*e.x+o*n.x)/s,u=(r*t.y+i*e.y+o*n.y)/s;return new Pu(a,u)};var sp=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Il;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};sp.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Au.EXTERIOR,Au.INTERIOR)},sp.prototype.addPolygon=function(t){var e=this,n=this._distance,r=$c.LEFT;this._distance<0&&(n=-this._distance,r=$c.RIGHT);var i=t.getExteriorRing(),o=Al.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance))return null;if(this._distance<=0&&o.length<3)return null;this.addPolygonRing(o,n,r,Au.EXTERIOR,Au.INTERIOR);for(var s=0;s<t.getNumInteriorRing();s++){var a=t.getInteriorRingN(s),u=Al.removeRepeatedPoints(a.getCoordinates());e._distance>0&&e.isErodedCompletely(a,-e._distance)||e.addPolygonRing(u,n,$c.opposite(r),Au.INTERIOR,Au.EXTERIOR)}},sp.prototype.isTriangleErodedCompletely=function(t,e){var n=new op(t[0],t[1],t[2]),r=n.inCentre();return cl.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},sp.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=Al.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Au.EXTERIOR,Au.INTERIOR)},sp.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var r=new Fh(t,new th(0,Au.BOUNDARY,e,n));this._curveList.add(r)},sp.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},sp.prototype.addPolygonRing=function(t,e,n,r,i){if(0===e&&t.length<xc.MINIMUM_VALID_SIZE)return null;var o=r,s=i;t.length>=xc.MINIMUM_VALID_SIZE&&cl.isCCW(t)&&(o=i,s=r,n=$c.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},sp.prototype.add=function(t){if(t.isEmpty())return null;t instanceof mc?this.addPolygon(t):t instanceof gc?this.addLineString(t):t instanceof vc?this.addPoint(t):(t instanceof bc||t instanceof rc||t instanceof wc||t instanceof nc)&&this.addCollection(t)},sp.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i},sp.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},sp.prototype.interfaces_=function(){return[]},sp.prototype.getClass=function(){return sp};var ap=function(){};ap.prototype.locate=function(t){},ap.prototype.interfaces_=function(){return[]},ap.prototype.getClass=function(){return ap};var up=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};up.prototype.next=function(){if(this._atStart)return this._atStart=!1,up.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Pl;var t=this._parent.getGeometryN(this._index++);return t instanceof nc?(this._subcollectionIterator=new up(t),this._subcollectionIterator.next()):t},up.prototype.remove=function(){throw new Error(this.getClass().getName())},up.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},up.prototype.interfaces_=function(){return[Sl]},up.prototype.getClass=function(){return up},up.isAtomic=function(t){return!(t instanceof nc)};var lp=function(){this._geom=null;var t=arguments[0];this._geom=t};lp.prototype.locate=function(t){return lp.locate(t,this._geom)},lp.prototype.interfaces_=function(){return[ap]},lp.prototype.getClass=function(){return lp},lp.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&cl.isPointInRing(t,e.getCoordinates())},lp.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!lp.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r);if(lp.isPointInRing(t,i))return!1}return!0},lp.containsPoint=function(t,e){if(e instanceof mc)return lp.containsPointInPolygon(t,e);if(e instanceof nc)for(var n=new up(e);n.hasNext();){var r=n.next();if(r!==e&&lp.containsPoint(t,r))return!0}return!1},lp.locate=function(t,e){return e.isEmpty()?Au.EXTERIOR:lp.containsPoint(t,e)?Au.INTERIOR:Au.EXTERIOR};var cp=function(){this._edgeMap=new Xl,this._edgeList=null,this._ptInAreaLocation=[Au.NONE,Au.NONE]};cp.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},cp.prototype.propagateSideLabels=function(t){for(var e=Au.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(t)&&r.getLocation(t,$c.LEFT)!==Au.NONE&&(e=r.getLocation(t,$c.LEFT))}if(e===Au.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,$c.ON)===Au.NONE&&a.setLocation(t,$c.ON,i),a.isArea(t)){var u=a.getLocation(t,$c.LEFT),l=a.getLocation(t,$c.RIGHT);if(l!==Au.NONE){if(l!==i)throw new Kc(\"side location conflict\",s.getCoordinate());u===Au.NONE&&il.shouldNeverReachHere(\"found single null side (at \"+s.getCoordinate()+\")\"),i=u}else il.isTrue(a.getLocation(t,$c.LEFT)===Au.NONE,\"found single null side\"),a.setLocation(t,$c.RIGHT,i),a.setLocation(t,$c.LEFT,i)}}},cp.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},cp.prototype.print=function(t){Yu.out.println(\"EdgeEndStar:   \"+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},cp.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},cp.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,$c.LEFT);il.isTrue(r!==Au.NONE,\"Found unlabelled area edge\");for(var i=r,o=this.iterator();o.hasNext();){var s=o.next().getLabel();il.isTrue(s.isArea(t),\"Found non-area edge\");var a=s.getLocation(t,$c.LEFT),u=s.getLocation(t,$c.RIGHT);if(a===u)return!1;if(u!==i)return!1;i=a}return!0},cp.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},cp.prototype.iterator=function(){return this.getEdges().iterator()},cp.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Il(this._edgeMap.values())),this._edgeList},cp.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===Au.NONE&&(this._ptInAreaLocation[t]=lp.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},cp.prototype.toString=function(){var t=new ju;t.append(\"EdgeEndStar:   \"+this.getCoordinate()),t.append(\"\\n\");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append(\"\\n\")}return t.toString()},cp.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},cp.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===Au.BOUNDARY&&(e[i]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),u=0;u<2;u++)if(a.isAnyNull(u)){var l=Au.NONE;if(e[u])l=Au.EXTERIOR;else{var c=s.getCoordinate();l=this.getLocation(u,c,t)}a.setAllLocationsIfNull(u,l)}},cp.prototype.getDegree=function(){return this._edgeMap.size()},cp.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},cp.prototype.interfaces_=function(){return[]},cp.prototype.getClass=function(){return cp};var hp=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){var t=this;this.getResultAreaEdges();for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var o=t._resultAreaEdgeList.get(i),s=o.getSym();if(o.getLabel().isArea())switch(null===e&&o.isInResult()&&(e=o),r){case t._SCANNING_FOR_INCOMING:if(!s.isInResult())continue;n=s,r=t._LINKING_TO_OUTGOING;break;case t._LINKING_TO_OUTGOING:if(!o.isInResult())continue;n.setNext(o),r=t._SCANNING_FOR_INCOMING}}if(r===this._LINKING_TO_OUTGOING){if(null===e)throw new Kc(\"no outgoing dirEdge found\",this.getCoordinate());il.isTrue(e.isInResult(),\"unable to link last incoming dirEdge\"),n.setNext(e)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return ah.isNorthern(i)&&ah.isNorthern(o)?n:ah.isNorthern(i)||ah.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(il.shouldNeverReachHere(\"found two horizontal edges incident on node\"),null):r},e.prototype.print=function(t){Yu.out.println(\"DirectedEdgeStar: \"+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print(\"out \"),n.print(t),t.println(),t.print(\"in \"),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Il;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)},e.prototype.computeDepths=function(){var t=this;if(1===arguments.length){var e=arguments[0],n=this.findIndex(e),r=e.getDepth($c.LEFT),i=e.getDepth($c.RIGHT),o=this.computeDepths(n+1,this._edgeList.size(),r),s=this.computeDepths(0,n,o);if(s!==i)throw new Kc(\"depth mismatch at \"+e.getCoordinate())}else if(3===arguments.length){for(var a=arguments[0],u=arguments[1],l=arguments[2],c=l,h=a;h<u;h++){var p=t._edgeList.get(h);p.setEdgeDepths($c.RIGHT,c),c=p.getDepth($c.LEFT)}return c}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=this,n=null,r=null,i=this._SCANNING_FOR_INCOMING,o=this._resultAreaEdgeList.size()-1;o>=0;o--){var s=e._resultAreaEdgeList.get(o),a=s.getSym();switch(null===n&&s.getEdgeRing()===t&&(n=s),i){case e._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==t)continue;r=a,i=e._LINKING_TO_OUTGOING;break;case e._LINKING_TO_OUTGOING:if(s.getEdgeRing()!==t)continue;r.setNextMin(s),i=e._SCANNING_FOR_INCOMING}}i===this._LINKING_TO_OUTGOING&&(il.isTrue(null!==n,\"found null for first outgoing dirEdge\"),il.isTrue(n.getEdgeRing()===t,\"unable to link last incoming dirEdge\"),r.setNextMin(n))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();){var n=e.next();n.isInResult()&&t++}return t}if(1===arguments.length){for(var r=arguments[0],i=0,o=this.iterator();o.hasNext();){var s=o.next();s.getEdgeRing()===r&&i++}return i}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=Au.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=Au.INTERIOR;break}if(r.isInResult()){t=Au.EXTERIOR;break}}}if(t===Au.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(i===Au.INTERIOR):(s.isInResult()&&(i=Au.EXTERIOR),a.isInResult()&&(i=Au.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new th(Au.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var o=r.getLocation(i);o!==Au.INTERIOR&&o!==Au.BOUNDARY||this._label.setLocation(i,Au.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(cp),pp=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new oh(t,new hp)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hh),fp=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};fp.prototype.compareTo=function(t){var e=t;return fp.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},fp.prototype.interfaces_=function(){return[Eu]},fp.prototype.getClass=function(){return fp},fp.orientation=function(t){return 1===Al.increasingDirection(t)},fp.compareOriented=function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,s=e?t.length:-1,a=r?n.length:-1,u=e?0:t.length-1,l=r?0:n.length-1;;){var c=t[u].compareTo(n[l]);if(0!==c)return c;var h=(u+=i)===s,p=(l+=o)===a;if(h&&!p)return-1;if(!h&&p)return 1;if(h&&p)return 0}};var dp=function(){this._edges=new Il,this._ocaMap=new Xl};dp.prototype.print=function(t){t.print(\"MULTILINESTRING ( \");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(\",\"),t.print(\"(\");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(\",\"),t.print(r[i].x+\" \"+r[i].y);t.println(\")\")}t.print(\")  \")},dp.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},dp.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},dp.prototype.iterator=function(){return this._edges.iterator()},dp.prototype.getEdges=function(){return this._edges},dp.prototype.get=function(t){return this._edges.get(t)},dp.prototype.findEqualEdge=function(t){var e=new fp(t.getCoordinates());return this._ocaMap.get(e)},dp.prototype.add=function(t){this._edges.add(t);var e=new fp(t.getCoordinates());this._ocaMap.put(e,t)},dp.prototype.interfaces_=function(){return[]},dp.prototype.getClass=function(){return dp};var gp=function(){};gp.prototype.processIntersections=function(t,e,n,r){},gp.prototype.isDone=function(){},gp.prototype.interfaces_=function(){return[]},gp.prototype.getClass=function(){return gp};var yp=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};yp.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(yp.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},yp.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},yp.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},yp.prototype.getLineIntersector=function(){return this._li},yp.prototype.hasProperIntersection=function(){return this._hasProper},yp.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},yp.prototype.hasIntersection=function(){return this._hasIntersection},yp.prototype.isDone=function(){return!1},yp.prototype.hasInteriorIntersection=function(){return this._hasInterior},yp.prototype.interfaces_=function(){return[gp]},yp.prototype.getClass=function(){return yp},yp.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var vp=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new Pu(t),this.segmentIndex=e,this.dist=n};vp.prototype.getSegmentIndex=function(){return this.segmentIndex},vp.prototype.getCoordinate=function(){return this.coord},vp.prototype.print=function(t){t.print(this.coord),t.print(\" seg # = \"+this.segmentIndex),t.println(\" dist = \"+this.dist)},vp.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},vp.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},vp.prototype.toString=function(){return this.coord+\" seg # = \"+this.segmentIndex+\" dist = \"+this.dist},vp.prototype.getDistance=function(){return this.dist},vp.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},vp.prototype.interfaces_=function(){return[Eu]},vp.prototype.getClass=function(){return vp};var _p=function(){this._nodeMap=new Xl,this.edge=null;var t=arguments[0];this.edge=t};_p.prototype.print=function(t){t.println(\"Intersections:\");for(var e=this.iterator();e.hasNext();)e.next().print(t)},_p.prototype.iterator=function(){return this._nodeMap.values().iterator()},_p.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},_p.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},_p.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.pts[e.segmentIndex],i=e.dist>0||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new Pu(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return i&&(o[s]=e.coord),new Ep(o,new th(this.edge._label))},_p.prototype.add=function(t,e,n){var r=new vp(t,e,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},_p.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},_p.prototype.interfaces_=function(){return[]},_p.prototype.getClass=function(){return _p};var mp=function(){};mp.prototype.getChainStartIndices=function(t){var e=0,n=new Il;n.add(new Du(e));do{var r=this.findChainEnd(t,e);n.add(new Du(r)),e=r}while(e<t.length-1);return mp.toIntArray(n)},mp.prototype.findChainEnd=function(t,e){for(var n=ah.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&ah.quadrant(t[r-1],t[r])===n;)r++;return r-1},mp.prototype.interfaces_=function(){return[]},mp.prototype.getClass=function(){return mp},mp.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var bp=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Hu,this.env2=new Hu;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new mp;this.startIndex=e.getChainStartIndices(this.pts)};bp.prototype.getCoordinates=function(){return this.pts},bp.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},bp.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},bp.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4],l=arguments[5],c=this.pts[i],h=this.pts[o],p=s.pts[a],f=s.pts[u];if(o-i==1&&u-a==1)return l.addIntersections(this.e,i,s.e,a),null;if(this.env1.init(c,h),this.env2.init(p,f),!this.env1.intersects(this.env2))return null;var d=Math.trunc((i+o)/2),g=Math.trunc((a+u)/2);i<d&&(a<g&&this.computeIntersectsForChain(i,d,s,a,g,l),g<u&&this.computeIntersectsForChain(i,d,s,g,u,l)),d<o&&(a<g&&this.computeIntersectsForChain(d,o,s,a,g,l),g<u&&this.computeIntersectsForChain(d,o,s,g,u,l))}},bp.prototype.getStartIndexes=function(){return this.startIndex},bp.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},bp.prototype.interfaces_=function(){return[]},bp.prototype.getClass=function(){return bp};var xp=function t(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},wp={NULL_VALUE:{configurable:!0}};xp.prototype.getDepth=function(t,e){return this._depth[t][e]},xp.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},xp.prototype.isNull=function(){var t=this;if(0===arguments.length){for(var e=0;e<2;e++)for(var n=0;n<3;n++)if(t._depth[e][n]!==xp.NULL_VALUE)return!1;return!0}if(1===arguments.length){var r=arguments[0];return this._depth[r][1]===xp.NULL_VALUE}if(2===arguments.length){var i=arguments[0],o=arguments[1];return this._depth[i][o]===xp.NULL_VALUE}},xp.prototype.normalize=function(){for(var t=this,e=0;e<2;e++)if(!t.isNull(e)){var n=t._depth[e][1];t._depth[e][2]<n&&(n=t._depth[e][2]),n<0&&(n=0);for(var r=1;r<3;r++){var i=0;t._depth[e][r]>n&&(i=1),t._depth[e][r]=i}}},xp.prototype.getDelta=function(t){return this._depth[t][$c.RIGHT]-this._depth[t][$c.LEFT]},xp.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?Au.EXTERIOR:Au.INTERIOR},xp.prototype.toString=function(){return\"A: \"+this._depth[0][1]+\",\"+this._depth[0][2]+\" B: \"+this._depth[1][1]+\",\"+this._depth[1][2]},xp.prototype.add=function(){var t=this;if(1===arguments.length)for(var e=arguments[0],n=0;n<2;n++)for(var r=1;r<3;r++){var i=e.getLocation(n,r);i!==Au.EXTERIOR&&i!==Au.INTERIOR||(t.isNull(n,r)?t._depth[n][r]=xp.depthAtLocation(i):t._depth[n][r]+=xp.depthAtLocation(i))}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];a===Au.INTERIOR&&this._depth[o][s]++}},xp.prototype.interfaces_=function(){return[]},xp.prototype.getClass=function(){return xp},xp.depthAtLocation=function(t){return t===Au.EXTERIOR?0:t===Au.INTERIOR?1:xp.NULL_VALUE},wp.NULL_VALUE.get=function(){return-1},Object.defineProperties(xp,wp);var Ep=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new _p(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new xp,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,th.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(n.pts[s])||(r=!1),this.pts[s].equals2D(n.pts[--o])||(i=!1),!r&&!i)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print(\"edge \"+this._name+\": \"),t.print(\"LINESTRING (\");for(var e=0;e<this.pts.length;e++)e>0&&t.print(\",\"),t.print(this.pts[e].x+\" \"+this.pts[e].y);t.print(\")  \"+this._label+\" \"+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print(\"edge \"+this._name+\": \");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+\" \");t.println(\"\")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new bp(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new Hu;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,r){var i=new Pu(t.getIntersection(r)),o=e,s=t.getEdgeDistance(n,r),a=o+1;if(a<this.pts.length){var u=this.pts[a];i.equals2D(u)&&(o=a,s=0)}this.eiList.add(i,o,s)},e.prototype.toString=function(){var t=new ju;t.append(\"edge \"+this._name+\": \"),t.append(\"LINESTRING (\");for(var e=0;e<this.pts.length;e++)e>0&&t.append(\",\"),t.append(this.pts[e].x+\" \"+this.pts[e].y);return t.append(\")  \"+this._label+\" \"+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,$c.ON),e.getLocation(1,$c.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,$c.LEFT),e.getLocation(1,$c.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,$c.RIGHT),e.getLocation(1,$c.RIGHT),2))},e}(ih),Cp=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new dp,this._bufParams=t||null};Cp.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},Cp.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new th(t.getLabel())).flip(),n.merge(r);var i=Cp.depthDelta(r),o=e.getDepthDelta()+i;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(Cp.depthDelta(t.getLabel()))},Cp.prototype.buildSubgraphs=function(t,e){for(var n=new Il,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),s=new np(n).getDepth(o);i.computeDepth(s),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},Cp.prototype.createSubgraphs=function(t){for(var e=new Il,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new Jc;i.create(r),e.add(i)}}return xh.sort(e,xh.reverseOrder()),e},Cp.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Cp.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new qh,n=new al;return n.setPrecisionModel(t),e.setSegmentIntersector(new yp(n)),e},Cp.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new ep(n,this._bufParams),i=new sp(t,e,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new ph(new pp),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new fh(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},Cp.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=i.getData(),a=new Ep(i.getCoordinates(),new th(s));this.insertUniqueEdge(a)}}},Cp.prototype.setNoder=function(t){this._workingNoder=t},Cp.prototype.interfaces_=function(){return[]},Cp.prototype.getClass=function(){return Cp},Cp.depthDelta=function(t){var e=t.getLocation(0,$c.LEFT),n=t.getLocation(0,$c.RIGHT);return e===Au.INTERIOR&&n===Au.EXTERIOR?1:e===Au.EXTERIOR&&n===Au.INTERIOR?-1:0},Cp.convertSegStrings=function(t){for(var e=new Dc,n=new Il;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)};var Sp=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=i,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};Sp.prototype.rescale=function(){var t=this;if(Ru(arguments[0],El))for(var e=arguments[0],n=e.iterator();n.hasNext();){var r=n.next();t.rescale(r.getCoordinates())}else if(arguments[0]instanceof Array){for(var i=arguments[0],o=0;o<i.length;o++)i[o].x=i[o].x/t._scaleFactor+t._offsetX,i[o].y=i[o].y/t._scaleFactor+t._offsetY;2===i.length&&i[0].equals2D(i[1])&&Yu.out.println(i)}},Sp.prototype.scale=function(){var t=this;if(Ru(arguments[0],El)){for(var e=arguments[0],n=new Il,r=e.iterator();r.hasNext();){var i=r.next();n.add(new Fh(t.scale(i.getCoordinates()),i.getData()))}return n}if(arguments[0]instanceof Array){for(var o=arguments[0],s=new Array(o.length).fill(null),a=0;a<o.length;a++)s[a]=new Pu(Math.round((o[a].x-t._offsetX)*t._scaleFactor),Math.round((o[a].y-t._offsetY)*t._scaleFactor),o[a].z);var u=Al.removeRepeatedPoints(s);return u}},Sp.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Sp.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},Sp.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},Sp.prototype.interfaces_=function(){return[zh]},Sp.prototype.getClass=function(){return Sp};var Op=function(){this._li=new al,this._segStrings=null;var t=arguments[0];this._segStrings=t},Pp={fact:{configurable:!0}};Op.prototype.checkEndPtVertexIntersections=function(){var t=this;if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var n=e.next(),r=n.getCoordinates();t.checkEndPtVertexIntersections(r[0],t._segStrings),t.checkEndPtVertexIntersections(r[r.length-1],t._segStrings)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],s=o.iterator();s.hasNext();)for(var a=s.next(),u=a.getCoordinates(),l=1;l<u.length-1;l++)if(u[l].equals(i))throw new nl(\"found endpt/interior pt intersection at index \"+l+\" :pt \"+i)},Op.prototype.checkInteriorIntersections=function(){var t=this;if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();)for(var n=e.next(),r=this._segStrings.iterator();r.hasNext();){var i=r.next();t.checkInteriorIntersections(n,i)}else if(2===arguments.length)for(var o=arguments[0],s=arguments[1],a=o.getCoordinates(),u=s.getCoordinates(),l=0;l<a.length-1;l++)for(var c=0;c<u.length-1;c++)t.checkInteriorIntersections(o,l,s,c);else if(4===arguments.length){var h=arguments[0],p=arguments[1],f=arguments[2],d=arguments[3];if(h===f&&p===d)return null;var g=h.getCoordinates()[p],y=h.getCoordinates()[p+1],v=f.getCoordinates()[d],_=f.getCoordinates()[d+1];if(this._li.computeIntersection(g,y,v,_),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,g,y)||this.hasInteriorIntersection(this._li,v,_)))throw new nl(\"found non-noded intersection at \"+g+\"-\"+y+\" and \"+v+\"-\"+_)}},Op.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},Op.prototype.checkCollapses=function(){var t=this;if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var n=e.next();t.checkCollapses(n)}else if(1===arguments.length)for(var r=arguments[0],i=r.getCoordinates(),o=0;o<i.length-2;o++)t.checkCollapse(i[o],i[o+1],i[o+2])},Op.prototype.hasInteriorIntersection=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1},Op.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new nl(\"found non-noded collapse at \"+Op.fact.createLineString([t,e,n]))},Op.prototype.interfaces_=function(){return[]},Op.prototype.getClass=function(){return Op},Pp.fact.get=function(){return new Dc},Object.defineProperties(Op,Pp);var Ip=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new bu(\"Scale factor must be non-zero\");1!==e&&(this._pt=new Pu(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new Pu,this._p1Scaled=new Pu),this.initCorners(this._pt)},Tp={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Ip.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return il.isTrue(!(s&&a),\"Found bad envelope test\"),a},Ip.prototype.initCorners=function(t){var e=.5;this._minx=t.x-e,this._maxx=t.x+e,this._miny=t.y-e,this._maxy=t.y+e,this._corner[0]=new Pu(this._maxx,this._maxy),this._corner[1]=new Pu(this._minx,this._maxy),this._corner[2]=new Pu(this._minx,this._miny),this._corner[3]=new Pu(this._maxx,this._miny)},Ip.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Ip.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},Ip.prototype.getCoordinate=function(){return this._originalPt},Ip.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},Ip.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=Ip.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Hu(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},Ip.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},Ip.prototype.intersectsToleranceSquare=function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&r||t.equals(this._pt)||e.equals(this._pt)))))},Ip.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},Ip.prototype.interfaces_=function(){return[]},Ip.prototype.getClass=function(){return Ip},Tp.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(Ip,Tp);var Mp=function(){this.tempEnv1=new Hu,this.selectedSegment=new jh};Mp.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},Mp.prototype.interfaces_=function(){return[]},Mp.prototype.getClass=function(){return Mp};var Ap=function(){this._index=null;var t=arguments[0];this._index=t},Lp={HotPixelSnapAction:{configurable:!0}};Ap.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=e.getSafeEnvelope(),o=new Rp(e,n,r);return this._index.query(i,{interfaces_:function(){return[vh]},visitItem:function(t){t.select(i,o)}}),o.isNodeAdded()}},Ap.prototype.interfaces_=function(){return[]},Ap.prototype.getClass=function(){return Ap},Lp.HotPixelSnapAction.get=function(){return Rp},Object.defineProperties(Ap,Lp);var Rp=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[0],n=arguments[1],r=e.getContext();if(null!==this._parentEdge&&r===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(r,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Mp),Np=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new Il};Np.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}},Np.prototype.isDone=function(){return!1},Np.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Np.prototype.interfaces_=function(){return[gp]},Np.prototype.getClass=function(){return Np};var Fp=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new al,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};Fp.prototype.checkCorrectness=function(t){var e=Fh.getNodedSubstrings(t),n=new Op(e);try{n.checkValid()}catch(t){if(!(t instanceof $u))throw t;t.printStackTrace()}},Fp.prototype.getNodedSubstrings=function(){return Fh.getNodedSubstrings(this._nodedSegStrings)},Fp.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},Fp.prototype.findInteriorIntersections=function(t,e){var n=new Np(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},Fp.prototype.computeVertexSnaps=function(){var t=this;if(Ru(arguments[0],El))for(var e=arguments[0],n=e.iterator();n.hasNext();){var r=n.next();t.computeVertexSnaps(r)}else if(arguments[0]instanceof Fh)for(var i=arguments[0],o=i.getCoordinates(),s=0;s<o.length;s++){var a=new Ip(o[s],t._scaleFactor,t._li),u=t._pointSnapper.snap(a,i,s);u&&i.addIntersection(o[s],s)}},Fp.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new qh,this._pointSnapper=new Ap(this._noder.getIndex()),this.snapRound(t,this._li)},Fp.prototype.computeIntersectionSnaps=function(t){for(var e=this,n=t.iterator();n.hasNext();){var r=n.next(),i=new Ip(r,e._scaleFactor,e._li);e._pointSnapper.snap(i)}},Fp.prototype.interfaces_=function(){return[zh]},Fp.prototype.getClass=function(){return Fp};var jp=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new $h,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},Dp={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};jp.prototype.bufferFixedPrecision=function(t){var e=new Sp(new Fp(new Rc(1)),t.getScale()),n=new Cp(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},jp.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=jp.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof Kc))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=jp.precisionScaleFactor(this._argGeom,this._distance,n),i=new Rc(r);this.bufferFixedPrecision(i)}},jp.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Rc.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},jp.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},jp.prototype.bufferOriginalPrecision=function(){try{var t=new Cp(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof nl))throw t;this._saveException=t}},jp.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},jp.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},jp.prototype.interfaces_=function(){return[]},jp.prototype.getClass=function(){return jp},jp.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new jp(t),r=n.getResultGeometry(e);return r}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof fl&&\"number\"==typeof arguments[1]){var i=arguments[0],o=arguments[1],s=arguments[2],a=new jp(i);a.setQuadrantSegments(s);var u=a.getResultGeometry(o);return u}if(arguments[2]instanceof $h&&arguments[0]instanceof fl&&\"number\"==typeof arguments[1]){var l=arguments[0],c=arguments[1],h=arguments[2],p=new jp(l,h),f=p.getResultGeometry(c);return f}}else if(4===arguments.length){var d=arguments[0],g=arguments[1],y=arguments[2],v=arguments[3],_=new jp(d);_.setQuadrantSegments(y),_.setEndCapStyle(v);var m=_.getResultGeometry(g);return m}},jp.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),i=Nu.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},Dp.CAP_ROUND.get=function(){return $h.CAP_ROUND},Dp.CAP_BUTT.get=function(){return $h.CAP_FLAT},Dp.CAP_FLAT.get=function(){return $h.CAP_FLAT},Dp.CAP_SQUARE.get=function(){return $h.CAP_SQUARE},Dp.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(jp,Dp);var kp=function(){this._pt=[new Pu,new Pu],this._distance=xu.NaN,this._isNull=!0};kp.prototype.getCoordinates=function(){return this._pt},kp.prototype.getCoordinate=function(t){return this._pt[t]},kp.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},kp.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},kp.prototype.getDistance=function(){return this._distance},kp.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},kp.prototype.interfaces_=function(){return[]},kp.prototype.getClass=function(){return kp};var Gp=function(){};Gp.prototype.interfaces_=function(){return[]},Gp.prototype.getClass=function(){return Gp},Gp.computeDistance=function(){if(arguments[2]instanceof kp&&arguments[0]instanceof gc&&arguments[1]instanceof Pu)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=t.getCoordinates(),i=new jh,o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var s=i.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof kp&&arguments[0]instanceof mc&&arguments[1]instanceof Pu){var a=arguments[0],u=arguments[1],l=arguments[2];Gp.computeDistance(a.getExteriorRing(),u,l);for(var c=0;c<a.getNumInteriorRing();c++)Gp.computeDistance(a.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof kp&&arguments[0]instanceof fl&&arguments[1]instanceof Pu){var h=arguments[0],p=arguments[1],f=arguments[2];if(h instanceof gc)Gp.computeDistance(h,p,f);else if(h instanceof mc)Gp.computeDistance(h,p,f);else if(h instanceof nc)for(var d=h,g=0;g<d.getNumGeometries();g++){var y=d.getGeometryN(g);Gp.computeDistance(y,p,f)}else f.setMinimum(h.getCoordinate(),p)}else if(arguments[2]instanceof kp&&arguments[0]instanceof jh&&arguments[1]instanceof Pu){var v=arguments[0],_=arguments[1],m=arguments[2],b=v.closestPoint(_);m.setMinimum(b,_)}};var Bp=function(t){this._maxPtDist=new kp,this._inputGeom=t||null},zp={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Bp.prototype.computeMaxMidpointDistance=function(t){var e=new qp(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Bp.prototype.computeMaxVertexDistance=function(t){var e=new Vp(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Bp.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},Bp.prototype.getDistancePoints=function(){return this._maxPtDist},Bp.prototype.interfaces_=function(){return[]},Bp.prototype.getClass=function(){return Bp},zp.MaxPointDistanceFilter.get=function(){return Vp},zp.MaxMidpointDistanceFilter.get=function(){return qp},Object.defineProperties(Bp,zp);var Vp=function(t){this._maxPtDist=new kp,this._minPtDist=new kp,this._geom=t||null};Vp.prototype.filter=function(t){this._minPtDist.initialize(),Gp.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Vp.prototype.getMaxPointDistance=function(){return this._maxPtDist},Vp.prototype.interfaces_=function(){return[yl]},Vp.prototype.getClass=function(){return Vp};var qp=function(t){this._maxPtDist=new kp,this._minPtDist=new kp,this._geom=t||null};qp.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=new Pu((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),Gp.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},qp.prototype.isDone=function(){return!1},qp.prototype.isGeometryChanged=function(){return!1},qp.prototype.getMaxPointDistance=function(){return this._maxPtDist},qp.prototype.interfaces_=function(){return[ec]},qp.prototype.getClass=function(){return qp};var Up=function(t){this._comps=t||null};Up.prototype.filter=function(t){t instanceof mc&&this._comps.add(t)},Up.prototype.interfaces_=function(){return[tc]},Up.prototype.getClass=function(){return Up},Up.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return Up.getPolygons(t,new Il)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof mc?n.add(e):e instanceof nc&&e.apply(new Up(n)),n}};var $p=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};$p.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof xc){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof gc&&this._lines.add(t)},$p.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},$p.prototype.interfaces_=function(){return[pl]},$p.prototype.getClass=function(){return $p},$p.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry($p.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry($p.getLines(e,n))}},$p.getLines=function(){if(1===arguments.length){var t=arguments[0];return $p.getLines(t,!1)}if(2===arguments.length){if(Ru(arguments[0],El)&&Ru(arguments[1],El)){for(var e=arguments[0],n=arguments[1],r=e.iterator();r.hasNext();){var i=r.next();$p.getLines(i,n)}return n}if(arguments[0]instanceof fl&&\"boolean\"==typeof arguments[1]){var o=arguments[0],s=arguments[1],a=new Il;return o.apply(new $p(a,s)),a}if(arguments[0]instanceof fl&&Ru(arguments[1],El)){var u=arguments[0],l=arguments[1];return u instanceof gc?l.add(u):u.apply(new $p(l)),l}}else if(3===arguments.length){if(\"boolean\"==typeof arguments[2]&&Ru(arguments[0],El)&&Ru(arguments[1],El)){for(var c=arguments[0],h=arguments[1],p=arguments[2],f=c.iterator();f.hasNext();){var d=f.next();$p.getLines(d,h,p)}return h}if(\"boolean\"==typeof arguments[2]&&arguments[0]instanceof fl&&Ru(arguments[1],El)){var g=arguments[0],y=arguments[1],v=arguments[2];return g.apply(new $p(y,v)),y}}};var Xp=function(){if(this._boundaryRule=vl.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new bu(\"Rule must be non-null\");this._boundaryRule=t}};Xp.prototype.locateInternal=function(){var t=this;if(arguments[0]instanceof Pu&&arguments[1]instanceof mc){var e=arguments[0],n=arguments[1];if(n.isEmpty())return Au.EXTERIOR;var r=n.getExteriorRing(),i=this.locateInPolygonRing(e,r);if(i===Au.EXTERIOR)return Au.EXTERIOR;if(i===Au.BOUNDARY)return Au.BOUNDARY;for(var o=0;o<n.getNumInteriorRing();o++){var s=n.getInteriorRingN(o),a=t.locateInPolygonRing(e,s);if(a===Au.INTERIOR)return Au.EXTERIOR;if(a===Au.BOUNDARY)return Au.BOUNDARY}return Au.INTERIOR}if(arguments[0]instanceof Pu&&arguments[1]instanceof gc){var u=arguments[0],l=arguments[1];if(!l.getEnvelopeInternal().intersects(u))return Au.EXTERIOR;var c=l.getCoordinates();return l.isClosed()||!u.equals(c[0])&&!u.equals(c[c.length-1])?cl.isOnLine(u,c)?Au.INTERIOR:Au.EXTERIOR:Au.BOUNDARY}if(arguments[0]instanceof Pu&&arguments[1]instanceof vc){var h=arguments[0],p=arguments[1],f=p.getCoordinate();return f.equals2D(h)?Au.INTERIOR:Au.EXTERIOR}},Xp.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?cl.locatePointInRing(t,e.getCoordinates()):Au.EXTERIOR},Xp.prototype.intersects=function(t,e){return this.locate(t,e)!==Au.EXTERIOR},Xp.prototype.updateLocationInfo=function(t){t===Au.INTERIOR&&(this._isIn=!0),t===Au.BOUNDARY&&this._numBoundaries++},Xp.prototype.computeLocation=function(t,e){var n=this;if(e instanceof vc&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof gc)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof mc)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof rc)for(var r=e,i=0;i<r.getNumGeometries();i++){var o=r.getGeometryN(i);n.updateLocationInfo(n.locateInternal(t,o))}else if(e instanceof wc)for(var s=e,a=0;a<s.getNumGeometries();a++){var u=s.getGeometryN(a);n.updateLocationInfo(n.locateInternal(t,u))}else if(e instanceof nc)for(var l=new up(e);l.hasNext();){var c=l.next();c!==e&&n.computeLocation(t,c)}},Xp.prototype.locate=function(t,e){return e.isEmpty()?Au.EXTERIOR:e instanceof gc||e instanceof mc?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?Au.BOUNDARY:this._numBoundaries>0||this._isIn?Au.INTERIOR:Au.EXTERIOR)},Xp.prototype.interfaces_=function(){return[]},Xp.prototype.getClass=function(){return Xp};var Yp=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var e=arguments[0],n=arguments[1];t.call(this,e,t.INSIDE_AREA,n)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._component=r,this._segIndex=i,this._pt=o}},Wp={INSIDE_AREA:{configurable:!0}};Yp.prototype.isInsideArea=function(){return this._segIndex===Yp.INSIDE_AREA},Yp.prototype.getCoordinate=function(){return this._pt},Yp.prototype.getGeometryComponent=function(){return this._component},Yp.prototype.getSegmentIndex=function(){return this._segIndex},Yp.prototype.interfaces_=function(){return[]},Yp.prototype.getClass=function(){return Yp},Wp.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Yp,Wp);var Hp=function(t){this._pts=t||null};Hp.prototype.filter=function(t){t instanceof vc&&this._pts.add(t)},Hp.prototype.interfaces_=function(){return[tc]},Hp.prototype.getClass=function(){return Hp},Hp.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof vc?xh.singletonList(t):Hp.getPoints(t,new Il)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof vc?n.add(e):e instanceof nc&&e.apply(new Hp(n)),n}};var Kp=function(){this._locations=null;var t=arguments[0];this._locations=t};Kp.prototype.filter=function(t){(t instanceof vc||t instanceof gc||t instanceof mc)&&this._locations.add(new Yp(t,0,t.getCoordinate()))},Kp.prototype.interfaces_=function(){return[tc]},Kp.prototype.getClass=function(){return Kp},Kp.getLocations=function(t){var e=new Il;return t.apply(new Kp(e)),e};var Zp=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Xp,this._minDistanceLocation=null,this._minDistance=xu.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=i}};Zp.prototype.computeContainmentDistance=function(){var t=this;if(0===arguments.length){var e=new Array(2).fill(null);if(this.computeContainmentDistance(0,e),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,e)}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=1-n,o=Up.getPolygons(this._geom[n]);if(o.size()>0){var s=Kp.getLocations(this._geom[i]);if(this.computeContainmentDistance(s,o,r),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[i]=r[0],this._minDistanceLocation[n]=r[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Ru(arguments[0],Ol)&&Ru(arguments[1],Ol)){for(var a=arguments[0],u=arguments[1],l=arguments[2],c=0;c<a.size();c++)for(var h=a.get(c),p=0;p<u.size();p++)if(t.computeContainmentDistance(h,u.get(p),l),t._minDistance<=t._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Yp&&arguments[1]instanceof mc){var f=arguments[0],d=arguments[1],g=arguments[2],y=f.getCoordinate();if(Au.EXTERIOR!==this._ptLocator.locate(y,d))return this._minDistance=0,g[0]=f,g[1]=new Yp(d,y),null}},Zp.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var r=this,i=0;i<t.size();i++)for(var o=t.get(i),s=0;s<e.size();s++){var a=e.get(s);if(r.computeMinDistance(o,a,n),r._minDistance<=r._terminateDistance)return null}},Zp.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=$p.getLines(this._geom[0]),n=$p.getLines(this._geom[1]),r=Hp.getPoints(this._geom[0]),i=Hp.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,i,t),void this.updateMinDistance(t,!1))))},Zp.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Zp.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Zp.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Zp.prototype.computeMinDistance=function(){var t=this;if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof gc&&arguments[1]instanceof vc){var e=arguments[0],n=arguments[1],r=arguments[2];if(e.getEnvelopeInternal().distance(n.getEnvelopeInternal())>this._minDistance)return null;for(var i=e.getCoordinates(),o=n.getCoordinate(),s=0;s<i.length-1;s++){var a=cl.distancePointLine(o,i[s],i[s+1]);if(a<t._minDistance){t._minDistance=a;var u=new jh(i[s],i[s+1]),l=u.closestPoint(o);r[0]=new Yp(e,s,l),r[1]=new Yp(n,0,o)}if(t._minDistance<=t._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof gc&&arguments[1]instanceof gc){var c=arguments[0],h=arguments[1],p=arguments[2];if(c.getEnvelopeInternal().distance(h.getEnvelopeInternal())>this._minDistance)return null;for(var f=c.getCoordinates(),d=h.getCoordinates(),g=0;g<f.length-1;g++)for(var y=0;y<d.length-1;y++){var v=cl.distanceLineLine(f[g],f[g+1],d[y],d[y+1]);if(v<t._minDistance){t._minDistance=v;var _=new jh(f[g],f[g+1]),m=new jh(d[y],d[y+1]),b=_.closestPoints(m);p[0]=new Yp(c,g,b[0]),p[1]=new Yp(h,y,b[1])}if(t._minDistance<=t._terminateDistance)return null}}},Zp.prototype.computeMinDistancePoints=function(t,e,n){for(var r=this,i=0;i<t.size();i++)for(var o=t.get(i),s=0;s<e.size();s++){var a=e.get(s),u=o.getCoordinate().distance(a.getCoordinate());if(u<r._minDistance&&(r._minDistance=u,n[0]=new Yp(o,0,o.getCoordinate()),n[1]=new Yp(a,0,a.getCoordinate())),r._minDistance<=r._terminateDistance)return null}},Zp.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new bu(\"null geometries are not supported\");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Zp.prototype.computeMinDistanceLines=function(t,e,n){for(var r=this,i=0;i<t.size();i++)for(var o=t.get(i),s=0;s<e.size();s++){var a=e.get(s);if(r.computeMinDistance(o,a,n),r._minDistance<=r._terminateDistance)return null}},Zp.prototype.interfaces_=function(){return[]},Zp.prototype.getClass=function(){return Zp},Zp.distance=function(t,e){return new Zp(t,e).distance()},Zp.isWithinDistance=function(t,e,n){return new Zp(t,e,n).distance()<=n},Zp.nearestPoints=function(t,e){return new Zp(t,e).nearestPoints()};var Jp=function(){this._pt=[new Pu,new Pu],this._distance=xu.NaN,this._isNull=!0};Jp.prototype.getCoordinates=function(){return this._pt},Jp.prototype.getCoordinate=function(t){return this._pt[t]},Jp.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},Jp.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},Jp.prototype.toString=function(){return el.toLineString(this._pt[0],this._pt[1])},Jp.prototype.getDistance=function(){return this._distance},Jp.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},Jp.prototype.interfaces_=function(){return[]},Jp.prototype.getClass=function(){return Jp};var Qp=function(){};Qp.prototype.interfaces_=function(){return[]},Qp.prototype.getClass=function(){return Qp},Qp.computeDistance=function(){if(arguments[2]instanceof Jp&&arguments[0]instanceof gc&&arguments[1]instanceof Pu)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=new jh,i=t.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var s=r.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof Jp&&arguments[0]instanceof mc&&arguments[1]instanceof Pu){var a=arguments[0],u=arguments[1],l=arguments[2];Qp.computeDistance(a.getExteriorRing(),u,l);for(var c=0;c<a.getNumInteriorRing();c++)Qp.computeDistance(a.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof Jp&&arguments[0]instanceof fl&&arguments[1]instanceof Pu){var h=arguments[0],p=arguments[1],f=arguments[2];if(h instanceof gc)Qp.computeDistance(h,p,f);else if(h instanceof mc)Qp.computeDistance(h,p,f);else if(h instanceof nc)for(var d=h,g=0;g<d.getNumGeometries();g++){var y=d.getGeometryN(g);Qp.computeDistance(y,p,f)}else f.setMinimum(h.getCoordinate(),p)}else if(arguments[2]instanceof Jp&&arguments[0]instanceof jh&&arguments[1]instanceof Pu){var v=arguments[0],_=arguments[1],m=arguments[2],b=v.closestPoint(_);m.setMinimum(b,_)}};var tf=function(){this._g0=null,this._g1=null,this._ptDist=new Jp,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},ef={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};tf.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},tf.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new bu(\"Fraction is not in range (0.0 - 1.0]\");this._densifyFrac=t},tf.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},tf.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},tf.prototype.computeOrientedDistance=function(t,e,n){var r=new nf(e);if(t.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new rf(e,this._densifyFrac);t.apply(i),n.setMaximum(i.getMaxPointDistance())}},tf.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},tf.prototype.interfaces_=function(){return[]},tf.prototype.getClass=function(){return tf},tf.distance=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new tf(t,e);return n.distance()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=new tf(r,i);return s.setDensifyFraction(o),s.distance()}},ef.MaxPointDistanceFilter.get=function(){return nf},ef.MaxDensifiedByFractionDistanceFilter.get=function(){return rf},Object.defineProperties(tf,ef);var nf=function(){this._maxPtDist=new Jp,this._minPtDist=new Jp,this._euclideanDist=new Qp,this._geom=null;var t=arguments[0];this._geom=t};nf.prototype.filter=function(t){this._minPtDist.initialize(),Qp.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},nf.prototype.getMaxPointDistance=function(){return this._maxPtDist},nf.prototype.interfaces_=function(){return[yl]},nf.prototype.getClass=function(){return nf};var rf=function(){this._maxPtDist=new Jp,this._minPtDist=new Jp,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};rf.prototype.filter=function(t,e){var n=this;if(0===e)return null;for(var r=t.getCoordinate(e-1),i=t.getCoordinate(e),o=(i.x-r.x)/this._numSubSegs,s=(i.y-r.y)/this._numSubSegs,a=0;a<this._numSubSegs;a++){var u=r.x+a*o,l=r.y+a*s,c=new Pu(u,l);n._minPtDist.initialize(),Qp.computeDistance(n._geom,c,n._minPtDist),n._maxPtDist.setMaximum(n._minPtDist)}},rf.prototype.isDone=function(){return!1},rf.prototype.isGeometryChanged=function(){return!1},rf.prototype.getMaxPointDistance=function(){return this._maxPtDist},rf.prototype.interfaces_=function(){return[ec]},rf.prototype.getClass=function(){return rf};var of=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},sf={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};of.prototype.checkMaximumDistance=function(t,e,n){var r=new tf(e,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg=\"Distance between buffer curve and input is too large (\"+this._maxDistanceFound+\" at \"+el.toLineString(i[0],i[1])+\")\"}},of.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=of.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),of.VERBOSE&&Yu.out.println(\"Min Dist= \"+this._minDistanceFound+\"  err= \"+(1-this._minDistanceFound/this._bufDistance)+\"  Max Dist= \"+this._maxDistanceFound+\"  err= \"+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},of.prototype.checkNegativeValid=function(){if(!(this._input instanceof mc||this._input instanceof wc||this._input instanceof nc))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},of.prototype.getErrorIndicator=function(){return this._errorIndicator},of.prototype.checkMinimumDistance=function(t,e,n){var r=new Zp(t,e,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg=\"Distance between buffer curve and input is too small (\"+this._minDistanceFound+\" at \"+el.toLineString(i[0],i[1])+\" )\"}},of.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},of.prototype.getErrorLocation=function(){return this._errorLocation},of.prototype.getPolygonLines=function(t){for(var e=new Il,n=new $p(e),r=Up.getPolygons(t).iterator();r.hasNext();)r.next().apply(n);return t.getFactory().buildGeometry(e)},of.prototype.getErrorMessage=function(){return this._errMsg},of.prototype.interfaces_=function(){return[]},of.prototype.getClass=function(){return of},sf.VERBOSE.get=function(){return!1},sf.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(of,sf);var af=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},uf={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};af.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},af.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*af.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new Hu(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new Hu(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg=\"Buffer envelope is incorrect\",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report(\"Envelope\")},af.prototype.checkDistance=function(){var t=new of(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report(\"Distance\")},af.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg=\"Area of positive buffer is smaller than input\",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg=\"Area of negative buffer is larger than input\",this._errorIndicator=this._result),this.report(\"Area\")},af.prototype.checkPolygonal=function(){this._result instanceof mc||this._result instanceof wc||(this._isValid=!1),this._errorMsg=\"Result is not polygonal\",this._errorIndicator=this._result,this.report(\"Polygonal\")},af.prototype.getErrorIndicator=function(){return this._errorIndicator},af.prototype.getErrorLocation=function(){return this._errorLocation},af.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg=\"Result is non-empty\",this._errorIndicator=this._result),void this.report(\"ExpectedEmpty\"))},af.prototype.report=function(t){if(!af.VERBOSE)return null;Yu.out.println(\"Check \"+t+\": \"+(this._isValid?\"passed\":\"FAILED\"))},af.prototype.getErrorMessage=function(){return this._errorMsg},af.prototype.interfaces_=function(){return[]},af.prototype.getClass=function(){return af},af.isValidMsg=function(t,e,n){var r=new af(t,e,n);return r.isValid()?null:r.getErrorMessage()},af.isValid=function(t,e,n){return!!new af(t,e,n).isValid()},uf.VERBOSE.get=function(){return!1},uf.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(af,uf);var lf=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};lf.prototype.getCoordinates=function(){return this._pts},lf.prototype.size=function(){return this._pts.length},lf.prototype.getCoordinate=function(t){return this._pts[t]},lf.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},lf.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Lh.octant(this.getCoordinate(t),this.getCoordinate(t+1))},lf.prototype.setData=function(t){this._data=t},lf.prototype.getData=function(){return this._data},lf.prototype.toString=function(){return el.toLineString(new Ic(this._pts))},lf.prototype.interfaces_=function(){return[Rh]},lf.prototype.getClass=function(){return lf};var cf=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Il,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};cf.prototype.getInteriorIntersection=function(){return this._interiorIntersection},cf.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},cf.prototype.getIntersectionSegments=function(){return this._intSegments},cf.prototype.count=function(){return this._intersectionCount},cf.prototype.getIntersections=function(){return this._intersections},cf.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},cf.prototype.setKeepIntersections=function(t){this._keepIntersections=t},cf.prototype.processIntersections=function(t,e,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},cf.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},cf.prototype.hasIntersection=function(){return null!==this._interiorIntersection},cf.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},cf.prototype.interfaces_=function(){return[gp]},cf.prototype.getClass=function(){return cf},cf.createAllIntersectionsFinder=function(t){var e=new cf(t);return e.setFindAllIntersections(!0),e},cf.createAnyIntersectionFinder=function(t){return new cf(t)},cf.createIntersectionCounter=function(t){var e=new cf(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var hf=function(){this._li=new al,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};hf.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},hf.prototype.getIntersections=function(){return this._segInt.getIntersections()},hf.prototype.isValid=function(){return this.execute(),this._isValid},hf.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},hf.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new cf(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new qh;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},hf.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Kc(this.getErrorMessage(),this._segInt.getInteriorIntersection())},hf.prototype.getErrorMessage=function(){if(this._isValid)return\"no intersections found\";var t=this._segInt.getIntersectionSegments();return\"found non-noded intersection between \"+el.toLineString(t[0],t[1])+\" and \"+el.toLineString(t[2],t[3])},hf.prototype.interfaces_=function(){return[]},hf.prototype.getClass=function(){return hf},hf.computeIntersections=function(t){var e=new hf(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var pf=function t(){this._nv=null;var e=arguments[0];this._nv=new hf(t.toSegmentStrings(e))};pf.prototype.checkValid=function(){this._nv.checkValid()},pf.prototype.interfaces_=function(){return[]},pf.prototype.getClass=function(){return pf},pf.toSegmentStrings=function(t){for(var e=new Il,n=t.iterator();n.hasNext();){var r=n.next();e.add(new lf(r.getCoordinates(),r))}return e},pf.checkValid=function(t){new pf(t).checkValid()};var ff=function(t){this._mapOp=t};ff.prototype.map=function(t){for(var e=new Il,n=0;n<t.getNumGeometries();n++){var r=this._mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(Dc.toGeometryArray(e))},ff.prototype.interfaces_=function(){return[]},ff.prototype.getClass=function(){return ff},ff.map=function(t,e){return new ff(e).map(t)};var df=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Il,this._resultLineList=new Il;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};df.prototype.collectLines=function(t){for(var e=this,n=this._op.getGraph().getEdgeEnds().iterator();n.hasNext();){var r=n.next();e.collectLineEdge(r,t,e._lineEdgesList),e.collectBoundaryTouchEdge(r,t,e._lineEdgesList)}},df.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},df.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},df.prototype.collectLineEdge=function(t,e,n){var r=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Wf.isResultOfOp(r,e)||i.isCovered()||(n.add(i),t.setVisitedEdge(!0)))},df.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},df.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},df.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},df.prototype.collectBoundaryTouchEdge=function(t,e,n){var r=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(il.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Wf.isResultOfOp(r,e)&&e===Wf.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},df.prototype.interfaces_=function(){return[]},df.prototype.getClass=function(){return df};var gf=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Il;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};gf.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},gf.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==Wf.INTERSECTION)){var r=n.getLabel();Wf.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},gf.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},gf.prototype.interfaces_=function(){return[]},gf.prototype.getClass=function(){return gf};var yf=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};yf.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},yf.prototype.transformPolygon=function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof xc&&!r.isEmpty()||(n=!1);for(var i=new Il,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof xc||(n=!1),i.add(s))}if(n)return this._factory.createPolygon(r,i.toArray([]));var a=new Il;return null!==r&&a.add(r),a.addAll(i),this._factory.buildGeometry(a)},yf.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},yf.prototype.getInputGeometry=function(){return this._inputGeom},yf.prototype.transformMultiLineString=function(t,e){for(var n=new Il,r=0;r<t.getNumGeometries();r++){var i=this.transformLineString(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},yf.prototype.transformCoordinates=function(t,e){return this.copy(t)},yf.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},yf.prototype.transformMultiPoint=function(t,e){for(var n=new Il,r=0;r<t.getNumGeometries();r++){var i=this.transformPoint(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},yf.prototype.transformMultiPolygon=function(t,e){for(var n=new Il,r=0;r<t.getNumGeometries();r++){var i=this.transformPolygon(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},yf.prototype.copy=function(t){return t.copy()},yf.prototype.transformGeometryCollection=function(t,e){for(var n=new Il,r=0;r<t.getNumGeometries();r++){var i=this.transform(t.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Dc.toGeometryArray(n)):this._factory.buildGeometry(n)},yf.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof vc)return this.transformPoint(t,null);if(t instanceof bc)return this.transformMultiPoint(t,null);if(t instanceof xc)return this.transformLinearRing(t,null);if(t instanceof gc)return this.transformLineString(t,null);if(t instanceof rc)return this.transformMultiLineString(t,null);if(t instanceof mc)return this.transformPolygon(t,null);if(t instanceof wc)return this.transformMultiPolygon(t,null);if(t instanceof nc)return this.transformGeometryCollection(t,null);throw new bu(\"Unknown Geometry subtype: \"+t.getClass().getName())},yf.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},yf.prototype.interfaces_=function(){return[]},yf.prototype.getClass=function(){return yf};var vf=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new jh,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof gc&&\"number\"==typeof arguments[1]){var e=arguments[0],n=arguments[1];t.call(this,e.getCoordinates(),n)}else if(arguments[0]instanceof Array&&\"number\"==typeof arguments[1]){var r=arguments[0],i=arguments[1];this._srcPts=r,this._isClosed=t.isClosed(r),this._snapTolerance=i}};vf.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var i=t.get(r),o=this.findSnapForVertex(i,e);null!==o&&(t.set(r,new Pu(o)),0===r&&this._isClosed&&t.set(t.size()-1,new Pu(o)))}},vf.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},vf.prototype.snapTo=function(t){var e=new Ml(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},vf.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var i=e[r],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new Pu(i),!1)}},vf.prototype.findSegmentIndexToSnap=function(t,e){for(var n=this,r=xu.MAX_VALUE,i=-1,o=0;o<e.size()-1;o++){if(n._seg.p0=e.get(o),n._seg.p1=e.get(o+1),n._seg.p0.equals2D(t)||n._seg.p1.equals2D(t)){if(n._allowSnappingToSourceVertices)continue;return-1}var s=n._seg.distance(t);s<n._snapTolerance&&s<r&&(r=s,i=o)}return i},vf.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},vf.prototype.interfaces_=function(){return[]},vf.prototype.getClass=function(){return vf},vf.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var _f=function(t){this._srcGeom=t||null},mf={SNAP_PRECISION_FACTOR:{configurable:!0}};_f.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new bf(e,n).transform(this._srcGeom)},_f.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),r=new bf(t,n,!0).transform(this._srcGeom),i=r;return e&&Ru(i,_c)&&(i=r.buffer(0)),i},_f.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},_f.prototype.extractTargetCoordinates=function(t){for(var e=new Hl,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},_f.prototype.computeMinimumSegmentLength=function(t){for(var e=xu.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<e&&(e=r)}return e},_f.prototype.interfaces_=function(){return[]},_f.prototype.getClass=function(){return _f},_f.snap=function(t,e,n){var r=new Array(2).fill(null),i=new _f(t);r[0]=i.snapTo(e,n);var o=new _f(e);return r[1]=o.snapTo(r[0],n),r},_f.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=_f.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===Rc.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min(_f.computeOverlaySnapTolerance(i),_f.computeOverlaySnapTolerance(o))}},_f.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*_f.SNAP_PRECISION_FACTOR},_f.snapToSelf=function(t,e,n){return new _f(t).snapToSelf(e,n)},mf.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(_f,mf);var bf=function(t){function e(e,n,r){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new vf(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(yf),xf=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};xf.prototype.getCommon=function(){return xu.longBitsToDouble(this._commonBits)},xf.prototype.add=function(t){var e=xu.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=xf.signExpBits(this._commonBits),this._isFirst=!1,null):xf.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=xf.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=xf.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},xf.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=xu.longBitsToDouble(t),n=xu.toBinaryString(t),r=\"0000000000000000000000000000000000000000000000000000000000000000\"+n,i=r.substring(r.length-64),o=i.substring(0,1)+\"  \"+i.substring(1,12)+\"(exp) \"+i.substring(12)+\" [ \"+e+\" ]\";return o}},xf.prototype.interfaces_=function(){return[]},xf.prototype.getClass=function(){return xf},xf.getBit=function(t,e){return 0!=(t&1<<e)?1:0},xf.signExpBits=function(t){return t>>52},xf.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},xf.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if(xf.getBit(t,r)!==xf.getBit(e,r))return n;n++}return 52};var wf=function(){this._commonCoord=null,this._ccFilter=new Cf},Ef={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};wf.prototype.addCommonBits=function(t){var e=new Sf(this._commonCoord);t.apply(e),t.geometryChanged()},wf.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new Pu(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new Sf(e);return t.apply(n),t.geometryChanged(),t},wf.prototype.getCommonCoordinate=function(){return this._commonCoord},wf.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},wf.prototype.interfaces_=function(){return[]},wf.prototype.getClass=function(){return wf},Ef.CommonCoordinateFilter.get=function(){return Cf},Ef.Translater.get=function(){return Sf},Object.defineProperties(wf,Ef);var Cf=function(){this._commonBitsX=new xf,this._commonBitsY=new xf};Cf.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},Cf.prototype.getCommonCoordinate=function(){return new Pu(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Cf.prototype.interfaces_=function(){return[yl]},Cf.prototype.getClass=function(){return Cf};var Sf=function(){this.trans=null;var t=arguments[0];this.trans=t};Sf.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},Sf.prototype.isDone=function(){return!1},Sf.prototype.isGeometryChanged=function(){return!0},Sf.prototype.interfaces_=function(){return[ec]},Sf.prototype.getClass=function(){return Sf};var Of=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};Of.prototype.selfSnap=function(t){return new _f(t).snapTo(t,this._snapTolerance)},Of.prototype.removeCommonBits=function(t){this._cbr=new wf,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},Of.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},Of.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=Wf.overlayOp(e[0],e[1],t);return this.prepareResult(n)},Of.prototype.checkValid=function(t){t.isValid()||Yu.out.println(\"Snapped geometry is invalid\")},Of.prototype.computeSnapTolerance=function(){this._snapTolerance=_f.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Of.prototype.snap=function(t){var e=this.removeCommonBits(t);return _f.snap(e[0],e[1],this._snapTolerance)},Of.prototype.interfaces_=function(){return[]},Of.prototype.getClass=function(){return Of},Of.overlayOp=function(t,e,n){return new Of(t,e).getResultGeometry(n)},Of.union=function(t,e){return Of.overlayOp(t,e,Wf.UNION)},Of.intersection=function(t,e){return Of.overlayOp(t,e,Wf.INTERSECTION)},Of.symDifference=function(t,e){return Of.overlayOp(t,e,Wf.SYMDIFFERENCE)},Of.difference=function(t,e){return Of.overlayOp(t,e,Wf.DIFFERENCE)};var Pf=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};Pf.prototype.getResultGeometry=function(t){var e=null,n=!1,r=null;try{e=Wf.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof nl))throw t;r=t}if(!n)try{e=Of.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof nl?r:t}return e},Pf.prototype.interfaces_=function(){return[]},Pf.prototype.getClass=function(){return Pf},Pf.overlayOp=function(t,e,n){return new Pf(t,e).getResultGeometry(n)},Pf.union=function(t,e){return Pf.overlayOp(t,e,Wf.UNION)},Pf.intersection=function(t,e){return Pf.overlayOp(t,e,Wf.INTERSECTION)},Pf.symDifference=function(t,e){return Pf.overlayOp(t,e,Wf.SYMDIFFERENCE)},Pf.difference=function(t,e){return Pf.overlayOp(t,e,Wf.DIFFERENCE)};var If=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};If.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},If.prototype.interfaces_=function(){return[]},If.prototype.getClass=function(){return If};var Tf=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=r,this._xValue=i,this._obj=o}},Mf={INSERT:{configurable:!0},DELETE:{configurable:!0}};Tf.prototype.isDelete=function(){return this._eventType===Tf.DELETE},Tf.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},Tf.prototype.getObject=function(){return this._obj},Tf.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},Tf.prototype.getInsertEvent=function(){return this._insertEvent},Tf.prototype.isInsert=function(){return this._eventType===Tf.INSERT},Tf.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},Tf.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Tf.prototype.interfaces_=function(){return[Eu]},Tf.prototype.getClass=function(){return Tf},Mf.INSERT.get=function(){return 1},Mf.DELETE.get=function(){return 2},Object.defineProperties(Tf,Mf);var Af=function(){};Af.prototype.interfaces_=function(){return[]},Af.prototype.getClass=function(){return Af};var Lf=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};Lf.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Lf.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},Lf.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Lf.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},Lf.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Lf.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},Lf.prototype.hasProperIntersection=function(){return this._hasProper},Lf.prototype.hasIntersection=function(){return this._hasIntersection},Lf.prototype.isDone=function(){return this._isDone},Lf.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},Lf.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},Lf.prototype.addIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},Lf.prototype.interfaces_=function(){return[]},Lf.prototype.getClass=function(){return Lf},Lf.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Rf=function(t){function e(){t.call(this),this.events=new Il,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){xh.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){var t=this;if(1===arguments.length){var e=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var n=0;n<this.events.size();n++){var r=t.events.get(n);if(r.isInsert()&&t.processOverlaps(n,r.getDeleteEventIndex(),r,e),e.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Lf&&Ru(arguments[0],Ol)&&Ru(arguments[1],Ol)){var i=arguments[0],o=arguments[1],s=arguments[2];this.addEdges(i,i),this.addEdges(o,o),this.computeIntersections(s)}else if(\"boolean\"==typeof arguments[2]&&Ru(arguments[0],Ol)&&arguments[1]instanceof Lf){var a=arguments[0],u=arguments[1],l=arguments[2];l?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(u)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new If(n,i),s=new Tf(e,n.getMinX(i),o);this.events.add(s),this.events.add(new Tf(n.getMaxX(i),s))}},e.prototype.processOverlaps=function(t,e,n,r){for(var i=n.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(i.computeIntersections(a,r),this.nOverlaps++)}}},e.prototype.addEdges=function(){var t=this;if(1===arguments.length)for(var e=arguments[0],n=e.iterator();n.hasNext();){var r=n.next();t.addEdge(r,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],s=i.iterator();s.hasNext();){var a=s.next();t.addEdge(a,o)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Af),Nf=function(){this._min=xu.POSITIVE_INFINITY,this._max=xu.NEGATIVE_INFINITY},Ff={NodeComparator:{configurable:!0}};Nf.prototype.getMin=function(){return this._min},Nf.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},Nf.prototype.getMax=function(){return this._max},Nf.prototype.toString=function(){return el.toLineString(new Pu(this._min,0),new Pu(this._max,0))},Nf.prototype.interfaces_=function(){return[]},Nf.prototype.getClass=function(){return Nf},Ff.NodeComparator.get=function(){return jf},Object.defineProperties(Nf,Ff);var jf=function(){};jf.prototype.compare=function(t,e){var n=t,r=e,i=(n._min+n._max)/2,o=(r._min+r._max)/2;return i<o?-1:i>o?1:0},jf.prototype.interfaces_=function(){return[Su]},jf.prototype.getClass=function(){return jf};var Df=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],r=arguments[2];this._min=e,this._max=n,this._item=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Nf),kf=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Nf),Gf=function(){this._leaves=new Il,this._root=null,this._level=0};Gf.prototype.buildTree=function(){xh.sort(this._leaves,new Nf.NodeComparator);for(var t=this._leaves,e=null,n=new Il;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},Gf.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error(\"Index cannot be added to once it has been queried\");this._leaves.add(new Df(t,e,n))},Gf.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},Gf.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Gf.prototype.printNode=function(t){Yu.out.println(el.toLineString(new Pu(t._min,this._level),new Pu(t._max,this._level)))},Gf.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Gf.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var i=new kf(t.get(n),t.get(n+1));e.add(i)}}},Gf.prototype.interfaces_=function(){return[]},Gf.prototype.getClass=function(){return Gf};var Bf=function(){this._items=new Il};Bf.prototype.visitItem=function(t){this._items.add(t)},Bf.prototype.getItems=function(){return this._items},Bf.prototype.interfaces_=function(){return[vh]},Bf.prototype.getClass=function(){return Bf};var zf=function(){this._index=null;var t=arguments[0];if(!Ru(t,_c))throw new bu(\"Argument must be Polygonal\");this._index=new Uf(t)},Vf={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};zf.prototype.locate=function(t){var e=new ll(t),n=new qf(e);return this._index.query(t.y,t.y,n),e.getLocation()},zf.prototype.interfaces_=function(){return[ap]},zf.prototype.getClass=function(){return zf},Vf.SegmentVisitor.get=function(){return qf},Vf.IntervalIndexedGeometry.get=function(){return Uf},Object.defineProperties(zf,Vf);var qf=function(){this._counter=null;var t=arguments[0];this._counter=t};qf.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},qf.prototype.interfaces_=function(){return[vh]},qf.prototype.getClass=function(){return qf};var Uf=function(){this._index=new Gf;var t=arguments[0];this.init(t)};Uf.prototype.init=function(t){for(var e=$p.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},Uf.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new jh(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},Uf.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Bf;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._index.query(r,i,o)}},Uf.prototype.interfaces_=function(){return[]},Uf.prototype.getClass=function(){return Uf};var $f=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new Lc,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Xp,2===arguments.length){var e=arguments[0],n=arguments[1],r=vl.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this._argIndex=i,this._parentGeom=o,this._boundaryNodeRule=s,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var r=this._nodes.addNode(n).getLabel(),i=1;r.getLocation(t,$c.ON)===Au.BOUNDARY&&i++;var o=e.determineBoundary(this._boundaryNodeRule,i);r.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new Lf(n,!0,!1);o.setIsDoneIfProperInt(i);var s=this.createEdgeSetIntersector(),a=this._parentGeom instanceof xc||this._parentGeom instanceof mc||this._parentGeom instanceof wc,u=r||!a;return s.computeIntersections(this._edges,o,u),this.addSelfIntersectionNodes(this._argIndex),o}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var r=new Lf(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,r),r},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof vc){var t=arguments[0],e=t.getCoordinate();this.insertPoint(this._argIndex,e,Au.INTERIOR)}else if(arguments[0]instanceof Pu){var n=arguments[0];this.insertPoint(this._argIndex,n,Au.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),Au.EXTERIOR,Au.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,Au.INTERIOR,Au.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],Au.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],Au.BOUNDARY)},e.prototype.addLineString=function(t){var e=Al.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new Ep(e,new th(this._argIndex,Au.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),il.isTrue(e.length>=2,\"found LineString with single point\"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var i=r.next();e[n++]=i.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===Au.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var r=Al.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=e,o=n;cl.isCCW(r)&&(i=n,o=e);var s=new Ep(r,new th(this._argIndex,Au.BOUNDARY,i,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,r[0],Au.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var r=this._nodes.addNode(e),i=r.getLabel();null===i?r._label=new th(t,n):i.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new Rf},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,r)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof wc&&(this._useBoundaryDeterminationRule=!1),e instanceof mc)this.addPolygon(e);else if(e instanceof gc)this.addLineString(e);else if(e instanceof vc)this.addPoint(e);else if(e instanceof bc)this.addCollection(e);else if(e instanceof rc)this.addCollection(e);else if(e instanceof wc)this.addCollection(e);else{if(!(e instanceof nc))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return Ru(this._parentGeom,_c)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new zf(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?Au.BOUNDARY:Au.INTERIOR},e}(ph),Xf=function(){if(this._li=new al,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new $f(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=vl.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new $f(0,e,r),this._arg[1]=new $f(1,n,r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new $f(0,i,s),this._arg[1]=new $f(1,o,s)}};Xf.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},Xf.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},Xf.prototype.interfaces_=function(){return[]},Xf.prototype.getClass=function(){return Xf};var Yf=function(){};Yf.prototype.interfaces_=function(){return[]},Yf.prototype.getClass=function(){return Yf},Yf.map=function(){if(arguments[0]instanceof fl&&Ru(arguments[1],Yf.MapOp)){for(var t=arguments[0],e=arguments[1],n=new Il,r=0;r<t.getNumGeometries();r++){var i=e.map(t.getGeometryN(r));null!==i&&n.add(i)}return t.getFactory().buildGeometry(n)}if(Ru(arguments[0],El)&&Ru(arguments[1],Yf.MapOp)){for(var o=arguments[0],s=arguments[1],a=new Il,u=o.iterator();u.hasNext();){var l=u.next(),c=s.map(l);null!==c&&a.add(c)}return a}},Yf.MapOp=function(){};var Wf=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new Xp,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new dp,this._resultPolyList=new Il,this._resultLineList=new Il,this._resultPointList=new Il,this._graph=new ph(new pp),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new th(t.getLabel())).flip();var i=e.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,r,i){var o=new Il;return o.addAll(t),o.addAll(n),o.addAll(r),o.isEmpty()?e.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(t,r)!==Au.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new Il,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new Il;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),pf.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new fh(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new df(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(t);var i=new gf(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&e.isResultOfOp(i.getLocation(0,$c.RIGHT),i.getLocation(1,$c.RIGHT),t)&&r.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(il.isTrue(!r.isNull(i,$c.LEFT),\"depth of LEFT side has not been initialized\"),n.setLocation(i,$c.LEFT,r.getLocation(i,$c.LEFT)),il.isTrue(!r.isNull(i,$c.RIGHT),\"depth of RIGHT side has not been initialized\"),n.setLocation(i,$c.RIGHT,r.getLocation(i,$c.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Xf);Wf.overlayOp=function(t,e,n){return new Wf(t,e).getResultGeometry(n)},Wf.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Wf.createEmptyResult(Wf.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return ff.map(t,{interfaces_:function(){return[Yf.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Pf.overlayOp(t,e,Wf.INTERSECTION)},Wf.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Wf.createEmptyResult(Wf.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Pf.overlayOp(t,e,Wf.SYMDIFFERENCE)},Wf.resultDimension=function(t,e,n){var r=e.getDimension(),i=n.getDimension(),o=-1;switch(t){case Wf.INTERSECTION:o=Math.min(r,i);break;case Wf.UNION:o=Math.max(r,i);break;case Wf.DIFFERENCE:o=r;break;case Wf.SYMDIFFERENCE:o=Math.max(r,i)}return o},Wf.createEmptyResult=function(t,e,n,r){var i=null;switch(Wf.resultDimension(t,e,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},Wf.difference=function(t,e){return t.isEmpty()?Wf.createEmptyResult(Wf.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Pf.overlayOp(t,e,Wf.DIFFERENCE))},Wf.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return Wf.isResultOfOp(n,r,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];switch(i===Au.BOUNDARY&&(i=Au.INTERIOR),o===Au.BOUNDARY&&(o=Au.INTERIOR),s){case Wf.INTERSECTION:return i===Au.INTERIOR&&o===Au.INTERIOR;case Wf.UNION:return i===Au.INTERIOR||o===Au.INTERIOR;case Wf.DIFFERENCE:return i===Au.INTERIOR&&o!==Au.INTERIOR;case Wf.SYMDIFFERENCE:return i===Au.INTERIOR&&o!==Au.INTERIOR||i!==Au.INTERIOR&&o===Au.INTERIOR}return!1}},Wf.INTERSECTION=1,Wf.UNION=2,Wf.DIFFERENCE=3,Wf.SYMDIFFERENCE=4;var Hf=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Xp,this._seg=new jh;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};Hf.prototype.isWithinToleranceOfBoundary=function(t){for(var e=this,n=0;n<this._linework.getNumGeometries();n++)for(var r=e._linework.getGeometryN(n).getCoordinateSequence(),i=0;i<r.size()-1;i++)if(r.getCoordinate(i,e._seg.p0),r.getCoordinate(i+1,e._seg.p1),e._seg.distance(t)<=e._boundaryDistanceTolerance)return!0;return!1},Hf.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?Au.BOUNDARY:this._ptLocator.locate(t,this._g)},Hf.prototype.extractLinework=function(t){var e=new Kf;t.apply(e);var n=e.getLinework(),r=Dc.toLineStringArray(n);return t.getFactory().createMultiLineString(r)},Hf.prototype.interfaces_=function(){return[]},Hf.prototype.getClass=function(){return Hf};var Kf=function(){this._linework=null,this._linework=new Il};Kf.prototype.getLinework=function(){return this._linework},Kf.prototype.filter=function(t){if(t instanceof mc){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},Kf.prototype.interfaces_=function(){return[tc]},Kf.prototype.getClass=function(){return Kf};var Zf=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Zf.prototype.extractPoints=function(t,e,n){for(var r=t.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],e,n)},Zf.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Zf.prototype.getPoints=function(t){for(var e=new Il,n=$p.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,t,e)}return e},Zf.prototype.computeOffsetPoints=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,s=Math.sqrt(i*i+o*o),a=n*i/s,u=n*o/s,l=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var h=new Pu(l-u,c+a);r.add(h)}if(this._doRight){var p=new Pu(l+u,c-a);r.add(p)}},Zf.prototype.interfaces_=function(){return[]},Zf.prototype.getClass=function(){return Zf};var Jf=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new Il;var e=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,r],this._locFinder=[new Hf(this._geom[0],this._boundaryDistanceTolerance),new Hf(this._geom[1],this._boundaryDistanceTolerance),new Hf(this._geom[2],this._boundaryDistanceTolerance)]},Qf={TOLERANCE:{configurable:!0}};Jf.prototype.reportResult=function(t,e,n){Yu.out.println(\"Overlay result invalid - A:\"+Au.toLocationSymbol(e[0])+\" B:\"+Au.toLocationSymbol(e[1])+\" expected:\"+(n?\"i\":\"e\")+\" actual:\"+Au.toLocationSymbol(e[2]))},Jf.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},Jf.prototype.checkValid=function(){var t=this;if(1===arguments.length){for(var e=arguments[0],n=0;n<this._testCoords.size();n++){var r=t._testCoords.get(n);if(!t.checkValid(e,r))return t._invalidLocation=r,!1}return!0}if(2===arguments.length){var i=arguments[0],o=arguments[1];return this._location[0]=this._locFinder[0].getLocation(o),this._location[1]=this._locFinder[1].getLocation(o),this._location[2]=this._locFinder[2].getLocation(o),!!Jf.hasLocation(this._location,Au.BOUNDARY)||this.isValidResult(i,this._location)}},Jf.prototype.addTestPts=function(t){var e=new Zf(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Jf.prototype.isValidResult=function(t,e){var n=Wf.isResultOfOp(e[0],e[1],t),r=!(n^e[2]===Au.INTERIOR);return r||this.reportResult(t,e,n),r},Jf.prototype.getInvalidLocation=function(){return this._invalidLocation},Jf.prototype.interfaces_=function(){return[]},Jf.prototype.getClass=function(){return Jf},Jf.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},Jf.computeBoundaryDistanceTolerance=function(t,e){return Math.min(_f.computeSizeBasedSnapTolerance(t),_f.computeSizeBasedSnapTolerance(e))},Jf.isValid=function(t,e,n,r){return new Jf(t,e,r).isValid(n)},Qf.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Jf,Qf);var td=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};td.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this._skipEmpty&&r.isEmpty()||e.add(r)}},td.prototype.combine=function(){for(var t=new Il,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},td.prototype.interfaces_=function(){return[]},td.prototype.getClass=function(){return td},td.combine=function(){if(1===arguments.length){var t=arguments[0],e=new td(t);return e.combine()}if(2===arguments.length){var n=arguments[0],r=arguments[1],i=new td(td.createList(n,r));return i.combine()}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=new td(td.createList(o,s,a));return u.combine()}},td.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},td.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Il;return n.add(t),n.add(e),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=new Il;return s.add(r),s.add(i),s.add(o),s}};var ed=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new Il)},nd={STRTREE_NODE_CAPACITY:{configurable:!0}};ed.prototype.reduceToGeometries=function(t){for(var e=new Il,n=t.iterator();n.hasNext();){var r=n.next(),i=null;Ru(r,Ol)?i=this.unionTree(r):r instanceof fl&&(i=r),e.add(i)}return e},ed.prototype.extractByEnvelope=function(t,e,n){for(var r=new Il,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},ed.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return td.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,i)},ed.prototype.union=function(){if(null===this._inputPolys)throw new Error(\"union() method cannot be called twice\");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new Ph(ed.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},ed.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=ed.getGeometry(e,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(ed.getGeometry(e,n),ed.getGeometry(e,n+1));var o=Math.trunc((r+n)/2),s=this.binaryUnion(e,n,o),a=this.binaryUnion(e,o,r);return this.unionSafe(s,a)}},ed.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},ed.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},ed.prototype.unionActual=function(t,e){return ed.restrictToPolygons(t.union(e))},ed.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},ed.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var r=new Il,i=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),s=this.unionActual(i,o);return r.add(s),td.combine(r)},ed.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0],e=t.get(0).getFactory(),n=e.buildGeometry(t),r=n.buffer(0);return r}if(2===arguments.length){var i=arguments[0],o=arguments[1],s=i.getFactory(),a=s.createGeometryCollection([i,o]),u=a.buffer(0);return u}},ed.prototype.interfaces_=function(){return[]},ed.prototype.getClass=function(){return ed},ed.restrictToPolygons=function(t){if(Ru(t,_c))return t;var e=Up.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(Dc.toPolygonArray(e))},ed.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},ed.union=function(t){return new ed(t).union()},nd.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(ed,nd);var rd=function(){};function id(){return new od}function od(){this.reset()}rd.prototype.interfaces_=function(){return[]},rd.prototype.getClass=function(){return rd},rd.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Wf.createEmptyResult(Wf.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Pf.overlayOp(t,e,Wf.UNION)},od.prototype={constructor:od,reset:function(){this.s=this.t=0},add:function(t){ad(sd,t,this.t),ad(this,sd.s,this.s),this.s?this.t+=sd.t:this.s=sd.t},valueOf:function(){return this.s}};var sd=new od;function ad(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var ud=1e-6,ld=Math.PI,cd=ld/2,hd=ld/4,pd=2*ld,fd=180/ld,dd=ld/180,gd=Math.abs,yd=Math.atan,vd=Math.atan2,_d=Math.cos,md=Math.sin,bd=Math.sqrt;function xd(t){return t>1?0:t<-1?ld:Math.acos(t)}function wd(t){return t>1?cd:t<-1?-cd:Math.asin(t)}function Ed(){}function Cd(t,e){t&&Id.hasOwnProperty(t.type)&&Id[t.type](t,e)}var Sd,Od,Pd={Feature:function(t,e){Cd(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Cd(n[r].geometry,e)}},Id={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Td(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Td(n[r],e,0)},Polygon:function(t,e){Md(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Md(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Cd(n[r],e)}};function Td(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Md(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Td(t[n],e,1);e.polygonEnd()}function Ad(t){return[vd(t[1],t[0]),wd(t[2])]}function Ld(t){var e=t[0],n=t[1],r=_d(n);return[r*_d(e),r*md(e),md(n)]}function Rd(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Nd(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Fd(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function jd(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Dd(t){var e=bd(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function kd(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Gd(t,e){return[t>ld?t-pd:t<-ld?t+pd:t,e]}function Bd(t){return function(e,n){return[(e+=t)>ld?e-pd:e<-ld?e+pd:e,n]}}function zd(t){var e=Bd(t);return e.invert=Bd(-t),e}function Vd(t,e){var n=_d(t),r=md(t),i=_d(e),o=md(e);function s(t,e){var s=_d(e),a=_d(t)*s,u=md(t)*s,l=md(e),c=l*n+a*r;return[vd(u*i-c*o,a*n-l*r),wd(c*i+u*o)]}return s.invert=function(t,e){var s=_d(e),a=_d(t)*s,u=md(t)*s,l=md(e),c=l*i-u*o;return[vd(u*i+l*o,a*n+c*r),wd(c*n-a*r)]},s}function qd(t,e){(e=Ld(e))[0]-=t,Dd(e);var n=xd(-e[1]);return((-e[2]<0?-n:n)+pd-ud)%pd}function Ud(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Ed,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function $d(t,e){return gd(t[0]-e[0])<ud&&gd(t[1]-e[1])<ud}function Xd(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Yd(t,e,n,r,i){var o,s,a=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],s=t[e];if($d(r,s)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else a.push(n=new Xd(r,t,null,!0)),u.push(n.o=new Xd(r,null,n,!1)),a.push(n=new Xd(s,t,null,!1)),u.push(n.o=new Xd(s,null,n,!0))}})),a.length){for(u.sort(e),Wd(a),Wd(u),o=0,s=u.length;o<s;++o)u[o].e=n=!n;for(var l,c,h=a[0];;){for(var p=h,f=!0;p.v;)if((p=p.n)===h)return;l=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(o=0,s=l.length;o<s;++o)i.point((c=l[o])[0],c[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(f)for(l=p.p.z,o=l.length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(p.x,p.p.x,-1,i);p=p.p}l=(p=p.o).z,f=!f}while(!p.v);i.lineEnd()}}}function Wd(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Hd(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Kd(t){for(var e,n,r,i=t.length,o=-1,s=0;++o<i;)s+=t[o].length;for(n=new Array(s);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--s]=r[e];return n}id(),id(),id(),Gd.invert=Gd,1===(Sd=Hd).length&&(Od=Sd,Sd=function(t,e){return Hd(Od(t),e)});var Zd=1e9,Jd=-Zd;function Qd(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,a,l){var c=0,h=0;if(null==i||(c=s(i,a))!==(h=s(o,a))||u(i,o)<0^a>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+a+4)%4)!==h);else l.point(o[0],o[1])}function s(r,i){return gd(r[0]-t)<ud?i>0?0:3:gd(r[0]-n)<ud?i>0?2:1:gd(r[1]-e)<ud?i>0?1:0:i>0?3:2}function a(t,e){return u(t.x,e.x)}function u(t,e){var n=s(t,1),r=s(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){var u,l,c,h,p,f,d,g,y,v,_,m=s,b=Ud(),x={point:w,lineStart:function(){x.point=E,l&&l.push(c=[]),v=!0,y=!1,d=g=NaN},lineEnd:function(){u&&(E(h,p),f&&y&&b.rejoin(),u.push(b.result())),x.point=w,y&&m.lineEnd()},polygonStart:function(){m=b,u=[],l=[],_=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=l.length;n<i;++n)for(var o,s,a=l[n],u=1,c=a.length,h=a[0],p=h[0],f=h[1];u<c;++u)o=p,s=f,p=(h=a[u])[0],f=h[1],s<=r?f>r&&(p-o)*(r-s)>(f-s)*(t-o)&&++e:f<=r&&(p-o)*(r-s)<(f-s)*(t-o)&&--e;return e}(),n=_&&e,i=(u=Kd(u)).length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),i&&Yd(u,a,e,o,s),s.polygonEnd()),m=s,u=l=c=null}};function w(t,e){i(t,e)&&m.point(t,e)}function E(o,s){var a=i(o,s);if(l&&c.push([o,s]),v)h=o,p=s,f=a,v=!1,a&&(m.lineStart(),m.point(o,s));else if(a&&y)m.point(o,s);else{var u=[d=Math.max(Jd,Math.min(Zd,d)),g=Math.max(Jd,Math.min(Zd,g))],b=[o=Math.max(Jd,Math.min(Zd,o)),s=Math.max(Jd,Math.min(Zd,s))];!function(t,e,n,r,i,o){var s,a=t[0],u=t[1],l=0,c=1,h=e[0]-a,p=e[1]-u;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<l)return;s<c&&(c=s)}else if(h>0){if(s>c)return;s>l&&(l=s)}if(s=i-a,h||!(s<0)){if(s/=h,h<0){if(s>c)return;s>l&&(l=s)}else if(h>0){if(s<l)return;s<c&&(c=s)}if(s=r-u,p||!(s>0)){if(s/=p,p<0){if(s<l)return;s<c&&(c=s)}else if(p>0){if(s>c)return;s>l&&(l=s)}if(s=o-u,p||!(s<0)){if(s/=p,p<0){if(s>c)return;s>l&&(l=s)}else if(p>0){if(s<l)return;s<c&&(c=s)}return l>0&&(t[0]=a+l*h,t[1]=u+l*p),c<1&&(e[0]=a+c*h,e[1]=u+c*p),!0}}}}}(u,b,t,e,n,r)?a&&(m.lineStart(),m.point(o,s),_=!1):(y||(m.lineStart(),m.point(u[0],u[1])),m.point(b[0],b[1]),a||m.lineEnd(),_=!1)}d=o,g=s,y=a}return x}}var tg=id();function eg(t){return t}id(),id(),id();var ng=1/0,rg=ng,ig=-ng,og=ig,sg={point:function(t,e){t<ng&&(ng=t),t>ig&&(ig=t),e<rg&&(rg=e),e>og&&(og=e)},lineStart:Ed,lineEnd:Ed,polygonStart:Ed,polygonEnd:Ed,result:function(){var t=[[ng,rg],[ig,og]];return ig=og=-(rg=ng=1/0),t}};function ag(t,e,n,r){return function(i,o){var s,a,u,l=e(o),c=i.invert(r[0],r[1]),h=Ud(),p=e(h),f=!1,d={point:g,lineStart:v,lineEnd:_,polygonStart:function(){d.point=m,d.lineStart=b,d.lineEnd=x,a=[],s=[]},polygonEnd:function(){d.point=g,d.lineStart=v,d.lineEnd=_,a=Kd(a);var t=function(t,e){var n=e[0],r=e[1],i=[md(n),-_d(n),0],o=0,s=0;tg.reset();for(var a=0,u=t.length;a<u;++a)if(c=(l=t[a]).length)for(var l,c,h=l[c-1],p=h[0],f=h[1]/2+hd,d=md(f),g=_d(f),y=0;y<c;++y,p=_,d=b,g=x,h=v){var v=l[y],_=v[0],m=v[1]/2+hd,b=md(m),x=_d(m),w=_-p,E=w>=0?1:-1,C=E*w,S=C>ld,O=d*b;if(tg.add(vd(O*E*md(C),g*x+O*_d(C))),o+=S?w+E*pd:w,S^p>=n^_>=n){var P=Nd(Ld(h),Ld(v));Dd(P);var I=Nd(i,P);Dd(I);var T=(S^w>=0?-1:1)*wd(I[2]);(r>T||r===T&&(P[0]||P[1]))&&(s+=S^w>=0?1:-1)}}return(o<-1e-6||o<ud&&tg<-1e-6)^1&s}(s,c);a.length?(f||(o.polygonStart(),f=!0),Yd(a,lg,t,n,o)):t&&(f||(o.polygonStart(),f=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),f&&(o.polygonEnd(),f=!1),a=s=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function g(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function y(t,e){var n=i(t,e);l.point(n[0],n[1])}function v(){d.point=y,l.lineStart()}function _(){d.point=g,l.lineEnd()}function m(t,e){u.push([t,e]);var n=i(t,e);p.point(n[0],n[1])}function b(){p.lineStart(),u=[]}function x(){m(u[0][0],u[0][1]),p.lineEnd();var t,e,n,r,i=p.clean(),l=h.result(),c=l.length;if(u.pop(),s.push(u),u=null,c)if(1&i){if((e=(n=l[0]).length-1)>0){for(f||(o.polygonStart(),f=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else c>1&&2&i&&l.push(l.pop().concat(l.shift())),a.push(l.filter(ug))}return d}}function ug(t){return t.length>1}function lg(t,e){return((t=t.x)[0]<0?t[1]-cd-ud:cd-t[1])-((e=e.x)[0]<0?e[1]-cd-ud:cd-e[1])}id();var cg=ag((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?ld:-ld,u=gd(o-n);gd(u-ld)<ud?(t.point(n,r=(r+s)/2>0?cd:-cd),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),e=0):i!==a&&u>=ld&&(gd(n-i)<ud&&(n-=i*ud),gd(o-a)<ud&&(o-=a*ud),r=function(t,e,n,r){var i,o,s=md(t-n);return gd(s)>ud?yd((md(e)*(o=_d(r))*md(n)-md(r)*(i=_d(e))*md(t))/(i*o*s)):(e+r)/2}(n,r,o,s),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),e=0),t.point(n=o,r=s),i=a},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*cd,r.point(-ld,i),r.point(0,i),r.point(ld,i),r.point(ld,0),r.point(ld,-i),r.point(0,-i),r.point(-ld,-i),r.point(-ld,0),r.point(-ld,i);else if(gd(t[0]-e[0])>ud){var o=t[0]<e[0]?ld:-ld;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-ld,-cd]);function hg(t,e){var n=_d(t),r=n>0,i=gd(n)>ud;function o(t,e){return _d(t)*_d(e)>n}function s(t,e,r){var i=[1,0,0],o=Nd(Ld(t),Ld(e)),s=Rd(o,o),a=o[0],u=s-a*a;if(!u)return!r&&t;var l=n*s/u,c=-n*a/u,h=Nd(i,o),p=jd(i,l);Fd(p,jd(o,c));var f=h,d=Rd(p,f),g=Rd(f,f),y=d*d-g*(Rd(p,p)-1);if(!(y<0)){var v=bd(y),_=jd(f,(-d-v)/g);if(Fd(_,p),_=Ad(_),!r)return _;var m,b=t[0],x=e[0],w=t[1],E=e[1];x<b&&(m=b,b=x,x=m);var C=x-b,S=gd(C-ld)<ud;if(!S&&E<w&&(m=w,w=E,E=m),S||C<ud?S?w+E>0^_[1]<(gd(_[0]-b)<ud?w:E):w<=_[1]&&_[1]<=E:C>ld^(b<=_[0]&&_[0]<=x)){var O=jd(f,(-d+v)/g);return Fd(O,p),[_,Ad(O)]}}}function a(e,n){var i=r?t:ld-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return ag(o,(function(t){var e,n,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,p){var f,d=[h,p],g=o(h,p),y=r?g?0:a(h,p):g?a(h+(h<0?ld:-ld),p):0;if(!e&&(l=u=g)&&t.lineStart(),g!==u&&(!(f=s(e,d))||$d(e,f)||$d(d,f))&&(d[0]+=ud,d[1]+=ud,g=o(d[0],d[1])),g!==u)c=0,g?(t.lineStart(),f=s(d,e),t.point(f[0],f[1])):(f=s(e,d),t.point(f[0],f[1]),t.lineEnd()),e=f;else if(i&&e&&r^g){var v;y&n||!(v=s(d,e,!0))||(c=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||e&&$d(e,d)||t.point(d[0],d[1]),e=d,u=g,n=y},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return c|(l&&u)<<1}}}),(function(n,r,i,o){!function(t,e,n,r,i,o){if(n){var s=_d(e),a=md(e),u=r*n;null==i?(i=e+r*pd,o=e-u/2):(i=qd(s,i),o=qd(s,o),(r>0?i<o:i>o)&&(i+=r*pd));for(var l,c=i;r>0?c>o:c<o;c-=u)l=Ad([s,-a*_d(c),-a*md(c)]),t.point(l[0],l[1])}}(o,t,e,i,n,r)}),r?[0,-t]:[-ld,t-ld])}function pg(t){return function(e){var n=new fg;for(var r in t)n[r]=t[r];return n.stream=e,n}}function fg(){}function dg(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),function(t,e){t&&Pd.hasOwnProperty(t.type)?Pd[t.type](t,e):Cd(t,e)}(n,t.stream(sg));var s=sg.result(),a=Math.min(r/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),u=+e[0][0]+(r-a*(s[1][0]+s[0][0]))/2,l=+e[0][1]+(i-a*(s[1][1]+s[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*a).translate([u,l])}fg.prototype={constructor:fg,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var gg=_d(30*dd);function yg(t,e){return+e?function(t,e){function n(r,i,o,s,a,u,l,c,h,p,f,d,g,y){var v=l-r,_=c-i,m=v*v+_*_;if(m>4*e&&g--){var b=s+p,x=a+f,w=u+d,E=bd(b*b+x*x+w*w),C=wd(w/=E),S=gd(gd(w)-1)<ud||gd(o-h)<ud?(o+h)/2:vd(x,b),O=t(S,C),P=O[0],I=O[1],T=P-r,M=I-i,A=_*T-v*M;(A*A/m>e||gd((v*T+_*M)/m-.5)>.3||s*p+a*f+u*d<gg)&&(n(r,i,o,s,a,u,P,I,S,b/=E,x/=E,w,g,y),y.point(P,I),n(P,I,S,b,x,w,l,c,h,p,f,d,g,y))}}return function(e){var r,i,o,s,a,u,l,c,h,p,f,d,g={point:y,lineStart:v,lineEnd:m,polygonStart:function(){e.polygonStart(),g.lineStart=b},polygonEnd:function(){e.polygonEnd(),g.lineStart=v}};function y(n,r){n=t(n,r),e.point(n[0],n[1])}function v(){c=NaN,g.point=_,e.lineStart()}function _(r,i){var o=Ld([r,i]),s=t(r,i);n(c,h,l,p,f,d,c=s[0],h=s[1],l=r,p=o[0],f=o[1],d=o[2],16,e),e.point(c,h)}function m(){g.point=y,e.lineEnd()}function b(){v(),g.point=x,g.lineEnd=w}function x(t,e){_(r=t,e),i=c,o=h,s=p,a=f,u=d,g.point=_}function w(){n(c,h,l,p,f,d,i,o,r,s,a,u,16,e),g.lineEnd=m,m()}return g}}(t,e):function(t){return pg({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var vg=pg({point:function(t,e){this.stream.point(t*dd,e*dd)}}),_g=function(t,e){var n=_d(t),r=_d(e),i=function(t){return(t=xd(t))&&t/md(t)}(n*r);return[i*r*md(t),i*md(e)]};function mg(){return function(t){return function(t){var e,n,r,i,o,s,a,u,l,c,h=150,p=480,f=250,d=0,g=0,y=0,v=0,_=0,m=null,b=cg,x=null,w=eg,E=.5,C=yg(P,E);function S(t){return[(t=o(t[0]*dd,t[1]*dd))[0]*h+n,r-t[1]*h]}function O(t){return(t=o.invert((t[0]-n)/h,(r-t[1])/h))&&[t[0]*fd,t[1]*fd]}function P(t,i){return[(t=e(t,i))[0]*h+n,r-t[1]*h]}function I(){o=kd(i=function(t,e,n){return(t%=pd)?e||n?kd(zd(t),Vd(e,n)):zd(t):e||n?Vd(e,n):Gd}(y,v,_),e);var t=e(d,g);return n=p-t[0]*h,r=f+t[1]*h,T()}function T(){return l=c=null,S}return S.stream=function(t){return l&&c===t?l:l=vg(b(i,C(w(c=t))))},S.clipAngle=function(t){return arguments.length?(b=+t?hg(m=t*dd,6*dd):(m=null,cg),T()):m*fd},S.clipExtent=function(t){return arguments.length?(w=null==t?(x=s=a=u=null,eg):Qd(x=+t[0][0],s=+t[0][1],a=+t[1][0],u=+t[1][1]),T()):null==x?null:[[x,s],[a,u]]},S.scale=function(t){return arguments.length?(h=+t,I()):h},S.translate=function(t){return arguments.length?(p=+t[0],f=+t[1],I()):[p,f]},S.center=function(t){return arguments.length?(d=t[0]%360*dd,g=t[1]%360*dd,I()):[d*fd,g*fd]},S.rotate=function(t){return arguments.length?(y=t[0]%360*dd,v=t[1]%360*dd,_=t.length>2?t[2]%360*dd:0,I()):[y*fd,v*fd,_*fd]},S.precision=function(t){return arguments.length?(C=yg(P,E=t*t),T()):bd(E)},S.fitExtent=function(t,e){return dg(S,t,e)},S.fitSize=function(t,e){return function(t,e,n){return dg(t,[[0,0],e],n)}(S,t,e)},function(){return e=t.apply(this,arguments),S.invert=e.invert&&O,I()}}((function(){return t}))()}(_g).scale(79.4188).clipAngle(179.999)}function bg(t,n,r,i){var s=t.properties||{},a=\"Feature\"===t.type?t.geometry:t;if(\"GeometryCollection\"===a.type){var u=[];return G(t,(function(t){var e=bg(t,n,r,i);e&&u.push(e)})),f(u)}var l=function(t){var n=ln(t).geometry.coordinates,r=[-n[0],-n[1]];return mg().rotate(r).scale(e)}(a),c={type:a.type,coordinates:xg(a.coordinates,l)},h=(new qc).read(c),p=m(b(n,r),\"meters\"),d=jp.bufferOp(h,p,i);if(!function t(e){return Array.isArray(e[0])?t(e[0]):isNaN(e[0])}((d=(new Uc).write(d)).coordinates))return o({type:d.type,coordinates:wg(d.coordinates,l)},s)}function xg(t,e){return\"object\"!=typeof t[0]?e(t):t.map((function(t){return xg(t,e)}))}function wg(t,e){return\"object\"!=typeof t[0]?e.invert(t):t.map((function(t){return wg(t,e)}))}function Eg(t,e,n){void 0===n&&(n={});var r=rt(t),i=rt(e),o=_u.intersection(r.coordinates,i.coordinates);return 0===o.length?null:1===o.length?l(o[0],n.properties):y(o,n.properties)}function Cg(t,e,n){void 0===n&&(n={});var r=JSON.stringify(n.properties||{}),i=t[0],o=t[1],s=t[2],a=t[3],u=(o+a)/2,l=(i+s)/2,c=2*e/ye([i,u],[s,u],n)*(s-i),h=2*e/ye([l,o],[l,a],n)*(a-o),p=c/2,d=2*p,g=Math.sqrt(3)/2*h,y=s-i,v=a-o,_=3/4*d,m=g,b=(y-d)/(d-p/2),x=Math.floor(b),w=(x*_-p/2-y)/2-p/2+_/2,E=Math.floor((v-g)/g),C=(v-E*g)/2,S=E*g-v>g/2;S&&(C-=g/4);for(var O=[],P=[],I=0;I<6;I++){var T=2*Math.PI/6*I;O.push(Math.cos(T)),P.push(Math.sin(T))}for(var M=[],A=0;A<=x;A++)for(var L=0;L<=E;L++){var R=A%2==1;if(!(0===L&&R||0===L&&S)){var N=A*_+i-w,F=L*m+o+C;if(R&&(F-=g/2),!0===n.triangles)Og([N,F],c/2,h/2,JSON.parse(r),O,P).forEach((function(t){n.mask?Eg(n.mask,t)&&M.push(t):M.push(t)}));else{var j=Sg([N,F],c/2,h/2,JSON.parse(r),O,P);n.mask?Eg(n.mask,j)&&M.push(j):M.push(j)}}}return f(M)}function Sg(t,e,n,r,i,o){for(var s=[],a=0;a<6;a++){var u=t[0]+e*i[a],c=t[1]+n*o[a];s.push([u,c])}return s.push(s[0].slice()),l([s],r)}function Og(t,e,n,r,i,o){for(var s=[],a=0;a<6;a++){var u=[];u.push(t),u.push([t[0]+e*i[a],t[1]+n*o[a]]),u.push([t[0]+e*i[(a+1)%6],t[1]+n*o[(a+1)%6]]),u.push(t),s.push(l([u],r))}return s}function Pg(t){return y(t)}function Ig(t,e,n){return void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});for(var i=[],o=t[0],s=t[1],a=t[2],u=t[3],c=e/ye([o,s],[a,s],r)*(a-o),h=n/ye([o,s],[o,u],r)*(u-s),p=a-o,d=u-s,g=Math.floor(p/c),y=Math.floor(d/h),v=(d-y*h)/2,_=o+(p-g*c)/2,m=0;m<g;m++){for(var b=s+v,x=0;x<y;x++){var w=l([[[_,b],[_,b+h],[_+c,b+h],[_+c,b],[_,b]]],r.properties);r.mask?es(r.mask,w)&&i.push(w):i.push(w),b+=h}_+=c}return f(i)}(t,e,e,n)}function Tg(t,e,n){void 0===n&&(n={});for(var r=[],i=e/ye([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),o=e/ye([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),s=0,a=t[0];a<=t[2];){for(var u=0,c=t[1];c<=t[3];){var h=null,p=null;s%2==0&&u%2==0?(h=l([[[a,c],[a,c+o],[a+i,c],[a,c]]],n.properties),p=l([[[a,c+o],[a+i,c+o],[a+i,c],[a,c+o]]],n.properties)):s%2==0&&u%2==1?(h=l([[[a,c],[a+i,c+o],[a+i,c],[a,c]]],n.properties),p=l([[[a,c],[a,c+o],[a+i,c+o],[a,c]]],n.properties)):u%2==0&&s%2==1?(h=l([[[a,c],[a,c+o],[a+i,c+o],[a,c]]],n.properties),p=l([[[a,c],[a+i,c+o],[a+i,c],[a,c]]],n.properties)):u%2==1&&s%2==1&&(h=l([[[a,c],[a,c+o],[a+i,c],[a,c]]],n.properties),p=l([[[a,c+o],[a+i,c+o],[a+i,c],[a,c+o]]],n.properties)),n.mask?(Eg(n.mask,h)&&r.push(h),Eg(n.mask,p)&&r.push(p)):(r.push(h),r.push(p)),c+=o,u++}s++,a+=i}return f(r)}_g.invert=function(t,e){var n=bd(t*t+e*e),r=n,i=md(r),o=_d(r);return[vd(t*i,n*o),wd(n&&e*i/n)]},t.along=function(t,e,n){void 0===n&&(n={});for(var r=rt(t).coordinates,i=0,o=0;o<r.length&&!(e>=i&&o===r.length-1);o++){if(i>=e){var s=e-i;if(s){var u=un(r[o],r[o-1])-180;return sn(r[o],s,u,n)}return a(r[o])}i+=ye(r[o],r[o+1],n)}return a(r[r.length-1])},t.angle=function(t,e,n,r){if(void 0===r&&(r={}),!I(r))throw new Error(\"options is invalid\");if(!t)throw new Error(\"startPoint is required\");if(!e)throw new Error(\"midPoint is required\");if(!n)throw new Error(\"endPoint is required\");var i=t,o=e,s=n,a=w(!0!==r.mercator?un(i,o):vi(i,o)),u=w(!0!==r.mercator?un(s,o):vi(s,o)),l=Math.abs(a-u);return!0===r.explementary?360-l:l},t.applyFilter=Aa,t.area=br,t.areaFactors=i,t.bbox=K,t.bboxClip=function(t,e){var n=rt(t),r=n.type,i=\"Feature\"===t.type?t.properties:{},o=n.coordinates;switch(r){case\"LineString\":case\"MultiLineString\":var s=[];return\"LineString\"===r&&(o=[o]),o.forEach((function(t){!function(t,e,n){var r,i,o,s,a,u=t.length,l=li(t[0],e),c=[];for(n||(n=[]),r=1;r<u;r++){for(s=t[r-1],i=o=li(a=t[r],e);;){if(!(l|i)){c.push(s),i!==o?(c.push(a),r<u-1&&(n.push(c),c=[])):r===u-1&&c.push(a);break}if(l&i)break;l?l=li(s=ui(s,a,l,e),e):i=li(a=ui(s,a,i,e),e)}l=o}c.length&&n.push(c)}(t,e,s)})),1===s.length?h(s[0],i):d(s,i);case\"Polygon\":return l(ci(o,e),i);case\"MultiPolygon\":return y(o.map((function(t){return ci(t,e)})),i);default:throw new Error(\"geometry \"+r+\" not supported\")}},t.bboxPolygon=nn,t.bearing=un,t.bearingToAngle=w,t.bearingToAzimuth=w,t.bezier=en,t.bezierSpline=en,t.booleanClockwise=Ei,t.booleanContains=function(t,e){var n=rt(t),r=rt(e),i=n.type,o=r.type,s=n.coordinates,a=r.coordinates;switch(i){case\"Point\":switch(o){case\"Point\":return Uo(s,a);default:throw new Error(\"feature2 \"+o+\" geometry not supported\")}case\"MultiPoint\":switch(o){case\"Point\":return function(t,e){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if(Uo(t.coordinates[n],e.coordinates)){r=!0;break}return r}(n,r);case\"MultiPoint\":return function(t,e){for(var n=0,r=e.coordinates;n<r.length;n++){for(var i=r[n],o=!1,s=0,a=t.coordinates;s<a.length;s++)if(Uo(i,a[s])){o=!0;break}if(!o)return!1}return!0}(n,r);default:throw new Error(\"feature2 \"+o+\" geometry not supported\")}case\"LineString\":switch(o){case\"Point\":return Or(r,n,{ignoreEndVertices:!0});case\"LineString\":return function(t,e){for(var n=!1,r=0,i=e.coordinates;r<i.length;r++){var o=i[r];if(Or({type:\"Point\",coordinates:o},t,{ignoreEndVertices:!0})&&(n=!0),!Or({type:\"Point\",coordinates:o},t,{ignoreEndVertices:!1}))return!1}return n}(n,r);case\"MultiPoint\":return function(t,e){for(var n=!1,r=0,i=e.coordinates;r<i.length;r++){var o=i[r];if(Or(o,t,{ignoreEndVertices:!0})&&(n=!0),!Or(o,t))return!1}return!!n}(n,r);default:throw new Error(\"feature2 \"+o+\" geometry not supported\")}case\"Polygon\":switch(o){case\"Point\":return fe(r,n,{ignoreBoundary:!0});case\"LineString\":return function(t,e){var n=!1,r=0;if(!qo(K(t),K(e)))return!1;for(;r<e.coordinates.length-1;r++)if(fe({type:\"Point\",coordinates:$o(e.coordinates[r],e.coordinates[r+1])},t,{ignoreBoundary:!0})){n=!0;break}return n}(n,r);case\"Polygon\":return function(t,e){if(\"Feature\"===t.type&&null===t.geometry)return!1;if(\"Feature\"===e.type&&null===e.geometry)return!1;if(!qo(K(t),K(e)))return!1;for(var n=0,r=rt(e).coordinates;n<r.length;n++)for(var i=0,o=r[n];i<o.length;i++)if(!fe(o[i],t))return!1;return!0}(n,r);case\"MultiPoint\":return function(t,e){for(var n=0,r=e.coordinates;n<r.length;n++)if(!fe(r[n],t,{ignoreBoundary:!0}))return!1;return!0}(n,r);default:throw new Error(\"feature2 \"+o+\" geometry not supported\")}default:throw new Error(\"feature1 \"+i+\" geometry not supported\")}},t.booleanCrosses=function(t,e){var n=rt(t),r=rt(e),i=n.type,o=r.type;switch(i){case\"MultiPoint\":switch(o){case\"LineString\":return Xo(n,r);case\"Polygon\":return Wo(n,r);default:throw new Error(\"feature2 \"+o+\" geometry not supported\")}case\"LineString\":switch(o){case\"MultiPoint\":return Xo(r,n);case\"LineString\":return function(t,e){if(cr(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var r=0;r<e.coordinates.length-1;r++){var i=!0;if(0!==r&&r!==e.coordinates.length-2||(i=!1),Ho(t.coordinates[n],t.coordinates[n+1],e.coordinates[r],i))return!0}return!1}(n,r);case\"Polygon\":return Yo(n,r);default:throw new Error(\"feature2 \"+o+\" geometry not supported\")}case\"Polygon\":switch(o){case\"MultiPoint\":return Wo(r,n);case\"LineString\":return Yo(r,n);default:throw new Error(\"feature2 \"+o+\" geometry not supported\")}default:throw new Error(\"feature1 \"+i+\" geometry not supported\")}},t.booleanDisjoint=Go,t.booleanEqual=function(t,e){return rt(t).type===rt(e).type&&new ts({precision:6}).compare(Ue(t),Ue(e))},t.booleanIntersects=es,t.booleanOverlap=function(t,e){var n=rt(t),r=rt(e),i=n.type,o=r.type;if(\"MultiPoint\"===i&&\"MultiPoint\"!==o||(\"LineString\"===i||\"MultiLineString\"===i)&&\"LineString\"!==o&&\"MultiLineString\"!==o||(\"Polygon\"===i||\"MultiPolygon\"===i)&&\"Polygon\"!==o&&\"MultiPolygon\"!==o)throw new Error(\"features must be of the same type\");if(\"Point\"===i)throw new Error(\"Point geometry not supported\");if(new ts({precision:6}).compare(t,e))return!1;var s=0;switch(i){case\"MultiPoint\":for(var a=0;a<n.coordinates.length;a++)for(var u=0;u<r.coordinates.length;u++){var l=n.coordinates[a],c=r.coordinates[u];if(l[0]===c[0]&&l[1]===c[1])return!0}return!1;case\"LineString\":case\"MultiLineString\":q(t,(function(t){q(e,(function(e){di(t,e).features.length&&s++}))}));break;case\"Polygon\":case\"MultiPolygon\":q(t,(function(t){q(e,(function(e){cr(t,e).features.length&&s++}))}))}return s>0},t.booleanParallel=function(t,e){if(!t)throw new Error(\"line1 is required\");if(!e)throw new Error(\"line2 is required\");if(\"LineString\"!==ds(t,\"line1\"))throw new Error(\"line1 must be a LineString\");if(\"LineString\"!==ds(e,\"line2\"))throw new Error(\"line2 must be a LineString\");for(var n=Gn(Ue(t)).features,r=Gn(Ue(e)).features,i=0;i<n.length;i++){var o=n[i].geometry.coordinates;if(!r[i])break;if(!fs(o,r[i].geometry.coordinates))return!1}return!0},t.booleanPointInPolygon=fe,t.booleanPointOnLine=Or,t.booleanWithin=Ir,t.buffer=function(t,e,n){var r=(n=n||{}).units||\"kilometers\",i=n.steps||8;if(!t)throw new Error(\"geojson is required\");if(\"object\"!=typeof n)throw new Error(\"options must be an object\");if(\"number\"!=typeof i)throw new Error(\"steps must be an number\");if(void 0===e)throw new Error(\"radius is required\");if(i<=0)throw new Error(\"steps must be greater than 0\");var o=[];switch(t.type){case\"GeometryCollection\":return G(t,(function(t){var n=bg(t,e,r,i);n&&o.push(n)})),f(o);case\"FeatureCollection\":return j(t,(function(t){var n=bg(t,e,r,i);n&&j(n,(function(t){t&&o.push(t)}))})),f(o)}return bg(t,e,r,i)},t.center=ln,t.centerMean=aa,t.centerMedian=function(t,e){if(void 0===e&&(e={}),!I(e=e||{}))throw new Error(\"options is invalid\");var n=e.counter||10;if(!P(n))throw new Error(\"counter must be a number\");var r=e.weight,i=aa(t,{weight:e.weight}),o=f([]);j(t,(function(t){var e;o.features.push(cn(t,{properties:{weight:null===(e=t.properties)||void 0===e?void 0:e[r]}}))}));var s={tolerance:e.tolerance,medianCandidates:[]};return function t(e,n,r,i,o){var s=i.tolerance||.001,u=0,l=0,c=0,h=0;if(j(r,(function(t){var n,r=null===(n=t.properties)||void 0===n?void 0:n.weight,i=null==r?1:r;if(!P(i=Number(i)))throw new Error(\"weight value must be a number\");if(i>0){h+=1;var o=i*ye(t,e);0===o&&(o=1);var s=i/o;u+=t.geometry.coordinates[0]*s,l+=t.geometry.coordinates[1]*s,c+=s}})),h<1)throw new Error(\"no features to measure\");var p=u/c,f=l/c;return 1===h||0===o||Math.abs(p-n[0])<s&&Math.abs(f-n[1])<s?a([p,f],{medianCandidates:i.medianCandidates}):(i.medianCandidates.push([p,f]),t([p,f],e,r,i,o-1))}(i.geometry.coordinates,[0,0],o,s,n)},t.centerOfMass=function t(e,n){switch(void 0===n&&(n={}),it(e)){case\"Point\":return a(Z(e),n.properties);case\"Polygon\":var r=[];L(e,(function(t){r.push(t)}));var i,o,s,u,l,c,h,p,f=cn(e,{properties:n.properties}),d=f.geometry.coordinates,g=0,y=0,v=0,_=r.map((function(t){return[t[0]-d[0],t[1]-d[1]]}));for(i=0;i<r.length-1;i++)u=(o=_[i])[0],c=o[1],l=(s=_[i+1])[0],v+=p=u*(h=s[1])-l*c,g+=(u+l)*p,y+=(c+h)*p;if(0===v)return f;var m=1/(.5*v*6);return a([d[0]+m*g,d[1]+m*y],n.properties);default:var b=pe(e);return b?t(b,{properties:n.properties}):cn(e,{properties:n.properties})}},t.centroid=cn,t.circle=an,t.cleanCoords=Ue,t.clone=xe,t.clusterEach=Ia,t.clusterReduce=Ta,t.clusters=Na,t.clustersDbscan=function(t,e,n){void 0===n&&(n={}),!0!==n.mutate&&(t=xe(t)),n.minPoints=n.minPoints||3;var r=new ss.DBSCAN,i=r.run(k(t),S(e,n.units),n.minPoints,ye),o=-1;return i.forEach((function(e){o++,e.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=o,n.properties.dbscan=\"core\"}))})),r.noise.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster?n.properties.dbscan=\"edge\":n.properties.dbscan=\"noise\"})),t},t.clustersKmeans=function(t,e){void 0===e&&(e={});var n=t.features.length;e.numberOfClusters=e.numberOfClusters||Math.round(Math.sqrt(n/2)),e.numberOfClusters>n&&(e.numberOfClusters=n),!0!==e.mutate&&(t=xe(t));var r=k(t),i=r.slice(0,e.numberOfClusters),o=ps(r,e.numberOfClusters,i),s={};return o.centroids.forEach((function(t,e){s[e]=t})),j(t,(function(t,e){var n=o.idxs[e];t.properties.cluster=n,t.properties.centroid=s[n]})),t},t.collect=function(t,e,n,r){var i=Et(6),o=e.features.map((function(t){var e;return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:null===(e=t.properties)||void 0===e?void 0:e[n]}}));return i.load(o),t.features.forEach((function(t){t.properties||(t.properties={});var e=K(t),n=i.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}),o=[];n.forEach((function(e){fe([e.minX,e.minY],t)&&o.push(e.property)})),t.properties[r]=o})),t},t.collectionOf=nt,t.combine=function(t){var e={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return j(t,(function(t){var n,r,i,o;switch(null===(o=t.geometry)||void 0===o?void 0:o.type){case\"Point\":e.MultiPoint.coordinates.push(t.geometry.coordinates),e.MultiPoint.properties.push(t.properties);break;case\"MultiPoint\":(n=e.MultiPoint.coordinates).push.apply(n,t.geometry.coordinates),e.MultiPoint.properties.push(t.properties);break;case\"LineString\":e.MultiLineString.coordinates.push(t.geometry.coordinates),e.MultiLineString.properties.push(t.properties);break;case\"MultiLineString\":(r=e.MultiLineString.coordinates).push.apply(r,t.geometry.coordinates),e.MultiLineString.properties.push(t.properties);break;case\"Polygon\":e.MultiPolygon.coordinates.push(t.geometry.coordinates),e.MultiPolygon.properties.push(t.properties);break;case\"MultiPolygon\":(i=e.MultiPolygon.coordinates).push.apply(i,t.geometry.coordinates),e.MultiPolygon.properties.push(t.properties)}})),f(Object.keys(e).filter((function(t){return e[t].coordinates.length})).sort().map((function(t){return o({type:t,coordinates:e[t].coordinates},{collectedProperties:e[t].properties})})))},t.concave=function(t,e){void 0===e&&(e={});var n=e.maxEdge||1/0,r=ve(function(t){var e=[],n={};return j(t,(function(t){if(t.geometry){var r=t.geometry.coordinates.join(\"-\");Object.prototype.hasOwnProperty.call(n,r)||(e.push(t),n[r]=!0)}})),f(e)}(t));if(r.features=r.features.filter((function(t){var r=t.geometry.coordinates[0][0],i=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],s=ye(r,i,e),a=ye(i,o,e),u=ye(r,o,e);return s<=n&&a<=n&&u<=n})),r.features.length<1)return null;var i=qe(r);return 1===i.coordinates.length&&(i.coordinates=i.coordinates[0],i.type=\"Polygon\"),o(i)},t.containsNumber=Q,t.convertArea=O,t.convertDistance=S,t.convertLength=S,t.convex=pe,t.coordAll=k,t.coordEach=L,t.coordReduce=R,t.createBins=Ma,t.degrees2radians=C,t.degreesToRadians=C,t.destination=sn,t.difference=function(t,e){var n=rt(t),r=rt(e),i=t.properties||{},o=_u.difference(n.coordinates,r.coordinates);return 0===o.length?null:1===o.length?l(o[0],i):y(o,i)},t.dissolve=function(t,e){if(!I(e=e||{}))throw new Error(\"options is invalid\");var n=e.propertyName;nt(t,\"Polygon\",\"dissolve\");var r=[];if(!e.propertyName)return Nr(y(_u.union.apply(null,t.features.map((function(t){return t.geometry.coordinates})))));var i={};j(t,(function(t){Object.prototype.hasOwnProperty.call(i,t.properties[n])||(i[t.properties[n]]=[]),i[t.properties[n]].push(t)}));for(var o=Object.keys(i),s=0;s<o.length;s++){var a=y(_u.union.apply(null,i[o[s]].map((function(t){return t.geometry.coordinates}))));a.properties[n]=o[s],r.push(a)}return Nr(f(r))},t.distance=ye,t.distanceToDegrees=x,t.distanceToRadians=b,t.distanceWeight=pa,t.earthRadius=e,t.ellipse=oa,t.envelope=rn,t.explode=hn,t.factors=n,t.feature=o,t.featureCollection=f,t.featureEach=j,t.featureOf=et,t.featureReduce=D,t.filterProperties=Ra,t.findPoint=W,t.findSegment=Y,t.flatten=Nr,t.flattenEach=z,t.flattenReduce=V,t.flip=function(t,e){if(!I(e=e||{}))throw new Error(\"options is invalid\");var n=e.mutate;if(!t)throw new Error(\"geojson is required\");return!1!==n&&void 0!==n||(t=xe(t)),L(t,(function(t){var e=t[0],n=t[1];t[0]=n,t[1]=e})),t},t.geojsonType=tt,t.geomEach=G,t.geomReduce=B,t.geometry=s,t.geometryCollection=v,t.getCluster=Pa,t.getCoord=Z,t.getCoords=J,t.getGeom=rt,t.getType=it,t.greatCircle=function(t,e,n){if(\"object\"!=typeof(n=n||{}))throw new Error(\"options is invalid\");var r=n.properties,i=n.npoints,o=n.offset;return t=Z(t),e=Z(e),r=r||{},i=i||100,o=o||10,new Wr({x:t[0],y:t[1]},{x:e[0],y:e[1]},r).Arc(i,{offset:o}).json()},t.helpers=A,t.hexGrid=Cg,t.inside=fe,t.interpolate=function(t,e,n){if(\"object\"!=typeof(n=n||{}))throw new Error(\"options is invalid\");var r=n.gridType,i=n.property,o=n.weight;if(!t)throw new Error(\"points is required\");if(nt(t,\"Point\",\"input must contain Points\"),!e)throw new Error(\"cellSize is required\");if(void 0!==o&&\"number\"!=typeof o)throw new Error(\"weight must be a number\");i=i||\"elevation\",r=r||\"square\",o=o||1;var s,a=K(t);switch(r){case\"point\":case\"points\":s=Lr(a,e,n);break;case\"square\":case\"squares\":s=Ig(a,e,n);break;case\"hex\":case\"hexes\":s=Cg(a,e,n);break;case\"triangle\":case\"triangles\":s=Tg(a,e,n);break;default:throw new Error(\"invalid gridType\")}var u=[];return j(s,(function(e){var s=0,a=0;j(t,(function(t){var u,l=ye(\"point\"===r?e:cn(e),t,n);if(void 0!==i&&(u=t.properties[i]),void 0===u&&(u=t.geometry.coordinates[2]),void 0===u)throw new Error(\"zValue is missing\");0===l&&(s=u);var c=1/Math.pow(l,o);a+=c,s+=c*u}));var l=xe(e);l.properties[i]=s/a,u.push(l)})),f(u)},t.intersect=Eg,t.invariant=ot,t.isNumber=P,t.isObject=I,t.isobands=function(t,e,n){if(!I(n=n||{}))throw new Error(\"options is invalid\");var r=n.zProperty||\"elevation\",i=n.commonProperties||{},o=n.breaksProperties||[];if(nt(t,\"Point\",\"Input must contain Points\"),!e)throw new Error(\"breaks is required\");if(!Array.isArray(e))throw new Error(\"breaks is not an Array\");if(!I(i))throw new Error(\"commonProperties is not an Object\");if(!Array.isArray(o))throw new Error(\"breaksProperties is not an Array\");var s=function(t,e){if(!I(e=e||{}))throw new Error(\"options is invalid\");var n=e.zProperty||\"elevation\",r=e.flip,i=e.flags;nt(t,\"Point\",\"input must contain Points\");for(var o=function(t,e){var n={};return j(t,(function(t){var e=J(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return J(t)[0]-J(e)[0]}))})).sort((function(t,n){return e?J(t[0])[1]-J(n[0])[1]:J(n[0])[1]-J(t[0])[1]}))}\n/*!\n     * @license GNU Affero General Public License.\n     * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>\n     * v. 1.2.0\n     * https://github.com/RaumZeit/MarchingSquares.js\n     *\n     * MarchingSquaresJS is free software: you can redistribute it and/or modify\n     * it under the terms of the GNU Affero General Public License as published by\n     * the Free Software Foundation, either version 3 of the License, or\n     * (at your option) any later version.\n     *\n     * MarchingSquaresJS is distributed in the hope that it will be useful,\n     * but WITHOUT ANY WARRANTY; without even the implied warranty of\n     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n     * GNU Affero General Public License for more details.\n     *\n     * As additional permission under GNU Affero General Public License version 3\n     * section 7, third-party projects (personal or commercial) may distribute,\n     * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the\n     * requirement that said third-party project for that reason alone becomes\n     * subject to any requirement of the GNU Affero General Public License version 3.\n     * Any modifications to MarchingSquaresJS, however, must be shared with the public\n     * and made available.\n     *\n     * In summary this:\n     * - allows you to use MarchingSquaresJS at no cost\n     * - allows you to use MarchingSquaresJS for both personal and commercial purposes\n     * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any\n     *   license as long as this license notice is included\n     * - enables you to keep the source code of your program that uses MarchingSquaresJS\n     *   undisclosed\n     * - forces you to share any modifications you have made to MarchingSquaresJS,\n     *   e.g. bug-fixes\n     *\n     * You should have received a copy of the GNU Affero General Public License\n     * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.\n     */(t,r),s=[],a=0;a<o.length;a++){for(var u=o[a],l=[],c=0;c<u.length;c++){var h=u[c];h.properties[n]?l.push(h.properties[n]):l.push(0),!0===i&&(h.properties.matrixPosition=[a,c])}s.push(l)}return s}(t,{zProperty:r,flip:!0}),a=function(t,e,n){for(var r=[],i=1;i<e.length;i++){var o=+e[i-1],s=+e[i],a=Co(Eo(Ti(t,o,s-o))),u={};u.groupedRings=a,u[n]=o+\"-\"+s,r.push(u)}return r}(s,e,r);return f((a=function(t,e,n){var r=K(n),i=r[2]-r[0],o=r[3]-r[1],s=r[0],a=r[1],u=e[0].length-1,l=e.length-1,c=i/u,h=o/l,p=function(t){t[0]=t[0]*c+s,t[1]=t[1]*h+a};return t.forEach((function(t){t.groupedRings.forEach((function(t){t.forEach((function(t){t.forEach(p)}))}))})),t}(a,s,t)).map((function(t,e){if(o[e]&&!I(o[e]))throw new Error(\"Each mappedProperty is required to be an Object\");var n=ct({},i,o[e]);return n[r]=t[r],y(t.groupedRings,n)})))},t.isolines=function(t,e,n){if(!I(n=n||{}))throw new Error(\"options is invalid\");var r=n.zProperty||\"elevation\",i=n.commonProperties||{},o=n.breaksProperties||[];if(nt(t,\"Point\",\"Input must contain Points\"),!e)throw new Error(\"breaks is required\");if(!Array.isArray(e))throw new Error(\"breaks must be an Array\");if(!I(i))throw new Error(\"commonProperties must be an Object\");if(!Array.isArray(o))throw new Error(\"breaksProperties must be an Array\");var s=function(t,e){if(!I(e=e||{}))throw new Error(\"options is invalid\");var n=e.zProperty||\"elevation\",r=e.flip,i=e.flags;nt(t,\"Point\",\"input must contain Points\");for(var o=function(t,e){var n={};return j(t,(function(t){var e=J(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return J(t)[0]-J(e)[0]}))})).sort((function(t,n){return e?J(t[0])[1]-J(n[0])[1]:J(n[0])[1]-J(t[0])[1]}))}(t,r),s=[],a=0;a<o.length;a++){for(var u=o[a],l=[],c=0;c<u.length;c++){var h=u[c];h.properties[n]?l.push(h.properties[n]):l.push(0),!0===i&&(h.properties.matrixPosition=[a,c])}s.push(l)}return s}(t,{zProperty:r,flip:!0});return f(function(t,e,n){var r=K(n),i=r[2]-r[0],o=r[3]-r[1],s=r[0],a=r[1],u=e[0].length-1,l=e.length-1,c=i/u,h=o/l,p=function(t){t[0]=t[0]*c+s,t[1]=t[1]*h+a};return t.forEach((function(t){L(t,p)})),t}(function(t,e,n,r,i){for(var o=[],s=1;s<e.length;s++){var a=+e[s],u=ct({},r,i[s]);u[n]=a;var l=d(ft(t,a),u);o.push(l)}return o}(s,e,r,i,o),s,t))},t.kinks=function(t){var e,n,r={type:\"FeatureCollection\",features:[]};if(\"LineString\"===(n=\"Feature\"===t.type?t.geometry:t).type)e=[n.coordinates];else if(\"MultiLineString\"===n.type)e=n.coordinates;else if(\"MultiPolygon\"===n.type)e=[].concat.apply([],n.coordinates);else{if(\"Polygon\"!==n.type)throw new Error(\"Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry\");e=n.coordinates}return e.forEach((function(t){e.forEach((function(e){for(var n=0;n<t.length-1;n++)for(var i=n;i<e.length-1;i++){if(t===e){if(1===Math.abs(n-i))continue;if(0===n&&i===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var o=vr(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[i][0],e[i][1],e[i+1][0],e[i+1][1]);o&&r.features.push(a([o[0],o[1]]))}}))})),r},t.length=Cr,t.lengthToDegrees=x,t.lengthToRadians=b,t.lineArc=Qr,t.lineChunk=function(t,e,n){if(!I(n=n||{}))throw new Error(\"options is invalid\");var r=n.units,i=n.reverse;if(!t)throw new Error(\"geojson is required\");if(e<=0)throw new Error(\"segmentLength must be greater than 0\");var o=[];return z(t,(function(t){i&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,r){var i=Cr(t,{units:n});if(i<=e)return r(t);var o=i/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var s=0;s<o;s++)r(Sr(t,e*s,e*(s+1),{units:n}))}(t,e,r,(function(t){o.push(t)}))})),f(o)},t.lineDistance=Cr,t.lineEach=$,t.lineIntersect=cr,t.lineOffset=function(t,e,n){if(!I(n=n||{}))throw new Error(\"options is invalid\");var r=n.units;if(!t)throw new Error(\"geojson is required\");if(null==e||isNaN(e))throw new Error(\"distance is required\");var i=it(t),o=t.properties;switch(i){case\"LineString\":return Lo(t,e,r);case\"MultiLineString\":var s=[];return z(t,(function(t){s.push(Lo(t,e,r).geometry.coordinates)})),d(s,o);default:throw new Error(\"geometry \"+i+\" is not supported\")}},t.lineOverlap=di,t.lineReduce=X,t.lineSegment=Gn,t.lineSlice=function(t,e,n){var r=J(n);if(\"LineString\"!==it(n))throw new Error(\"line must be a LineString\");for(var i,o=pr(n,t),s=pr(n,e),a=[(i=o.properties.index<=s.properties.index?[o,s]:[s,o])[0].geometry.coordinates],u=i[0].properties.index+1;u<i[1].properties.index+1;u++)a.push(r[u]);return a.push(i[1].geometry.coordinates),h(a,n.properties)},t.lineSliceAlong=Sr,t.lineSplit=function(t,e){if(!t)throw new Error(\"line is required\");if(!e)throw new Error(\"splitter is required\");var n=it(t),r=it(e);if(\"LineString\"!==n)throw new Error(\"line must be LineString\");if(\"FeatureCollection\"===r)throw new Error(\"splitter cannot be a FeatureCollection\");if(\"GeometryCollection\"===r)throw new Error(\"splitter cannot be a GeometryCollection\");var i=Rr(e,{precision:7});switch(r){case\"Point\":return Kr(t,i);case\"MultiPoint\":return Hr(t,i);case\"LineString\":case\"MultiLineString\":case\"Polygon\":case\"MultiPolygon\":return Hr(t,cr(t,i))}},t.lineString=h,t.lineStringToPolygon=ii,t.lineStrings=p,t.lineToPolygon=ii,t.mask=function(t,e){var n,r=function(t){return l(t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}(e);return(\"FeatureCollection\"===t.type?Pg(2===(n=t).features.length?_u.union(n.features[0].geometry.coordinates,n.features[1].geometry.coordinates):_u.union.apply(_u,n.features.map((function(t){return t.geometry.coordinates})))):Pg(_u.union(t.geometry.coordinates))).geometry.coordinates.forEach((function(t){r.geometry.coordinates.push(t[0])})),r},t.meta=H,t.midpoint=function(t,e){return sn(t,ye(t,e)/2,un(t,e))},t.moranIndex=function(t,e){var n=e.inputField,r=e.threshold||1e5,i=e.p||2,o=e.binary||!1,s=pa(t,{alpha:e.alpha||-1,binary:o,p:i,standardization:e.standardization||!0,threshold:r}),a=[];j(t,(function(t){var e=t.properties||{};a.push(e[n])}));for(var u=fa(a),l=function(t){for(var e=fa(t),n=0,r=0,i=t;r<i.length;r++){var o=i[r];n+=Math.pow(o-e,2)}return n/t.length}(a),c=0,h=0,p=0,f=0,d=s.length,g=0;g<d;g++){for(var y=0,v=0;v<d;v++)c+=s[g][v]*(a[g]-u)*(a[v]-u),h+=s[g][v],p+=Math.pow(s[g][v]+s[v][g],2),y+=s[g][v]+s[v][g];f+=Math.pow(y,2)}var _=c/h/l,m=-1/(d-1),b=(d*d*(p*=.5)-d*f+h*h*3)/((d-1)*(d+1)*(h*h))-m*m,x=Math.sqrt(b);return{expectedMoranIndex:m,moranIndex:_,stdNorm:x,zNorm:(_-m)/x}},t.multiLineString=d,t.multiPoint=g,t.multiPolygon=y,t.nearest=kn,t.nearestPoint=kn,t.nearestPointOnLine=pr,t.nearestPointToLine=function(t,e,n){void 0===n&&(n={});var r=n.units,i=n.properties||{},o=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case\"GeometryCollection\":return G(t,(function(t){\"Point\"===t.type&&e.push({type:\"Feature\",properties:{},geometry:t})})),{type:\"FeatureCollection\",features:e};case\"FeatureCollection\":return t.features=t.features.filter((function(t){return\"Point\"===t.geometry.type})),t;default:throw new Error(\"points must be a Point Collection\")}}(t);if(!o.features.length)throw new Error(\"points must contain features\");if(!e)throw new Error(\"line is required\");if(\"LineString\"!==it(e))throw new Error(\"line must be a LineString\");var s=1/0,a=null;return j(o,(function(t){var n=dr(t,e,{units:r});n<s&&(s=n,a=t)})),a&&(a.properties=ct({dist:s},a.properties,i)),a},t.planepoint=function(t,e){var n=Z(t),r=rt(e).coordinates[0];if(r.length<4)throw new Error(\"OuterRing of a Polygon must have 4 or more Positions.\");var i=e.properties||{},o=i.a,s=i.b,a=i.c,u=n[0],l=n[1],c=r[0][0],h=r[0][1],p=void 0!==o?o:r[0][2],f=r[1][0],d=r[1][1],g=void 0!==s?s:r[1][2],y=r[2][0],v=r[2][1],_=void 0!==a?a:r[2][2];return(_*(u-c)*(l-d)+p*(u-f)*(l-v)+g*(u-y)*(l-h)-g*(u-c)*(l-v)-_*(u-f)*(l-h)-p*(u-y)*(l-d))/((u-c)*(l-d)+(u-f)*(l-v)+(u-y)*(l-h)-(u-c)*(l-v)-(u-f)*(l-h)-(u-y)*(l-d))},t.point=a,t.pointGrid=Lr,t.pointOnFeature=_r,t.pointOnLine=pr,t.pointOnSurface=_r,t.pointToLineDistance=dr,t.points=u,t.pointsWithinPolygon=ge,t.polygon=l,t.polygonSmooth=function(t,e){var n=[],r=e.iterations||1;if(!t)throw new Error(\"inputPolys is required\");return G(t,(function(t,e,i){var o,s,a;switch(t.type){case\"Polygon\":o=[[]];for(var u=0;u<r;u++)a=[[]],s=t,u>0&&(s=l(o).geometry),la(s,a),o=a.slice(0);n.push(l(o,i));break;case\"MultiPolygon\":o=[[[]]];for(var c=0;c<r;c++)a=[[[]]],s=t,c>0&&(s=y(o).geometry),ca(s,a),o=a.slice(0);n.push(y(o,i));break;default:throw new Error(\"geometry is invalid, must be Polygon or MultiPolygon\")}})),f(n)},t.polygonTangents=function(t,e){var n,r,i,o,s=J(t),u=J(e),l=K(e),c=0,h=null;switch(s[0]>l[0]&&s[0]<l[2]&&s[1]>l[1]&&s[1]<l[3]&&(c=(h=kn(t,hn(e))).properties.featureIndex),it(e)){case\"Polygon\":n=u[0][c],r=u[0][0],null!==h&&h.geometry.coordinates[1]<s[1]&&(r=u[0][c]),o=wi(u[0][0],u[0][u[0].length-1],s);var p=bi(u[0],s,o,i,n,r);n=p[0],r=p[1];break;case\"MultiPolygon\":for(var d=0,g=0,y=0,v=0;v<u[0].length;v++){d=v;for(var _=!1,m=0;m<u[0][v].length;m++){if(g=m,y===c){_=!0;break}y++}if(_)break}n=u[0][d][g],r=u[0][d][g],o=wi(u[0][0][0],u[0][0][u[0][0].length-1],s),u.forEach((function(t){var e=bi(t[0],s,o,i,n,r);n=e[0],r=e[1]}))}return f([a(n),a(r)])},t.polygonToLine=ei,t.polygonToLineString=ei,t.polygonize=function(t){var e=ko.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],r=[];return e.getEdgeRings().filter((function(t){return t.isValid()})).forEach((function(t){t.isHole()?n.push(t):r.push(t)})),n.forEach((function(t){Do.findEdgeRingContaining(t,r)&&r.push(t)})),f(r.map((function(t){return t.toPolygon()})))},t.polygons=c,t.projection=ma,t.propEach=N,t.propReduce=F,t.propertiesContainsFilter=La,t.radians2degrees=E,t.radiansToDegrees=E,t.radiansToDistance=m,t.radiansToLength=m,t.random=Oa,t.randomLineString=Ea,t.randomPoint=xa,t.randomPolygon=wa,t.randomPosition=ba,t.rewind=function(t,e){if(!I(e=e||{}))throw new Error(\"options is invalid\");var n=e.reverse||!1,r=e.mutate||!1;if(!t)throw new Error(\"<geojson> is required\");if(\"boolean\"!=typeof n)throw new Error(\"<reverse> must be a boolean\");if(\"boolean\"!=typeof r)throw new Error(\"<mutate> must be a boolean\");!1===r&&(t=xe(t));var i=[];switch(t.type){case\"GeometryCollection\":return G(t,(function(t){Ci(t,n)})),t;case\"FeatureCollection\":return j(t,(function(t){j(Ci(t,n),(function(t){i.push(t)}))})),f(i)}return Ci(t,n)},t.rhumbBearing=vi,t.rhumbDestination=mi,t.rhumbDistance=fr,t.round=_,t.sample=function(t,e){if(!t)throw new Error(\"featurecollection is required\");if(null==e)throw new Error(\"num is required\");if(\"number\"!=typeof e)throw new Error(\"num must be a number\");return f(function(t,e){for(var n,r,i=t.slice(0),o=t.length,s=o-e;o-- >s;)n=i[r=Math.floor((o+1)*Math.random())],i[r]=i[o],i[o]=n;return i.slice(s)}(t.features,e))},t.sector=function(t,e,n,r,i){if(!I(i=i||{}))throw new Error(\"options is invalid\");var o=i.properties;if(!t)throw new Error(\"center is required\");if(null==n)throw new Error(\"bearing1 is required\");if(null==r)throw new Error(\"bearing2 is required\");if(!e)throw new Error(\"radius is required\");if(\"object\"!=typeof i)throw new Error(\"options must be an object\");if(yi(n)===yi(r))return an(t,e,i);var s=J(t),a=Qr(t,e,n,r,i),u=[[s]];return L(a,(function(t){u[0].push(t)})),u[0].push(s),l(u,o)},t.segmentEach=q,t.segmentReduce=U,t.shortestPath=function(t,e,n){if(!I(n=n||{}))throw new Error(\"options is invalid\");var r=n.resolution,i=n.minDistance,s=n.obstacles||f([]);if(!t)throw new Error(\"start is required\");if(!e)throw new Error(\"end is required\");if(r&&!P(r)||r<=0)throw new Error(\"options.resolution must be a number, greater than 0\");if(i)throw new Error(\"options.minDistance is not yet implemented\");var u=Z(t),l=Z(e);switch(t=a(u),e=a(l),it(s)){case\"FeatureCollection\":if(0===s.features.length)return h([u,l]);break;case\"Polygon\":s=f([o(rt(s))]);break;default:throw new Error(\"invalid obstacles\")}var c=s;c.features.push(t),c.features.push(e);var p=K(Io(nn(K(c)),1.15));r||(r=ye([p[0],p[1]],[p[2],p[1]],n)/100),c.features.pop(),c.features.pop();for(var d=p[0],g=p[1],y=p[2],v=p[3],_=r/ye([d,g],[y,g],n)*(y-d),m=r/ye([d,g],[d,v],n)*(v-g),b=y-d,x=v-g,w=Math.floor(b/_),E=Math.floor(x/m),C=(b-w*_)/2,S=[],O=[],T=[],M=[],A=1/0,L=1/0,R=v-(x-E*m)/2,N=0;R>=g;){for(var F=[],j=[],D=d+C,k=0;D<=y;){var G=a([D,R]),B=bs(G,s);F.push(B?0:1),j.push(D+\"|\"+R);var z=ye(G,t);!B&&z<A&&(A=z,T={x:k,y:N});var V=ye(G,e);!B&&V<L&&(L=V,M={x:k,y:N}),D+=_,k++}O.push(F),S.push(j),R-=m,N++}var q=new vs(O,{diagonal:!0}),U=q.grid[T.y][T.x],$=q.grid[M.y][M.x],X=ys.search(q,U,$),Y=[u];return X.forEach((function(t){var e=S[t.x][t.y].split(\"|\");Y.push([+e[0],+e[1]])})),Y.push(l),Ue(h(Y))},t.simplify=function(t,e){if(!I(e=e||{}))throw new Error(\"options is invalid\");var n=void 0!==e.tolerance?e.tolerance:1,r=e.highQuality||!1,i=e.mutate||!1;if(!t)throw new Error(\"geojson is required\");if(n&&n<0)throw new Error(\"invalid tolerance\");return!0!==i&&(t=xe(t)),G(t,(function(t){!function(t,e,n){var r=t.type;if(\"Point\"===r||\"MultiPoint\"===r)return t;Ue(t,!0);var i=t.coordinates;switch(r){case\"LineString\":t.coordinates=Ze(i,e,n);break;case\"MultiLineString\":t.coordinates=i.map((function(t){return Ze(t,e,n)}));break;case\"Polygon\":t.coordinates=Je(i,e,n);break;case\"MultiPolygon\":t.coordinates=i.map((function(t){return Je(t,e,n)}))}}(t,n,r)})),t},t.square=on,t.squareGrid=Ig,t.standardDeviationalEllipse=function(t,e){if(!I(e=e||{}))throw new Error(\"options is invalid\");var n=e.steps||64,r=e.weight,i=e.properties||{};if(!P(n))throw new Error(\"steps must be a number\");if(!I(i))throw new Error(\"properties must be a number\");var o=k(t).length,s=aa(t,{weight:r}),a=0,u=0,l=0;j(t,(function(t){var e=t.properties[r]||1,n=ua(J(t),J(s));a+=Math.pow(n.x,2)*e,u+=Math.pow(n.y,2)*e,l+=n.x*n.y*e}));var c=a-u,h=Math.sqrt(Math.pow(c,2)+4*Math.pow(l,2)),p=2*l,d=Math.atan((c+h)/p),g=180*d/Math.PI,y=0,v=0,_=0;j(t,(function(t){var e=t.properties[r]||1,n=ua(J(t),J(s));y+=Math.pow(n.x*Math.cos(d)-n.y*Math.sin(d),2)*e,v+=Math.pow(n.x*Math.sin(d)+n.y*Math.cos(d),2)*e,_+=e}));var m=Math.sqrt(2*y/_),b=Math.sqrt(2*v/_),x=oa(s,m,b,{units:\"degrees\",angle:g,steps:n,properties:i}),w=ge(t,f([x])),E={meanCenterCoordinates:J(s),semiMajorAxis:m,semiMinorAxis:b,numberOfFeatures:o,angle:g,percentageWithinEllipse:100*k(w).length/o};return x.properties.standardDeviationalEllipse=E,x},t.tag=function(t,e,n,r){return t=xe(t),e=xe(e),j(t,(function(t){t.properties||(t.properties={}),j(e,(function(e){void 0===t.properties[r]&&fe(t,e)&&(t.properties[r]=e.properties[n])}))})),t},t.tesselate=function(t){if(!t.geometry||\"Polygon\"!==t.geometry.type&&\"MultiPolygon\"!==t.geometry.type)throw new Error(\"input must be a Polygon or MultiPolygon\");var e={type:\"FeatureCollection\",features:[]};return\"Polygon\"===t.geometry.type?e.features=Dn(t.geometry.coordinates):t.geometry.coordinates.forEach((function(t){e.features=e.features.concat(Dn(t))})),e},t.tin=ve,t.toMercator=da,t.toWgs84=ga,t.transformRotate=Po,t.transformScale=Io,t.transformTranslate=function(t,e,n,r){if(!I(r=r||{}))throw new Error(\"options is invalid\");var i=r.units,o=r.zTranslation,s=r.mutate;if(!t)throw new Error(\"geojson is required\");if(null==e||isNaN(e))throw new Error(\"distance is required\");if(o&&\"number\"!=typeof o&&isNaN(o))throw new Error(\"zTranslation is not a number\");if(o=void 0!==o?o:0,0===e&&0===o)return t;if(null==n||isNaN(n))throw new Error(\"direction is required\");return e<0&&(e=-e,n+=180),!1!==s&&void 0!==s||(t=xe(t)),L(t,(function(t){var r=J(mi(t,e,n,{units:i}));t[0]=r[0],t[1]=r[1],o&&3===t.length&&(t[2]+=o)})),t},t.triangleGrid=Tg,t.truncate=Rr,t.union=function(t,e,n){void 0===n&&(n={});var r=rt(t),i=rt(e),o=_u.union(r.coordinates,i.coordinates);return 0===o.length?null:1===o.length?l(o[0],n.properties):y(o,n.properties)},t.unitsFactors=r,t.unkinkPolygon=function(t){var e=[];return z(t,(function(t){\"Polygon\"===t.geometry.type&&j(jr(t),(function(n){e.push(l(n.geometry.coordinates,t.properties))}))})),f(e)},t.validateBBox=T,t.validateId=M,t.voronoi=function(t,e){if(!I(e=e||{}))throw new Error(\"options is invalid\");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error(\"points is required\");if(!Array.isArray(n))throw new Error(\"bbox is invalid\");return nt(t,\"Point\",\"points\"),f(function(){var t=ws,e=Es,n=null;function r(r){return new ra(r.map((function(n,i){var o=[Math.round(t(n,i,r)/ta)*ta,Math.round(e(n,i,r)/ta)*ta];return o.index=i,o.data=n,o})),n)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(e){return arguments.length?(t=\"function\"==typeof e?e:xs(+e),r):t},r.y=function(t){return arguments.length?(e=\"function\"==typeof t?t:xs(+t),r):e},r.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r}().x((function(t){return t.geometry.coordinates[0]})).y((function(t){return t.geometry.coordinates[1]})).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map(ia))},t.within=ge,Object.defineProperty(t,\"__esModule\",{value:!0})}(e)},function(t,e,n){var r=n(4),i=r({}.toString),o=r(\"\".slice);t.exports=function(t){return o(i(t),8,-1)}},function(t,e,n){var r=n(4);t.exports=r({}.isPrototypeOf)},function(t,e,n){var r=n(9),i=n(8),o=n(115),s=n(47),a=n(20),u=n(80),l=n(10),c=n(146),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(t,e){if(t=a(t),e=u(e),c)try{return h(t,e)}catch(t){}if(l(t,e))return s(!i(o.f,t,e),t[e])}},function(t,e,n){var r,i=n(12),o=n(112),s=n(114),a=n(58),u=n(149),l=n(79),c=n(84),h=c(\"IE_PROTO\"),p=function(){},f=function(t){return\"<script>\"+t+\"<\\/script>\"},d=function(t){t.write(f(\"\")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){try{r=new ActiveXObject(\"htmlfile\")}catch(t){}var t,e;g=\"undefined\"!=typeof document?document.domain&&r?d(r):((e=l(\"iframe\")).style.display=\"none\",u.appendChild(e),e.src=String(\"javascript:\"),(t=e.contentWindow.document).open(),t.write(f(\"document.F=Object\")),t.close(),t.F):d(r);for(var n=s.length;n--;)delete g.prototype[s[n]];return g()};a[h]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p.prototype=i(t),n=new p,p.prototype=null,n[h]=t):n=g(),void 0===e?n:o.f(n,e)}},function(t,e,n){var r=n(0),i=n(167),o=n(168),s=n(143),a=n(22),u=n(6),l=u(\"iterator\"),c=u(\"toStringTag\"),h=s.values,p=function(t,e){if(t){if(t[l]!==h)try{a(t,l,h)}catch(e){t[l]=h}if(t[c]||a(t,c,e),i[e])for(var n in s)if(t[n]!==s[n])try{a(t,n,s[n])}catch(e){t[n]=s[n]}}};for(var f in i)p(r[f]&&r[f].prototype,f);p(o,\"DOMTokenList\")},function(t,e,n){var r=n(15),i=n(288),o=Error.prototype;o.toString!==i&&r(o,\"toString\",i)},function(t,e,n){\"use strict\";var r=n(1),i=n(50).filter;r({target:\"Array\",proto:!0,forced:!n(91)(\"filter\")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(53),i=Function.prototype,o=i.apply,s=i.call;t.exports=\"object\"==typeof Reflect&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},function(t,e,n){var r=n(1),i=n(0),o=n(36),s=n(284),a=i.WebAssembly,u=7!==Error(\"e\",{cause:7}).cause,l=function(t,e){var n={};n[t]=s(t,e,u),r({global:!0,constructor:!0,arity:1,forced:u},n)},c=function(t,e){if(a&&a[t]){var n={};n[t]=s(\"WebAssembly.\"+t,e,u),r({target:\"WebAssembly\",stat:!0,constructor:!0,arity:1,forced:u},n)}};l(\"Error\",(function(t){return function(e){return o(t,this,arguments)}})),l(\"EvalError\",(function(t){return function(e){return o(t,this,arguments)}})),l(\"RangeError\",(function(t){return function(e){return o(t,this,arguments)}})),l(\"ReferenceError\",(function(t){return function(e){return o(t,this,arguments)}})),l(\"SyntaxError\",(function(t){return function(e){return o(t,this,arguments)}})),l(\"TypeError\",(function(t){return function(e){return o(t,this,arguments)}})),l(\"URIError\",(function(t){return function(e){return o(t,this,arguments)}})),c(\"CompileError\",(function(t){return function(e){return o(t,this,arguments)}})),c(\"LinkError\",(function(t){return function(e){return o(t,this,arguments)}})),c(\"RuntimeError\",(function(t){return function(e){return o(t,this,arguments)}}))},function(t,e,n){var r=n(307),i=n(310);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){\"use strict\";var r=n(36),i=n(8),o=n(4),s=n(139),a=n(2),u=n(12),l=n(5),c=n(83),h=n(75),p=n(14),f=n(21),d=n(140),g=n(43),y=n(184),v=n(141),_=n(6)(\"replace\"),m=Math.max,b=Math.min,x=o([].concat),w=o([].push),E=o(\"\".indexOf),C=o(\"\".slice),S=\"$0\"===\"a\".replace(/./,\"$0\"),O=!!/./[_]&&\"\"===/./[_](\"a\",\"$0\");s(\"replace\",(function(t,e,n){var o=O?\"$\":\"$0\";return[function(t,n){var r=f(this),o=null==t?void 0:g(t,_);return o?i(o,t,r,n):i(e,p(r),t,n)},function(t,i){var s=u(this),a=p(t);if(\"string\"==typeof i&&-1===E(i,o)&&-1===E(i,\"$<\")){var f=n(e,s,a,i);if(f.done)return f.value}var g=l(i);g||(i=p(i));var _=s.global;if(_){var S=s.unicode;s.lastIndex=0}for(var O=[];;){var P=v(s,a);if(null===P)break;if(w(O,P),!_)break;\"\"===p(P[0])&&(s.lastIndex=d(a,h(s.lastIndex),S))}for(var I,T=\"\",M=0,A=0;A<O.length;A++){for(var L=p((P=O[A])[0]),R=m(b(c(P.index),a.length),0),N=[],F=1;F<P.length;F++)w(N,void 0===(I=P[F])?I:String(I));var j=P.groups;if(g){var D=x([L],N,R,a);void 0!==j&&w(D,j);var k=p(r(i,void 0,D))}else k=y(L,a,R,N,j,i);R>=M&&(T+=C(a,M,R)+k,M=R+L.length)}return T+C(a,M)}]}),!!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:\"7\"},t},\"7\"!==\"\".replace(t,\"$<a>\")}))||!S||O)},function(t,e,n){var r,i,o,s=n(247),a=n(0),u=n(4),l=n(11),c=n(22),h=n(10),p=n(110),f=n(84),d=n(58),g=a.TypeError,y=a.WeakMap;if(s||p.state){var v=p.state||(p.state=new y),_=u(v.get),m=u(v.has),b=u(v.set);r=function(t,e){if(m(v,t))throw new g(\"Object already initialized\");return e.facade=t,b(v,t,e),e},i=function(t){return _(v,t)||{}},o=function(t){return m(v,t)}}else{var x=f(\"state\");d[x]=!0,r=function(t,e){if(h(t,x))throw new g(\"Object already initialized\");return e.facade=t,c(t,x,e),e},i=function(t){return h(t,x)?t[x]:{}},o=function(t){return h(t,x)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!l(e)||(n=i(e)).type!==t)throw g(\"Incompatible receiver, \"+t+\" required\");return n}}}},function(t,e,n){\"use strict\";var r=n(1),i=n(172);r({target:\"Array\",proto:!0,forced:[].forEach!=i},{forEach:i})},function(t,e,n){var r=n(0),i=n(167),o=n(168),s=n(172),a=n(22),u=function(t){if(t&&t.forEach!==s)try{a(t,\"forEach\",s)}catch(e){t.forEach=s}};for(var l in i)i[l]&&u(r[l]&&r[l].prototype);u(o)},function(t,e,n){var r=n(24);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},function(t,e){t.exports=function(t){return null!=t&&\"object\"==typeof t}},function(t,e,n){var r=n(17),i=n(110);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})(\"versions\",[]).push({version:\"3.22.5\",mode:r?\"pure\":\"global\",copyright:\"© 2014-2022 Denis Pushkarev (zloirock.ru)\",license:\"https://github.com/zloirock/core-js/blob/v3.22.5/LICENSE\",source:\"https://github.com/zloirock/core-js\"})},function(t,e,n){var r=n(54),i=n(2);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(0);t.exports=r.Promise},function(t,e,n){var r=n(148),i=n(114).concat(\"length\",\"prototype\");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(62),i=n(4),o=n(52),s=n(18),a=n(25),u=n(169),l=i([].push),c=function(t){var e=1==t,n=2==t,i=3==t,c=4==t,h=6==t,p=7==t,f=5==t||h;return function(d,g,y,v){for(var _,m,b=s(d),x=o(b),w=r(g,y),E=a(x),C=0,S=v||u,O=e?S(d,E):n||p?S(d,0):void 0;E>C;C++)if((f||C in x)&&(m=w(_=x[C],C,b),t))if(e)O[C]=m;else if(m)switch(t){case 3:return!0;case 5:return _;case 6:return C;case 2:l(O,_)}else switch(t){case 4:return!1;case 7:l(O,_)}return h?-1:i||c?c:O}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},function(t,e,n){var r=n(70),i=n(292),o=n(293),s=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?\"[object Undefined]\":\"[object Null]\":s&&s in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(0),i=n(4),o=n(2),s=n(29),a=r.Object,u=i(\"\".split);t.exports=o((function(){return!a(\"z\").propertyIsEnumerable(0)}))?function(t){return\"String\"==s(t)?u(t,\"\"):a(t)}:a},function(t,e,n){var r=n(2);t.exports=!r((function(){var t=function(){}.bind();return\"function\"!=typeof t||t.hasOwnProperty(\"prototype\")}))},function(t,e,n){var r,i,o=n(0),s=n(55),a=o.process,u=o.Deno,l=a&&a.versions||u&&u.version,c=l&&l.v8;c&&(i=(r=c.split(\".\"))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(!(r=s.match(/Edge\\/(\\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\\/(\\d+)/))&&(i=+r[1]),t.exports=i},function(t,e,n){var r=n(16);t.exports=r(\"navigator\",\"userAgent\")||\"\"},function(t,e,n){var r=n(0),i=n(16),o=n(5),s=n(30),a=n(144),u=r.Object;t.exports=a?function(t){return\"symbol\"==typeof t}:function(t){var e=i(\"Symbol\");return o(e)&&s(e.prototype,u(t))}},function(t,e,n){var r=n(0).String;t.exports=function(t){try{return r(t)}catch(t){return\"Object\"}}},function(t,e){t.exports={}},function(t,e){t.exports={}},function(t,e,n){var r=n(13).f,i=n(10),o=n(6)(\"toStringTag\");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!i(t,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(4),i=n(12),o=n(249);t.exports=Object.setPrototypeOf||(\"__proto__\"in{}?function(){var t,e=!1,n={};try{(t=r(Object.getOwnPropertyDescriptor(Object.prototype,\"__proto__\").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},function(t,e,n){var r=n(4),i=n(24),o=n(53),s=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?s(t,e):function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(4);t.exports=r([].slice)},function(t,e,n){var r=n(0),i=n(48),o=n(5),s=n(107),a=n(85),u=n(6),l=n(258),c=n(17),h=n(54),p=i&&i.prototype,f=u(\"species\"),d=!1,g=o(r.PromiseRejectionEvent),y=s(\"Promise\",(function(){var t=a(i),e=t!==String(i);if(!e&&66===h)return!0;if(c&&(!p.catch||!p.finally))return!0;if(h>=51&&/native code/.test(t))return!1;var n=new i((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[f]=r,!(d=n.then((function(){}))instanceof r)||!e&&l&&!g}));t.exports={CONSTRUCTOR:y,REJECTION_EVENT:g,SUBCLASSING:d}},function(t,e,n){\"use strict\";var r=n(24),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError(\"Bad Promise constructor\");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},function(t,e,n){var r=n(29);t.exports=Array.isArray||function(t){return\"Array\"==r(t)}},function(t,e,n){\"use strict\";var r=n(80),i=n(13),o=n(47);t.exports=function(t,e,n){var s=r(e);s in t?i.f(t,s,o(0,n)):t[s]=n}},function(t,e,n){\"use strict\";var r=n(2);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},function(t,e,n){n(276),n(279),n(280),n(179),n(281)},function(t,e,n){var r=n(27).Symbol;t.exports=r},function(t,e,n){\"use strict\";var r=n(9),i=n(0),o=n(4),s=n(107),a=n(15),u=n(10),l=n(138),c=n(30),h=n(56),p=n(147),f=n(2),d=n(49).f,g=n(31).f,y=n(13).f,v=n(387),_=n(223).trim,m=i.Number,b=m.prototype,x=i.TypeError,w=o(\"\".slice),E=o(\"\".charCodeAt),C=function(t){var e=p(t,\"number\");return\"bigint\"==typeof e?e:S(e)},S=function(t){var e,n,r,i,o,s,a,u,l=p(t,\"number\");if(h(l))throw x(\"Cannot convert a Symbol value to a number\");if(\"string\"==typeof l&&l.length>2)if(l=_(l),43===(e=E(l,0))||45===e){if(88===(n=E(l,2))||120===n)return NaN}else if(48===e){switch(E(l,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(s=(o=w(l,2)).length,a=0;a<s;a++)if((u=E(o,a))<48||u>i)return NaN;return parseInt(o,r)}return+l};if(s(\"Number\",!m(\" 0o1\")||!m(\"0b1\")||m(\"+0x1\"))){for(var O,P=function(t){var e=arguments.length<1?0:m(C(t)),n=this;return c(b,n)&&f((function(){v(n)}))?l(Object(e),n,P):e},I=r?d(m):\"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range\".split(\",\"),T=0;I.length>T;T++)u(m,O=I[T])&&!u(P,O)&&y(P,O,g(m,O));P.prototype=b,b.constructor=P,a(i,\"Number\",P,{constructor:!0})}},function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return o}));n(105);var r=n(73);n(69),n(92),n(7),n(122),n(26),n(33),n(180);var i=n(101);n(37),n(34);function o(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||Object(i.a)(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}},function(t,e,n){\"use strict\";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,\"a\",(function(){return r}))},function(t,e,n){\"use strict\";var r=n(1),i=n(50).map;r({target:\"Array\",proto:!0,forced:!n(91)(\"map\")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(83),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(1),i=n(18),o=n(81);r({target:\"Object\",stat:!0,forced:n(2)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},function(t,e,n){var r=n(9),i=n(10),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,\"name\"),u=a&&\"something\"===function(){}.name,l=a&&(!r||r&&s(o,\"name\").configurable);t.exports={EXISTS:a,PROPER:u,CONFIGURABLE:l}},function(t,e,n){var r=n(4),i=0,o=Math.random(),s=r(1..toString);t.exports=function(t){return\"Symbol(\"+(void 0===t?\"\":t)+\")_\"+s(++i+o,36)}},function(t,e,n){var r=n(0),i=n(11),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,n){var r=n(147),i=n(56);t.exports=function(t){var e=r(t,\"string\");return i(e)?e:e+\"\"}},function(t,e,n){var r=n(148),i=n(114);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(83),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){var e=+t;return e!=e||0===e?0:(e>0?r:n)(e)}},function(t,e,n){var r=n(45),i=n(78),o=r(\"keys\");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var r=n(4),i=n(5),o=n(110),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(29),i=n(0);t.exports=\"process\"==r(i.process)},function(t,e,n){var r=n(4),i=n(2),o=n(5),s=n(89),a=n(16),u=n(85),l=function(){},c=[],h=a(\"Reflect\",\"construct\"),p=/^\\s*(?:class|function)\\b/,f=r(p.exec),d=!p.exec(l),g=function(t){if(!o(t))return!1;try{return h(l,c,t),!0}catch(t){return!1}},y=function(t){if(!o(t))return!1;switch(s(t)){case\"AsyncFunction\":case\"GeneratorFunction\":case\"AsyncGeneratorFunction\":return!1}try{return d||!!f(p,u(t))}catch(t){return!0}};y.sham=!0,t.exports=!h||i((function(){var t;return g(g.call)||!g(Object)||!g((function(){t=!0}))||t}))?y:g},function(t,e,n){var r=n(0),i=n(119),o=n(5),s=n(29),a=n(6)(\"toStringTag\"),u=r.Object,l=\"Arguments\"==s(function(){return arguments}());t.exports=i?s:function(t){var e,n,r;return void 0===t?\"Undefined\":null===t?\"Null\":\"string\"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=u(t),a))?n:l?s(e):\"Object\"==(r=s(e))&&o(e.callee)?\"Arguments\":r}},function(t,e,n){\"use strict\";var r=n(1),i=n(0),o=n(66),s=n(88),a=n(11),u=n(82),l=n(25),c=n(20),h=n(67),p=n(6),f=n(91),d=n(63),g=f(\"slice\"),y=p(\"species\"),v=i.Array,_=Math.max;r({target:\"Array\",proto:!0,forced:!g},{slice:function(t,e){var n,r,i,p=c(this),f=l(p),g=u(t,f),m=u(void 0===e?f:e,f);if(o(p)&&(n=p.constructor,(s(n)&&(n===v||o(n.prototype))||a(n)&&null===(n=n[y]))&&(n=void 0),n===v||void 0===n))return d(p,g,m);for(r=new(void 0===n?v:n)(_(m-g,0)),i=0;g<m;g++,i++)g in p&&h(r,i,p[g]);return r.length=i,r}})},function(t,e,n){var r=n(2),i=n(6),o=n(54),s=i(\"species\");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){\"use strict\";var r=n(1),i=n(9),o=n(0),s=n(4),a=n(10),u=n(5),l=n(30),c=n(14),h=n(13).f,p=n(116),f=o.Symbol,d=f&&f.prototype;if(i&&u(f)&&(!(\"description\"in d)||void 0!==f().description)){var g={},y=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:c(arguments[0]),e=l(d,this)?new f(t):void 0===t?f():f(t);return\"\"===t&&(g[e]=!0),e};p(y,f),y.prototype=d,d.constructor=y;var v=\"Symbol(test)\"==String(f(\"test\")),_=s(d.toString),m=s(d.valueOf),b=/^Symbol\\((.*)\\)[^)]+$/,x=s(\"\".replace),w=s(\"\".slice);h(d,\"description\",{configurable:!0,get:function(){var t=m(this),e=_(t);if(a(g,t))return\"\";var n=v?w(e,7,-1):x(e,b,\"$1\");return\"\"===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:y})}},function(t,e,n){var r=n(9),i=n(77).EXISTS,o=n(4),s=n(13).f,a=Function.prototype,u=o(a.toString),l=/function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/,c=o(l.exec);r&&!i&&s(a,\"name\",{configurable:!0,get:function(){try{return c(l,u(this))[1]}catch(t){return\"\"}}})},function(t,e,n){\"use strict\";var r,i,o=n(8),s=n(4),a=n(14),u=n(181),l=n(135),c=n(45),h=n(32),p=n(40).get,f=n(221),d=n(229),g=c(\"native-string-replace\",String.prototype.replace),y=RegExp.prototype.exec,v=y,_=s(\"\".charAt),m=s(\"\".indexOf),b=s(\"\".replace),x=s(\"\".slice),w=(i=/b*/g,o(y,r=/a/,\"a\"),o(y,i,\"a\"),0!==r.lastIndex||0!==i.lastIndex),E=l.BROKEN_CARET,C=void 0!==/()??/.exec(\"\")[1];(w||C||E||f||d)&&(v=function(t){var e,n,r,i,s,l,c,f=this,d=p(f),S=a(t),O=d.raw;if(O)return O.lastIndex=f.lastIndex,e=o(v,O,S),f.lastIndex=O.lastIndex,e;var P=d.groups,I=E&&f.sticky,T=o(u,f),M=f.source,A=0,L=S;if(I&&(T=b(T,\"y\",\"\"),-1===m(T,\"g\")&&(T+=\"g\"),L=x(S,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&\"\\n\"!==_(S,f.lastIndex-1))&&(M=\"(?: \"+M+\")\",L=\" \"+L,A++),n=new RegExp(\"^(?:\"+M+\")\",T)),C&&(n=new RegExp(\"^\"+M+\"$(?!\\\\s)\",T)),w&&(r=f.lastIndex),i=o(y,I?n:f,L),I?i?(i.input=x(i.input,A),i[0]=x(i[0],A),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:w&&i&&(f.lastIndex=f.global?i.index+i[0].length:r),C&&i&&i.length>1&&o(g,i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i&&P)for(i.groups=l=h(null),s=0;s<P.length;s++)l[(c=P[s])[0]]=i[c[1]];return i}),t.exports=v},function(t,e,n){var r=n(297),i=n(298),o=n(299),s=n(300),a=n(301);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e,n){var r=n(188);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(38)(Object,\"create\");t.exports=r},function(t,e,n){var r=n(319);t.exports=function(t,e){var n=t.__data__;return r(e)?n[\"string\"==typeof e?\"string\":\"hash\"]:n.map}},function(t,e,n){var r=n(130);t.exports=function(t){if(\"string\"==typeof t||r(t))return t;var e=t+\"\";return\"0\"==e&&1/t==-1/0?\"-0\":e}},function(t,e,n){var r=n(1),i=n(9),o=n(13).f;r({target:\"Object\",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return i}));n(90),n(7),n(93),n(180),n(26),n(19),n(104);var r=n(73);function i(t,e){if(t){if(\"string\"==typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},function(t,e,n){t.exports=function(){\"use strict\";function t(t,r,i,o,s){!function t(n,r,i,o,s){for(;o>i;){if(o-i>600){var a=o-i+1,u=r-i+1,l=Math.log(a),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(a-c)/a)*(u-a/2<0?-1:1);t(n,r,Math.max(i,Math.floor(r-u*c/a+h)),Math.min(o,Math.floor(r+(a-u)*c/a+h)),s)}var p=n[r],f=i,d=o;for(e(n,i,r),s(n[o],p)>0&&e(n,i,o);f<d;){for(e(n,f,d),f++,d--;s(n[f],p)<0;)f++;for(;s(n[d],p)>0;)d--}0===s(n[i],p)?e(n,i,d):e(n,++d,o),d<=r&&(i=d+1),r<=d&&(o=d-1)}}(t,r,i||0,o||t.length-1,s||n)}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function o(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,r,i){i||(i=d(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<n;o++){var s=t.children[o];a(i,t.leaf?r(s):s)}return i}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,n,r,i,o){for(var s=[n,r];s.length;)if(!((r=s.pop())-(n=s.pop())<=i)){var a=n+Math.ceil((r-n)/i/2)*i;t(e,a,n,r,o),s.push(n,a,a,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,n=[];if(!f(t,e))return n;for(var r=this.toBBox,i=[];e;){for(var o=0;o<e.children.length;o++){var s=e.children[o],a=e.leaf?r(s):s;f(t,a)&&(e.leaf?n.push(s):p(t,a)?this._all(s,n):i.push(s))}e=i.pop()}return n},r.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var i=e.children[r],o=e.leaf?this.toBBox(i):i;if(f(t,o)){if(e.leaf||p(t,o))return!0;n.push(i)}}e=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=d([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var n,r,o,s=this.data,a=this.toBBox(t),u=[],l=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),s.leaf){var c=i(t,s.children,e);if(-1!==c)return s.children.splice(c,1),u.push(s),this._condense(u),this}o||s.leaf||!p(s,a)?r?(n++,s=r.children[n],o=!1):s=null:(u.push(s),l.push(n),n=0,r=s,s=s.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},r.prototype._build=function(t,e,n,r){var i,s=n-e+1,a=this._maxEntries;if(s<=a)return o(i=d(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,r-1))),(i=d([])).leaf=!1,i.height=r;var u=Math.ceil(s/a),l=u*Math.ceil(Math.sqrt(a));g(t,e,n,l,this.compareMinX);for(var c=e;c<=n;c+=l){var h=Math.min(c+l-1,n);g(t,c,h,u,this.compareMinY);for(var p=c;p<=h;p+=u){var f=Math.min(p+u-1,h);i.children.push(this._build(t,p,f,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,s=void 0,a=0;a<e.children.length;a++){var u=e.children[a],l=c(u),h=(p=t,f=u,(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-l);h<o?(o=h,i=l<i?l:i,s=u):h===o&&l<i&&(i=l,s=u)}e=s||e.children[0]}var p,f;return e},r.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),a(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},r.prototype._split=function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var s=this._chooseSplitIndex(n,i,r),a=d(n.children.splice(s,n.children.length-s));a.height=n.height,a.leaf=n.leaf,o(n,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},r.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,n){for(var r,i,o,a,u,l,h,p=1/0,f=1/0,d=e;d<=n-e;d++){var g=s(t,0,d,this.toBBox),y=s(t,d,n,this.toBBox),v=(i=g,o=y,a=Math.max(i.minX,o.minX),u=Math.max(i.minY,o.minY),l=Math.min(i.maxX,o.maxX),h=Math.min(i.maxY,o.maxY),Math.max(0,l-a)*Math.max(0,h-u)),_=c(g)+c(y);v<p?(p=v,r=d,f=_<f?_:f):v===p&&_<f&&(f=_,r=d)}return r||n-e},r.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,o=s(t,0,e,i),u=s(t,n-e,n,i),l=h(o)+h(u),c=e;c<n-e;c++){var p=t.children[c];a(o,t.leaf?i(p):p),l+=h(o)}for(var f=n-e-1;f>=e;f--){var d=t.children[f];a(u,t.leaf?i(d):d),l+=h(u)}return l},r.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)a(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},r}()},function(t,e,n){var r,i;\n/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress\n * @license MIT */void 0===(i=\"function\"==typeof(r=function(){var t,e,n={version:\"0.2.0\"},r=n.settings={minimum:.08,easing:\"ease\",positionUsing:\"\",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role=\"bar\"]',spinnerSelector:'[role=\"spinner\"]',parent:\"body\",template:'<div class=\"bar\" role=\"bar\"><div class=\"peg\"></div></div><div class=\"spinner\" role=\"spinner\"><div class=\"spinner-icon\"></div></div>'};function i(t,e,n){return t<e?e:t>n?n:t}function o(t){return 100*(-1+t)}n.configure=function(t){var e,n;for(e in t)void 0!==(n=t[e])&&t.hasOwnProperty(e)&&(r[e]=n);return this},n.status=null,n.set=function(t){var e=n.isStarted();t=i(t,r.minimum,1),n.status=1===t?null:t;var u=n.render(!e),l=u.querySelector(r.barSelector),c=r.speed,h=r.easing;return u.offsetWidth,s((function(e){\"\"===r.positionUsing&&(r.positionUsing=n.getPositioningCSS()),a(l,function(t,e,n){var i;return(i=\"translate3d\"===r.positionUsing?{transform:\"translate3d(\"+o(t)+\"%,0,0)\"}:\"translate\"===r.positionUsing?{transform:\"translate(\"+o(t)+\"%,0)\"}:{\"margin-left\":o(t)+\"%\"}).transition=\"all \"+e+\"ms \"+n,i}(t,c,h)),1===t?(a(u,{transition:\"none\",opacity:1}),u.offsetWidth,setTimeout((function(){a(u,{transition:\"all \"+c+\"ms linear\",opacity:0}),setTimeout((function(){n.remove(),e()}),c)}),c)):setTimeout(e,c)})),this},n.isStarted=function(){return\"number\"==typeof n.status},n.start=function(){n.status||n.set(0);var t=function(){setTimeout((function(){n.status&&(n.trickle(),t())}),r.trickleSpeed)};return r.trickle&&t(),this},n.done=function(t){return t||n.status?n.inc(.3+.5*Math.random()).set(1):this},n.inc=function(t){var e=n.status;return e?(\"number\"!=typeof t&&(t=(1-e)*i(Math.random()*e,.1,.95)),e=i(e+t,0,.994),n.set(e)):n.start()},n.trickle=function(){return n.inc(Math.random()*r.trickleRate)},t=0,e=0,n.promise=function(r){return r&&\"resolved\"!==r.state()?(0===e&&n.start(),t++,e++,r.always((function(){0==--e?(t=0,n.done()):n.set((t-e)/t)})),this):this},n.render=function(t){if(n.isRendered())return document.getElementById(\"nprogress\");l(document.documentElement,\"nprogress-busy\");var e=document.createElement(\"div\");e.id=\"nprogress\",e.innerHTML=r.template;var i,s=e.querySelector(r.barSelector),u=t?\"-100\":o(n.status||0),c=document.querySelector(r.parent);return a(s,{transition:\"all 0 linear\",transform:\"translate3d(\"+u+\"%,0,0)\"}),r.showSpinner||(i=e.querySelector(r.spinnerSelector))&&p(i),c!=document.body&&l(c,\"nprogress-custom-parent\"),c.appendChild(e),e},n.remove=function(){c(document.documentElement,\"nprogress-busy\"),c(document.querySelector(r.parent),\"nprogress-custom-parent\");var t=document.getElementById(\"nprogress\");t&&p(t)},n.isRendered=function(){return!!document.getElementById(\"nprogress\")},n.getPositioningCSS=function(){var t=document.body.style,e=\"WebkitTransform\"in t?\"Webkit\":\"MozTransform\"in t?\"Moz\":\"msTransform\"in t?\"ms\":\"OTransform\"in t?\"O\":\"\";return e+\"Perspective\"in t?\"translate3d\":e+\"Transform\"in t?\"translate\":\"margin\"};var s=function(){var t=[];function e(){var n=t.shift();n&&n(e)}return function(n){t.push(n),1==t.length&&e()}}(),a=function(){var t=[\"Webkit\",\"O\",\"Moz\",\"ms\"],e={};function n(n){return n=n.replace(/^-ms-/,\"ms-\").replace(/-([\\da-z])/gi,(function(t,e){return e.toUpperCase()})),e[n]||(e[n]=function(e){var n=document.body.style;if(e in n)return e;for(var r,i=t.length,o=e.charAt(0).toUpperCase()+e.slice(1);i--;)if((r=t[i]+o)in n)return r;return e}(n))}function r(t,e,r){e=n(e),t.style[e]=r}return function(t,e){var n,i,o=arguments;if(2==o.length)for(n in e)void 0!==(i=e[n])&&e.hasOwnProperty(n)&&r(t,n,i);else r(t,o[1],o[2])}}();function u(t,e){return(\"string\"==typeof t?t:h(t)).indexOf(\" \"+e+\" \")>=0}function l(t,e){var n=h(t),r=n+e;u(n,e)||(t.className=r.substring(1))}function c(t,e){var n,r=h(t);u(t,e)&&(n=r.replace(\" \"+e+\" \",\" \"),t.className=n.substring(1,n.length-1))}function h(t){return(\" \"+(t.className||\"\")+\" \").replace(/\\s+/gi,\" \")}function p(t){t&&t.parentNode&&t.parentNode.removeChild(t)}return n})?r.call(e,n,e,t):r)||(t.exports=i)},function(t,e,n){\"use strict\";n(19);var r,i,o=n(1),s=n(0),a=n(8),u=n(4),l=n(5),c=n(11),h=(r=!1,(i=/[ac]/).exec=function(){return r=!0,/./.exec.apply(this,arguments)},!0===i.test(\"abc\")&&r),p=s.Error,f=u(/./.test);o({target:\"RegExp\",proto:!0,forced:!h},{test:function(t){var e=this.exec;if(!l(e))return f(this,t);var n=a(e,this,t);if(null!==n&&!c(n))throw new p(\"RegExp exec method returned something other than an Object or null\");return!!n}})},function(t,e,n){n(1)({target:\"Array\",stat:!0},{isArray:n(66)})},function(t,e,n){var r=n(6),i=n(32),o=n(13),s=r(\"unscopables\"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),t.exports=function(t){a[s][t]=!0}},function(t,e,n){var r=n(2),i=n(5),o=/#|\\.prototype\\./,s=function(t,e){var n=u[a(t)];return n==c||n!=l&&(i(e)?r(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,\".\").toLowerCase()},u=s.data={},l=s.NATIVE=\"N\",c=s.POLYFILL=\"P\";t.exports=s},function(t,e,n){var r=n(11),i=n(29),o=n(6)(\"match\");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:\"RegExp\"==i(t))}},function(t,e,n){\"use strict\";var r=n(1),i=n(0),o=n(2),s=n(66),a=n(11),u=n(18),l=n(25),c=n(67),h=n(169),p=n(91),f=n(6),d=n(54),g=f(\"isConcatSpreadable\"),y=i.TypeError,v=d>=51||!o((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),_=p(\"concat\"),m=function(t){if(!a(t))return!1;var e=t[g];return void 0!==e?!!e:s(t)};r({target:\"Array\",proto:!0,arity:1,forced:!v||!_},{concat:function(t){var e,n,r,i,o,s=u(this),a=h(s,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(m(o=-1===e?s:arguments[e])){if(p+(i=l(o))>9007199254740991)throw y(\"Maximum allowed index exceeded\");for(n=0;n<i;n++,p++)n in o&&c(a,p,o[n])}else{if(p>=9007199254740991)throw y(\"Maximum allowed index exceeded\");c(a,p++,o)}return a.length=p,a}})},function(t,e,n){var r=n(0),i=n(111),o=r[\"__core-js_shared__\"]||i(\"__core-js_shared__\",{});t.exports=o},function(t,e,n){var r=n(0),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(9),i=n(145),o=n(13),s=n(12),a=n(20),u=n(81);e.f=r&&!i?Object.defineProperties:function(t,e){s(t);for(var n,r=a(e),i=u(e),l=i.length,c=0;l>c;)o.f(t,n=i[c++],r[n]);return t}},function(t,e,n){var r=n(20),i=n(82),o=n(25),s=function(t){return function(e,n,s){var a,u=r(e),l=o(u),c=i(s,l);if(t&&n!=n){for(;l>c;)if((a=u[c++])!=a)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e){t.exports=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"]},function(t,e,n){\"use strict\";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(10),i=n(151),o=n(31),s=n(13);t.exports=function(t,e,n){for(var a=i(e),u=s.f,l=o.f,c=0;c<a.length;c++){var h=a[c];r(t,h)||n&&r(n,h)||u(t,h,l(e,h))}}},function(t,e,n){var r=n(0),i=n(10),o=n(5),s=n(18),a=n(84),u=n(153),l=a(\"IE_PROTO\"),c=r.Object,h=c.prototype;t.exports=u?c.getPrototypeOf:function(t){var e=s(t);if(i(e,l))return e[l];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof c?h:null}},function(t,e,n){var r=n(12),i=n(154),o=n(6)(\"species\");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[o])?e:i(n)}},function(t,e,n){var r={};r[n(6)(\"toStringTag\")]=\"z\",t.exports=\"[object z]\"===String(r)},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var r=n(89),i=n(43),o=n(59),s=n(6)(\"iterator\");t.exports=function(t){if(null!=t)return i(t,s)||i(t,\"@@iterator\")||o[r(t)]}},function(t,e,n){n(177)(\"iterator\")},function(t,e,n){var r=n(291),i=n(44),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&s.call(t,\"callee\")&&!a.call(t,\"callee\")};t.exports=u},function(t,e,n){var r=n(38)(n(27),\"Map\");t.exports=r},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&(\"object\"==e||\"function\"==e)}},function(t,e,n){var r=n(311),i=n(318),o=n(320),s=n(321),a=n(322);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e){t.exports=function(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){var r=n(23),i=n(130),o=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,s=/^\\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!(\"number\"!=n&&\"symbol\"!=n&&\"boolean\"!=n&&null!=t&&!i(t))||(s.test(t)||!o.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var r=n(51),i=n(44);t.exports=function(t){return\"symbol\"==typeof t||i(t)&&\"[object Symbol]\"==r(t)}},function(t,e){t.exports=function(t){return t}},function(t,e,n){n(382),n(383)},function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return o}));n(76),n(69),n(35),n(7),n(392),n(41),n(42),n(170),n(393),n(100);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},function(t,e,n){\"use strict\";var r=n(1),i=n(50).some;r({target:\"Array\",proto:!0,forced:!n(68)(\"some\")},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(2),i=n(0).RegExp,o=r((function(){var t=i(\"a\",\"y\");return t.lastIndex=2,null!=t.exec(\"abcd\")})),s=o||r((function(){return!i(\"a\",\"y\").sticky})),a=o||r((function(){var t=i(\"^r\",\"gy\");return t.lastIndex=2,null!=t.exec(\"str\")}));t.exports={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:o}},function(t,e,n){var r=n(0),i=n(108),o=r.TypeError;t.exports=function(t){if(i(t))throw o(\"The method doesn't accept regular expressions\");return t}},function(t,e,n){var r=n(6)(\"match\");t.exports=function(t){var e=/./;try{\"/./\"[t](e)}catch(n){try{return e[r]=!1,\"/./\"[t](e)}catch(t){}}return!1}},function(t,e,n){var r=n(5),i=n(11),o=n(61);t.exports=function(t,e,n){var s,a;return o&&r(s=e.constructor)&&s!==n&&i(a=s.prototype)&&a!==n.prototype&&o(t,a),t}},function(t,e,n){\"use strict\";n(19);var r=n(4),i=n(15),o=n(94),s=n(2),a=n(6),u=n(22),l=a(\"species\"),c=RegExp.prototype;t.exports=function(t,e,n,h){var p=a(t),f=!s((function(){var e={};return e[p]=function(){return 7},7!=\"\"[t](e)})),d=f&&!s((function(){var e=!1,n=/a/;return\"split\"===t&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags=\"\",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](\"\"),!e}));if(!f||!d||n){var g=r(/./[p]),y=e(p,\"\"[t],(function(t,e,n,i,s){var a=r(t),u=e.exec;return u===o||u===c.exec?f&&!s?{done:!0,value:g(e,n,i)}:{done:!0,value:a(n,e,i)}:{done:!1}}));i(String.prototype,t,y[0]),i(c,p,y[1])}h&&u(c[p],\"sham\",!0)}},function(t,e,n){\"use strict\";var r=n(166).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(0),i=n(8),o=n(12),s=n(5),a=n(29),u=n(94),l=r.TypeError;t.exports=function(t,e){var n=t.exec;if(s(n)){var r=i(n,t,e);return null!==r&&o(r),r}if(\"RegExp\"===a(t))return i(u,t,e);throw l(\"RegExp#exec called on incompatible receiver\")}},function(t,e,n){var r=n(8),i=n(10),o=n(30),s=n(181),a=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||\"flags\"in a||i(t,\"flags\")||!o(a,t)?e:r(s,t)}},function(t,e,n){\"use strict\";var r=n(20),i=n(106),o=n(59),s=n(40),a=n(13).f,u=n(150),l=n(17),c=n(9),h=s.set,p=s.getterFor(\"Array Iterator\");t.exports=u(Array,\"Array\",(function(t,e){h(this,{type:\"Array Iterator\",target:r(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):\"keys\"==n?{value:r,done:!1}:\"values\"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),\"values\");var f=o.Arguments=o.Array;if(i(\"keys\"),i(\"values\"),i(\"entries\"),!l&&c&&\"values\"!==f.name)try{a(f,\"name\",{value:\"values\"})}catch(t){}},function(t,e,n){var r=n(46);t.exports=r&&!Symbol.sham&&\"symbol\"==typeof Symbol.iterator},function(t,e,n){var r=n(9),i=n(2);t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),\"prototype\",{value:42,writable:!1}).prototype}))},function(t,e,n){var r=n(9),i=n(2),o=n(79);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o(\"div\"),\"a\",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(0),i=n(8),o=n(11),s=n(56),a=n(43),u=n(246),l=n(6),c=r.TypeError,h=l(\"toPrimitive\");t.exports=function(t,e){if(!o(t)||s(t))return t;var n,r=a(t,h);if(r){if(void 0===e&&(e=\"default\"),n=i(r,t,e),!o(n)||s(n))return n;throw c(\"Can't convert object to primitive value\")}return void 0===e&&(e=\"number\"),u(t,e)}},function(t,e,n){var r=n(4),i=n(10),o=n(20),s=n(113).indexOf,a=n(58),u=r([].push);t.exports=function(t,e){var n,r=o(t),l=0,c=[];for(n in r)!i(a,n)&&i(r,n)&&u(c,n);for(;e.length>l;)i(r,n=e[l++])&&(~s(c,n)||u(c,n));return c}},function(t,e,n){var r=n(16);t.exports=r(\"document\",\"documentElement\")},function(t,e,n){\"use strict\";var r=n(1),i=n(8),o=n(17),s=n(77),a=n(5),u=n(248),l=n(117),c=n(61),h=n(60),p=n(22),f=n(15),d=n(6),g=n(59),y=n(152),v=s.PROPER,_=s.CONFIGURABLE,m=y.IteratorPrototype,b=y.BUGGY_SAFARI_ITERATORS,x=d(\"iterator\"),w=function(){return this};t.exports=function(t,e,n,s,d,y,E){u(n,e,s);var C,S,O,P=function(t){if(t===d&&L)return L;if(!b&&t in M)return M[t];switch(t){case\"keys\":case\"values\":case\"entries\":return function(){return new n(this,t)}}return function(){return new n(this)}},I=e+\" Iterator\",T=!1,M=t.prototype,A=M[x]||M[\"@@iterator\"]||d&&M[d],L=!b&&A||P(d),R=\"Array\"==e&&M.entries||A;if(R&&(C=l(R.call(new t)))!==Object.prototype&&C.next&&(o||l(C)===m||(c?c(C,m):a(C[x])||f(C,x,w)),h(C,I,!0,!0),o&&(g[I]=w)),v&&\"values\"==d&&A&&\"values\"!==A.name&&(!o&&_?p(M,\"name\",\"values\"):(T=!0,L=function(){return i(A,this)})),d)if(S={values:P(\"values\"),keys:y?L:P(\"keys\"),entries:P(\"entries\")},E)for(O in S)(b||T||!(O in M))&&f(M,O,S[O]);else r({target:e,proto:!0,forced:b||T},S);return o&&!E||M[x]===L||f(M,x,L,{name:d}),g[e]=L,S}},function(t,e,n){var r=n(16),i=n(4),o=n(49),s=n(86),a=n(12),u=i([].concat);t.exports=r(\"Reflect\",\"ownKeys\")||function(t){var e=o.f(a(t)),n=s.f;return n?u(e,n(t)):e}},function(t,e,n){\"use strict\";var r,i,o,s=n(2),a=n(5),u=n(32),l=n(117),c=n(15),h=n(6),p=n(17),f=h(\"iterator\"),d=!1;[].keys&&(\"next\"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(r=i):d=!0),null==r||s((function(){var t={};return r[f].call(t)!==t}))?r={}:p&&(r=u(r)),a(r[f])||c(r,f,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},function(t,e,n){var r=n(2);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(0),i=n(88),o=n(57),s=r.TypeError;t.exports=function(t){if(i(t))return t;throw s(o(t)+\" is not a constructor\")}},function(t,e,n){var r,i,o,s,a=n(0),u=n(36),l=n(62),c=n(5),h=n(10),p=n(2),f=n(149),d=n(63),g=n(79),y=n(156),v=n(157),_=n(87),m=a.setImmediate,b=a.clearImmediate,x=a.process,w=a.Dispatch,E=a.Function,C=a.MessageChannel,S=a.String,O=0,P={};try{r=a.location}catch(t){}var I=function(t){if(h(P,t)){var e=P[t];delete P[t],e()}},T=function(t){return function(){I(t)}},M=function(t){I(t.data)},A=function(t){a.postMessage(S(t),r.protocol+\"//\"+r.host)};m&&b||(m=function(t){y(arguments.length,1);var e=c(t)?t:E(t),n=d(arguments,1);return P[++O]=function(){u(e,void 0,n)},i(O),O},b=function(t){delete P[t]},_?i=function(t){x.nextTick(T(t))}:w&&w.now?i=function(t){w.now(T(t))}:C&&!v?(s=(o=new C).port2,o.port1.onmessage=M,i=l(s.postMessage,s)):a.addEventListener&&c(a.postMessage)&&!a.importScripts&&r&&\"file:\"!==r.protocol&&!p(A)?(i=A,a.addEventListener(\"message\",M,!1)):i=\"onreadystatechange\"in g(\"script\")?function(t){f.appendChild(g(\"script\")).onreadystatechange=function(){f.removeChild(this),I(t)}}:function(t){setTimeout(T(t),0)}),t.exports={set:m,clear:b}},function(t,e,n){var r=n(0).TypeError;t.exports=function(t,e){if(t<e)throw r(\"Not enough arguments\");return t}},function(t,e,n){var r=n(55);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(t,e,n){var r=n(0),i=n(62),o=n(8),s=n(12),a=n(57),u=n(159),l=n(25),c=n(30),h=n(160),p=n(121),f=n(161),d=r.TypeError,g=function(t,e){this.stopped=t,this.result=e},y=g.prototype;t.exports=function(t,e,n){var r,v,_,m,b,x,w,E=n&&n.that,C=!(!n||!n.AS_ENTRIES),S=!(!n||!n.IS_ITERATOR),O=!(!n||!n.INTERRUPTED),P=i(e,E),I=function(t){return r&&f(r,\"normal\",t),new g(!0,t)},T=function(t){return C?(s(t),O?P(t[0],t[1],I):P(t[0],t[1])):O?P(t,I):P(t)};if(S)r=t;else{if(!(v=p(t)))throw d(a(t)+\" is not iterable\");if(u(v)){for(_=0,m=l(t);m>_;_++)if((b=T(t[_]))&&c(y,b))return b;return new g(!1)}r=h(t,v)}for(x=r.next;!(w=o(x,r)).done;){try{b=T(w.value)}catch(t){f(r,\"throw\",t)}if(\"object\"==typeof b&&b&&c(y,b))return b}return new g(!1)}},function(t,e,n){var r=n(6),i=n(59),o=r(\"iterator\"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},function(t,e,n){var r=n(0),i=n(8),o=n(24),s=n(12),a=n(57),u=n(121),l=r.TypeError;t.exports=function(t,e){var n=arguments.length<2?u(t):e;if(o(n))return s(i(n,t));throw l(a(t)+\" is not iterable\")}},function(t,e,n){var r=n(8),i=n(12),o=n(43);t.exports=function(t,e,n){var s,a;i(t);try{if(!(s=o(t,\"return\"))){if(\"throw\"===e)throw n;return n}s=r(s,t)}catch(t){a=!0,s=t}if(\"throw\"===e)throw n;if(a)throw s;return i(s),n}},function(t,e,n){var r=n(48),i=n(163),o=n(64).CONSTRUCTOR;t.exports=o||!i((function(t){r.all(t).then(void 0,(function(){}))}))},function(t,e,n){var r=n(6)(\"iterator\"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){var r=n(12),i=n(11),o=n(65);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e){!function(e){\"use strict\";var n=Object.prototype,r=n.hasOwnProperty,i=\"function\"==typeof Symbol?Symbol:{},o=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",a=i.toStringTag||\"@@toStringTag\",u=\"object\"==typeof t,l=e.regeneratorRuntime;if(l)u&&(t.exports=l);else{(l=e.regeneratorRuntime=u?t.exports:{}).wrap=g;var c={},h={};h[o]=function(){return this};var p=Object.getPrototypeOf,f=p&&p(p(O([])));f&&f!==n&&r.call(f,o)&&(h=f);var d=m.prototype=v.prototype=Object.create(h);_.prototype=d.constructor=m,m.constructor=_,m[a]=_.displayName=\"GeneratorFunction\",l.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===_||\"GeneratorFunction\"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,a in t||(t[a]=\"GeneratorFunction\")),t.prototype=Object.create(d),t},l.awrap=function(t){return{__await:t}},b(x.prototype),x.prototype[s]=function(){return this},l.AsyncIterator=x,l.async=function(t,e,n,r){var i=new x(g(t,e,n,r));return l.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(d),d[a]=\"Generator\",d[o]=function(){return this},d.toString=function(){return\"[object Generator]\"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=O,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)\"t\"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return s.type=\"throw\",s.arg=t,e.next=n,r&&(e.method=\"next\",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if(\"root\"===o.tryLoc)return n(\"end\");if(o.tryLoc<=this.prev){var a=r.call(o,\"catchLoc\"),u=r.call(o,\"finallyLoc\");if(a&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,\"finallyLoc\")&&this.prev<i.finallyLoc){var o=i;break}}o&&(\"break\"===t||\"continue\"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method=\"next\",this.next=o.finallyLoc,c):this.complete(s)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var i=r.arg;C(n)}return i}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,e,n){return this.delegate={iterator:O(t),resultName:e,nextLoc:n},\"next\"===this.method&&(this.arg=void 0),c}}}function g(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),s=new S(r||[]);return o._invoke=function(t,e,n){var r=\"suspendedStart\";return function(i,o){if(\"executing\"===r)throw new Error(\"Generator is already running\");if(\"completed\"===r){if(\"throw\"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===c)continue;return a}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(\"suspendedStart\"===r)throw r=\"completed\",n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);r=\"executing\";var u=y(t,e,n);if(\"normal\"===u.type){if(r=n.done?\"completed\":\"suspendedYield\",u.arg===c)continue;return{value:u.arg,done:n.done}}\"throw\"===u.type&&(r=\"completed\",n.method=\"throw\",n.arg=u.arg)}}}(t,n,s),o}function y(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}function v(){}function _(){}function m(){}function b(t){[\"next\",\"throw\",\"return\"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function x(t){var e;this._invoke=function(n,i){function o(){return new Promise((function(e,o){!function e(n,i,o,s){var a=y(t[n],t,i);if(\"throw\"!==a.type){var u=a.arg,l=u.value;return l&&\"object\"==typeof l&&r.call(l,\"__await\")?Promise.resolve(l.__await).then((function(t){e(\"next\",t,o,s)}),(function(t){e(\"throw\",t,o,s)})):Promise.resolve(l).then((function(t){u.value=t,o(u)}),s)}s(a.arg)}(n,i,e,o)}))}return e=e?e.then(o,o):o()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,\"throw\"===e.method){if(t.iterator.return&&(e.method=\"return\",e.arg=void 0,w(t,e),\"throw\"===e.method))return c;e.method=\"throw\",e.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return c}var r=y(n,t.iterator,e.arg);if(\"throw\"===r.type)return e.method=\"throw\",e.arg=r.arg,e.delegate=null,c;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,\"return\"!==e.method&&(e.method=\"next\",e.arg=void 0),e.delegate=null,c):i:(e.method=\"throw\",e.arg=new TypeError(\"iterator result is not an object\"),e.delegate=null,c)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(E,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}}(function(){return this}()||Function(\"return this\")())},function(t,e,n){var r=n(4),i=n(83),o=n(14),s=n(21),a=r(\"\".charAt),u=r(\"\".charCodeAt),l=r(\"\".slice),c=function(t){return function(e,n){var r,c,h=o(s(e)),p=i(n),f=h.length;return p<0||p>=f?t?\"\":void 0:(r=u(h,p))<55296||r>56319||p+1===f||(c=u(h,p+1))<56320||c>57343?t?a(h,p):r:t?l(h,p,p+2):c-56320+(r-55296<<10)+65536}};t.exports={codeAt:c(!1),charAt:c(!0)}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var r=n(79)(\"span\").classList,i=r&&r.constructor&&r.constructor.prototype;t.exports=i===Object.prototype?void 0:i},function(t,e,n){var r=n(268);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},function(t,e,n){var r=n(1),i=n(9),o=n(151),s=n(20),a=n(31),u=n(67);r({target:\"Object\",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,n,r=s(t),i=a.f,l=o(r),c={},h=0;l.length>h;)void 0!==(n=i(r,e=l[h++]))&&u(c,e,n);return c}})},function(t,e,n){var r=n(1),i=n(2),o=n(18),s=n(117),a=n(153);r({target:\"Object\",stat:!0,forced:i((function(){s(1)})),sham:!a},{getPrototypeOf:function(t){return s(o(t))}})},function(t,e,n){\"use strict\";var r=n(50).forEach,i=n(68)(\"forEach\");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){var r=n(2);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){var r=n(29),i=n(20),o=n(49).f,s=n(175),a=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&\"Window\"==r(t)?function(t){try{return o(t)}catch(t){return s(a)}}(t):o(i(t))}},function(t,e,n){var r=n(0),i=n(82),o=n(25),s=n(67),a=r.Array,u=Math.max;t.exports=function(t,e,n){for(var r=o(t),l=i(e,r),c=i(void 0===n?r:n,r),h=a(u(c-l,0)),p=0;l<c;l++,p++)s(h,p,t[l]);return h.length=p,h}},function(t,e,n){var r=n(6);e.f=r},function(t,e,n){var r=n(277),i=n(10),o=n(176),s=n(13).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||s(e,t,{value:o.f(t)})}},function(t,e,n){var r=n(46);t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},function(t,e,n){var r=n(1),i=n(16),o=n(36),s=n(8),a=n(4),u=n(2),l=n(66),c=n(5),h=n(11),p=n(56),f=n(63),d=n(46),g=i(\"JSON\",\"stringify\"),y=a(/./.exec),v=a(\"\".charAt),_=a(\"\".charCodeAt),m=a(\"\".replace),b=a(1..toString),x=/[\\uD800-\\uDFFF]/g,w=/^[\\uD800-\\uDBFF]$/,E=/^[\\uDC00-\\uDFFF]$/,C=!d||u((function(){var t=i(\"Symbol\")();return\"[null]\"!=g([t])||\"{}\"!=g({a:t})||\"{}\"!=g(Object(t))})),S=u((function(){return'\"\\\\udf06\\\\ud834\"'!==g(\"\\udf06\\ud834\")||'\"\\\\udead\"'!==g(\"\\udead\")})),O=function(t,e){var n=f(arguments),r=e;if((h(e)||void 0!==t)&&!p(t))return l(e)||(e=function(t,e){if(c(r)&&(e=s(r,this,t,e)),!p(e))return e}),n[1]=e,o(g,null,n)},P=function(t,e,n){var r=v(n,e-1),i=v(n,e+1);return y(w,t)&&!y(E,i)||y(E,t)&&!y(w,r)?\"\\\\u\"+b(_(t,0),16):t};g&&r({target:\"JSON\",stat:!0,arity:3,forced:C||S},{stringify:function(t,e,n){var r=f(arguments),i=o(C?O:g,null,r);return S&&\"string\"==typeof i?m(i,x,P):i}})},function(t,e,n){var r=n(1),i=n(282);r({target:\"Array\",stat:!0,forced:!n(163)((function(t){Array.from(t)}))},{from:i})},function(t,e,n){\"use strict\";var r=n(12);t.exports=function(){var t=r(this),e=\"\";return t.hasIndices&&(e+=\"d\"),t.global&&(e+=\"g\"),t.ignoreCase&&(e+=\"i\"),t.multiline&&(e+=\"m\"),t.dotAll&&(e+=\"s\"),t.unicode&&(e+=\"u\"),t.sticky&&(e+=\"y\"),e}},function(t,e,n){var r=n(14);t.exports=function(t,e){return void 0===t?arguments.length<2?\"\":e:r(t)}},function(t,e,n){n(1)({target:\"Object\",stat:!0,sham:!n(9)},{create:n(32)})},function(t,e,n){var r=n(4),i=n(18),o=Math.floor,s=r(\"\".charAt),a=r(\"\".replace),u=r(\"\".slice),l=/\\$([$&'`]|\\d{1,2}|<[^>]*>)/g,c=/\\$([$&'`]|\\d{1,2})/g;t.exports=function(t,e,n,r,h,p){var f=n+t.length,d=r.length,g=c;return void 0!==h&&(h=i(h),g=l),a(p,g,(function(i,a){var l;switch(s(a,0)){case\"$\":return\"$\";case\"&\":return t;case\"`\":return u(e,0,n);case\"'\":return u(e,f);case\"<\":l=h[u(a,1,-1)];break;default:var c=+a;if(0===c)return i;if(c>d){var p=o(c/10);return 0===p?i:p<=d?void 0===r[p-1]?s(a,1):r[p-1]+s(a,1):i}l=r[c-1]}return void 0===l?\"\":l}))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e){var n=\"object\"==typeof global&&global&&global.Object===Object&&global;t.exports=n},function(t,e,n){var r=n(95),i=n(302),o=n(303),s=n(304),a=n(305),u=n(306);function l(t){var e=this.__data__=new r(t);this.size=e.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=s,l.prototype.has=a,l.prototype.set=u,t.exports=l},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(51),i=n(125);t.exports=function(t){if(!i(t))return!1;var e=r(t);return\"[object Function]\"==e||\"[object GeneratorFunction]\"==e||\"[object AsyncFunction]\"==e||\"[object Proxy]\"==e}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}},function(t,e,n){var r=n(323),i=n(44);t.exports=function t(e,n,o,s,a){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,s,t,a))}},function(t,e,n){var r=n(193),i=n(326),o=n(194);t.exports=function(t,e,n,s,a,u){var l=1&n,c=t.length,h=e.length;if(c!=h&&!(l&&h>c))return!1;var p=u.get(t),f=u.get(e);if(p&&f)return p==e&&f==t;var d=-1,g=!0,y=2&n?new r:void 0;for(u.set(t,e),u.set(e,t);++d<c;){var v=t[d],_=e[d];if(s)var m=l?s(_,v,d,e,t,u):s(v,_,d,t,e,u);if(void 0!==m){if(m)continue;g=!1;break}if(y){if(!i(e,(function(t,e){if(!o(y,e)&&(v===t||a(v,t,n,s,u)))return y.push(e)}))){g=!1;break}}else if(v!==_&&!a(v,_,n,s,u)){g=!1;break}}return u.delete(t),u.delete(e),g}},function(t,e,n){var r=n(126),i=n(324),o=n(325);function s(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,t.exports=s},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(336),i=n(342),o=n(200);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){(function(t){var r=n(27),i=n(338),o=e&&!e.nodeType&&e,s=o&&\"object\"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o?r.Buffer:void 0,u=(a?a.isBuffer:void 0)||i;t.exports=u}).call(this,n(197)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,\"loaded\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\"id\",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var n=/^(?:0|[1-9]\\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&(\"number\"==r||\"symbol\"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(339),i=n(340),o=n(341),s=o&&o.isTypedArray,a=s?i(s):r;t.exports=a},function(t,e,n){var r=n(189),i=n(128);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){var r=n(38)(n(27),\"Set\");t.exports=r},function(t,e,n){var r=n(125);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e,n){var r=n(205),i=n(99);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(23),i=n(129),o=n(352),s=n(355);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(s(t))}},function(t,e,n){var r=n(0),i=n(36),o=n(5),s=n(55),a=n(63),u=n(156),l=/MSIE .\\./.test(s),c=r.Function,h=function(t){return l?function(e,n){var r=u(arguments.length,1)>2,s=o(e)?e:c(e),l=r?a(arguments,2):void 0;return t(r?function(){i(s,this,l)}:s,n)}:t};t.exports={setTimeout:h(r.setTimeout),setInterval:h(r.setInterval)}},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){n(1)({target:\"Object\",stat:!0},{setPrototypeOf:n(61)})},function(t,e,n){var r=n(1),i=n(16),o=n(36),s=n(400),a=n(154),u=n(12),l=n(11),c=n(32),h=n(2),p=i(\"Reflect\",\"construct\"),f=Object.prototype,d=[].push,g=h((function(){function t(){}return!(p((function(){}),[],t)instanceof t)})),y=!h((function(){p((function(){}))})),v=g||y;r({target:\"Reflect\",stat:!0,forced:v,sham:v},{construct:function(t,e){a(t),u(e);var n=arguments.length<3?t:a(arguments[2]);if(y&&!g)return p(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return o(d,r,e),new(o(s,t,r))}var i=n.prototype,h=c(l(i)?i:f),v=o(t,h,e);return l(v)?v:h}})},function(t,e,n){var r=n(1),i=n(0),o=n(60);r({global:!0},{Reflect:{}}),o(i.Reflect,\"Reflect\",!0)},function(t,e,n){},function(t,e,n){},function(t,e,n){var r=n(289),i=n(294),o=n(364),s=n(372),a=n(381),u=n(234),l=o((function(t){var e=u(t);return a(e)&&(e=void 0),s(r(t,1,a,!0),i(e,2))}));t.exports=l},function(t,e,n){\"use strict\";\n/*!\n * escape-html\n * Copyright(c) 2012-2013 TJ Holowaychuk\n * Copyright(c) 2015 Andreas Lubbe\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\n * MIT Licensed\n */var r=/[\"'&<>]/;t.exports=function(t){var e,n=\"\"+t,i=r.exec(n);if(!i)return n;var o=\"\",s=0,a=0;for(s=i.index;s<n.length;s++){switch(n.charCodeAt(s)){case 34:e=\"&quot;\";break;case 38:e=\"&amp;\";break;case 39:e=\"&#39;\";break;case 60:e=\"&lt;\";break;case 62:e=\"&gt;\";break;default:continue}a!==s&&(o+=n.substring(a,s)),a=s+1,o+=e}return a!==s?o+n.substring(a,s):o}},function(t,e){var n=/^\\s+|\\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,a=\"object\"==typeof global&&global&&global.Object===Object&&global,u=\"object\"==typeof self&&self&&self.Object===Object&&self,l=a||u||Function(\"return this\")(),c=Object.prototype.toString,h=Math.max,p=Math.min,f=function(){return l.Date.now()};function d(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function g(t){if(\"number\"==typeof t)return t;if(function(t){return\"symbol\"==typeof t||function(t){return!!t&&\"object\"==typeof t}(t)&&\"[object Symbol]\"==c.call(t)}(t))return NaN;if(d(t)){var e=\"function\"==typeof t.valueOf?t.valueOf():t;t=d(e)?e+\"\":e}if(\"string\"!=typeof t)return 0===t?t:+t;t=t.replace(n,\"\");var a=i.test(t);return a||o.test(t)?s(t.slice(2),a?2:8):r.test(t)?NaN:+t}t.exports=function(t,e,n){var r,i,o,s,a,u,l=0,c=!1,y=!1,v=!0;if(\"function\"!=typeof t)throw new TypeError(\"Expected a function\");function _(e){var n=r,o=i;return r=i=void 0,l=e,s=t.apply(o,n)}function m(t){return l=t,a=setTimeout(x,e),c?_(t):s}function b(t){var n=t-u;return void 0===u||n>=e||n<0||y&&t-l>=o}function x(){var t=f();if(b(t))return w(t);a=setTimeout(x,function(t){var n=e-(t-u);return y?p(n,o-(t-l)):n}(t))}function w(t){return a=void 0,v&&r?_(t):(r=i=void 0,s)}function E(){var t=f(),n=b(t);if(r=arguments,i=this,u=t,n){if(void 0===a)return m(u);if(y)return a=setTimeout(x,e),_(u)}return void 0===a&&(a=setTimeout(x,e)),s}return e=g(e)||0,d(n)&&(c=!!n.leading,o=(y=\"maxWait\"in n)?h(g(n.maxWait)||0,e):o,v=\"trailing\"in n?!!n.trailing:v),E.cancel=function(){void 0!==a&&clearTimeout(a),l=0,r=u=i=a=void 0},E.flush=function(){return void 0===a?s:w(f())},E}},function(t){t.exports=JSON.parse('[{\"lang\":\"zh-CN\",\"demo-block\":{\"hide-text\":\"隐藏代码\",\"show-text\":\"显示代码\",\"copy-text\":\"复制代码\",\"copy-success\":\"复制成功\"}},{\"lang\":\"en-US\",\"demo-block\":{\"hide-text\":\"Hide\",\"show-text\":\"Expand\",\"copy-text\":\"Copy\",\"copy-success\":\"Successful\"}}]')},function(t,e,n){\"use strict\";var r=n(1),i=n(4),o=n(113).indexOf,s=n(68),a=i([].indexOf),u=!!a&&1/a([1],1,-0)<0,l=s(\"indexOf\");r({target:\"Array\",proto:!0,forced:u||!l},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return u?a(this,t,e)||0:o(this,t,e)}})},function(t,e,n){var r=n(2),i=n(0).RegExp;t.exports=r((function(){var t=i(\".\",\"s\");return!(t.dotAll&&t.exec(\"\\n\")&&\"s\"===t.flags)}))},function(t,e,n){\"use strict\";var r=n(1),i=n(4),o=n(52),s=n(20),a=n(68),u=i([].join),l=o!=Object,c=a(\"join\",\",\");r({target:\"Array\",proto:!0,forced:l||!c},{join:function(t){return u(s(this),void 0===t?\",\":t)}})},function(t,e,n){var r=n(4),i=n(21),o=n(14),s=n(224),a=r(\"\".replace),u=\"[\"+s+\"]\",l=RegExp(\"^\"+u+u+\"*\"),c=RegExp(u+u+\"*$\"),h=function(t){return function(e){var n=o(i(e));return 1&t&&(n=a(n,l,\"\")),2&t&&(n=a(n,c,\"\")),n}};t.exports={start:h(1),end:h(2),trim:h(3)}},function(t,e){t.exports=\"\\t\\n\\v\\f\\r                　\\u2028\\u2029\\ufeff\"},function(t,e,n){\"use strict\";var r=n(77).PROPER,i=n(15),o=n(12),s=n(14),a=n(2),u=n(142),l=RegExp.prototype.toString,c=a((function(){return\"/a/b\"!=l.call({source:\"a\",flags:\"b\"})})),h=r&&\"toString\"!=l.name;(c||h)&&i(RegExp.prototype,\"toString\",(function(){var t=o(this);return\"/\"+s(t.source)+\"/\"+s(u(t))}),{unsafe:!0})},function(t,e,n){\"use strict\";var r=n(36),i=n(8),o=n(4),s=n(139),a=n(108),u=n(12),l=n(21),c=n(118),h=n(140),p=n(75),f=n(14),d=n(43),g=n(175),y=n(141),v=n(94),_=n(135),m=n(2),b=_.UNSUPPORTED_Y,x=Math.min,w=[].push,E=o(/./.exec),C=o(w),S=o(\"\".slice);s(\"split\",(function(t,e,n){var o;return o=\"c\"==\"abbc\".split(/(b)*/)[1]||4!=\"test\".split(/(?:)/,-1).length||2!=\"ab\".split(/(?:ab)*/).length||4!=\".\".split(/(.?)(.?)/).length||\".\".split(/()()/).length>1||\"\".split(/.?/).length?function(t,n){var o=f(l(this)),s=void 0===n?4294967295:n>>>0;if(0===s)return[];if(void 0===t)return[o];if(!a(t))return i(e,o,t,s);for(var u,c,h,p=[],d=(t.ignoreCase?\"i\":\"\")+(t.multiline?\"m\":\"\")+(t.unicode?\"u\":\"\")+(t.sticky?\"y\":\"\"),y=0,_=new RegExp(t.source,d+\"g\");(u=i(v,_,o))&&!((c=_.lastIndex)>y&&(C(p,S(o,y,u.index)),u.length>1&&u.index<o.length&&r(w,p,g(u,1)),h=u[0].length,y=c,p.length>=s));)_.lastIndex===u.index&&_.lastIndex++;return y===o.length?!h&&E(_,\"\")||C(p,\"\"):C(p,S(o,y)),p.length>s?g(p,0,s):p}:\"0\".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:i(e,this,t,n)}:e,[function(e,n){var r=l(this),s=null==e?void 0:d(e,t);return s?i(s,e,r,n):i(o,f(r),e,n)},function(t,r){var i=u(this),s=f(t),a=n(o,i,s,r,o!==e);if(a.done)return a.value;var l=c(i,RegExp),d=i.unicode,g=(i.ignoreCase?\"i\":\"\")+(i.multiline?\"m\":\"\")+(i.unicode?\"u\":\"\")+(b?\"g\":\"y\"),v=new l(b?\"^(?:\"+i.source+\")\":i,g),_=void 0===r?4294967295:r>>>0;if(0===_)return[];if(0===s.length)return null===y(v,s)?[s]:[];for(var m=0,w=0,E=[];w<s.length;){v.lastIndex=b?0:w;var O,P=y(v,b?S(s,w):s);if(null===P||(O=x(p(v.lastIndex+(b?w:0)),s.length))===m)w=h(s,w,d);else{if(C(E,S(s,m,w)),E.length===_)return E;for(var I=1;I<=P.length-1;I++)if(C(E,P[I]),E.length===_)return E;w=m=O}}return C(E,S(s,m)),E}]}),!!m((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n=\"ab\".split(t);return 2!==n.length||\"a\"!==n[0]||\"b\"!==n[1]})),b)},function(t,e,n){var r=n(2),i=n(5),o=n(10),s=n(9),a=n(77).CONFIGURABLE,u=n(85),l=n(40),c=l.enforce,h=l.get,p=Object.defineProperty,f=s&&!r((function(){return 8!==p((function(){}),\"length\",{value:8}).length})),d=String(String).split(\"String\"),g=t.exports=function(t,e,n){if(\"Symbol(\"===String(e).slice(0,7)&&(e=\"[\"+String(e).replace(/^Symbol\\(([^)]*)\\)/,\"$1\")+\"]\"),n&&n.getter&&(e=\"get \"+e),n&&n.setter&&(e=\"set \"+e),(!o(t,\"name\")||a&&t.name!==e)&&p(t,\"name\",{value:e,configurable:!0}),f&&n&&o(n,\"arity\")&&t.length!==n.arity&&p(t,\"length\",{value:n.arity}),n&&o(n,\"constructor\")&&n.constructor){if(s)try{p(t,\"prototype\",{writable:!1})}catch(t){}}else t.prototype=void 0;var r=c(t);return o(r,\"source\")||(r.source=d.join(\"string\"==typeof e?e:\"\")),t};Function.prototype.toString=g((function(){return i(this)&&h(this).source||u(this)}),\"toString\")},function(t,e,n){\"use strict\";var r=n(16),i=n(13),o=n(6),s=n(9),a=o(\"species\");t.exports=function(t){var e=r(t),n=i.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(2),i=n(0).RegExp;t.exports=r((function(){var t=i(\"(?<a>b)\",\"g\");return\"b\"!==t.exec(\"b\").groups.a||\"bc\"!==\"b\".replace(t,\"$<a>c\")}))},function(t,e,n){var r=n(13).f;t.exports=function(t,e,n){n in t||r(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},function(t,e,n){\"use strict\";var r=n(1),i=n(113).includes,o=n(2),s=n(106);r({target:\"Array\",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s(\"includes\")},function(t,e,n){\"use strict\";var r=n(1),i=n(4),o=n(136),s=n(21),a=n(14),u=n(137),l=i(\"\".indexOf);r({target:\"String\",proto:!0,forced:!u(\"includes\")},{includes:function(t){return!!~l(a(s(this)),a(o(t)),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(204);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},,,,,,,,,,,function(t,e,n){t.exports=n(403)},function(t,e,n){var r=n(0),i=n(8),o=n(5),s=n(11),a=r.TypeError;t.exports=function(t,e){var n,r;if(\"string\"===e&&o(n=t.toString)&&!s(r=i(n,t)))return r;if(o(n=t.valueOf)&&!s(r=i(n,t)))return r;if(\"string\"!==e&&o(n=t.toString)&&!s(r=i(n,t)))return r;throw a(\"Can't convert object to primitive value\")}},function(t,e,n){var r=n(0),i=n(5),o=n(85),s=r.WeakMap;t.exports=i(s)&&/native code/.test(o(s))},function(t,e,n){\"use strict\";var r=n(152).IteratorPrototype,i=n(32),o=n(47),s=n(60),a=n(59),u=function(){return this};t.exports=function(t,e,n,l){var c=e+\" Iterator\";return t.prototype=i(r,{next:o(+!l,n)}),s(t,c,!1,!0),a[c]=u,t}},function(t,e,n){var r=n(0),i=n(5),o=r.String,s=r.TypeError;t.exports=function(t){if(\"object\"==typeof t||i(t))return t;throw s(\"Can't set \"+o(t)+\" as a prototype\")}},function(t,e,n){n(251),n(259),n(260),n(261),n(262),n(263)},function(t,e,n){\"use strict\";var r,i,o,s=n(1),a=n(17),u=n(87),l=n(0),c=n(8),h=n(15),p=n(61),f=n(60),d=n(228),g=n(24),y=n(5),v=n(11),_=n(252),m=n(118),b=n(155).set,x=n(253),w=n(256),E=n(120),C=n(257),S=n(40),O=n(48),P=n(64),I=n(65),T=P.CONSTRUCTOR,M=P.REJECTION_EVENT,A=P.SUBCLASSING,L=S.getterFor(\"Promise\"),R=S.set,N=O&&O.prototype,F=O,j=N,D=l.TypeError,k=l.document,G=l.process,B=I.f,z=B,V=!!(k&&k.createEvent&&l.dispatchEvent),q=function(t){var e;return!(!v(t)||!y(e=t.then))&&e},U=function(t,e){var n,r,i,o=e.value,s=1==e.state,a=s?t.ok:t.fail,u=t.resolve,l=t.reject,h=t.domain;try{a?(s||(2===e.rejection&&H(e),e.rejection=1),!0===a?n=o:(h&&h.enter(),n=a(o),h&&(h.exit(),i=!0)),n===t.promise?l(D(\"Promise-chain cycle\")):(r=q(n))?c(r,n,u,l):u(n)):l(o)}catch(t){h&&!i&&h.exit(),l(t)}},$=function(t,e){t.notified||(t.notified=!0,x((function(){for(var n,r=t.reactions;n=r.get();)U(n,t);t.notified=!1,e&&!t.rejection&&Y(t)})))},X=function(t,e,n){var r,i;V?((r=k.createEvent(\"Event\")).promise=e,r.reason=n,r.initEvent(t,!1,!0),l.dispatchEvent(r)):r={promise:e,reason:n},!M&&(i=l[\"on\"+t])?i(r):\"unhandledrejection\"===t&&w(\"Unhandled promise rejection\",n)},Y=function(t){c(b,l,(function(){var e,n=t.facade,r=t.value;if(W(t)&&(e=E((function(){u?G.emit(\"unhandledRejection\",r,n):X(\"unhandledrejection\",n,r)})),t.rejection=u||W(t)?2:1,e.error))throw e.value}))},W=function(t){return 1!==t.rejection&&!t.parent},H=function(t){c(b,l,(function(){var e=t.facade;u?G.emit(\"rejectionHandled\",e):X(\"rejectionhandled\",e,t.value)}))},K=function(t,e,n){return function(r){t(e,r,n)}},Z=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,$(t,!0))},J=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw D(\"Promise can't be resolved itself\");var r=q(e);r?x((function(){var n={done:!1};try{c(r,e,K(J,n,t),K(Z,n,t))}catch(e){Z(n,e,t)}})):(t.value=e,t.state=1,$(t,!1))}catch(e){Z({done:!1},e,t)}}};if(T&&(j=(F=function(t){_(this,j),g(t),c(r,this);var e=L(this);try{t(K(J,e),K(Z,e))}catch(t){Z(e,t)}}).prototype,(r=function(t){R(this,{type:\"Promise\",done:!1,notified:!1,parent:!1,reactions:new C,rejection:!1,state:0,value:void 0})}).prototype=h(j,\"then\",(function(t,e){var n=L(this),r=B(m(this,F));return n.parent=!0,r.ok=!y(t)||t,r.fail=y(e)&&e,r.domain=u?G.domain:void 0,0==n.state?n.reactions.add(r):x((function(){U(r,n)})),r.promise})),i=function(){var t=new r,e=L(t);this.promise=t,this.resolve=K(J,e),this.reject=K(Z,e)},I.f=B=function(t){return t===F||void 0===t?new i(t):z(t)},!a&&y(O)&&N!==Object.prototype)){o=N.then,A||h(N,\"then\",(function(t,e){var n=this;return new F((function(t,e){c(o,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete N.constructor}catch(t){}p&&p(N,j)}s({global:!0,constructor:!0,wrap:!0,forced:T},{Promise:F}),f(F,\"Promise\",!1,!0),d(\"Promise\")},function(t,e,n){var r=n(0),i=n(30),o=r.TypeError;t.exports=function(t,e){if(i(e,t))return t;throw o(\"Incorrect invocation\")}},function(t,e,n){var r,i,o,s,a,u,l,c,h=n(0),p=n(62),f=n(31).f,d=n(155).set,g=n(157),y=n(254),v=n(255),_=n(87),m=h.MutationObserver||h.WebKitMutationObserver,b=h.document,x=h.process,w=h.Promise,E=f(h,\"queueMicrotask\"),C=E&&E.value;C||(r=function(){var t,e;for(_&&(t=x.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?s():o=void 0,t}}o=void 0,t&&t.enter()},g||_||v||!m||!b?!y&&w&&w.resolve?((l=w.resolve(void 0)).constructor=w,c=p(l.then,l),s=function(){c(r)}):_?s=function(){x.nextTick(r)}:(d=p(d,h),s=function(){d(r)}):(a=!0,u=b.createTextNode(\"\"),new m(r).observe(u,{characterData:!0}),s=function(){u.data=a=!a})),t.exports=C||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,s()),o=e}},function(t,e,n){var r=n(55),i=n(0);t.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},function(t,e,n){var r=n(55);t.exports=/web0s(?!.*chrome)/i.test(r)},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}},function(t,e){var n=function(){this.head=null,this.tail=null};n.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},t.exports=n},function(t,e){t.exports=\"object\"==typeof window&&\"object\"!=typeof Deno},function(t,e,n){\"use strict\";var r=n(1),i=n(8),o=n(24),s=n(65),a=n(120),u=n(158);r({target:\"Promise\",stat:!0,forced:n(162)},{all:function(t){var e=this,n=s.f(e),r=n.resolve,l=n.reject,c=a((function(){var n=o(e.resolve),s=[],a=0,c=1;u(t,(function(t){var o=a++,u=!1;c++,i(n,e,t).then((function(t){u||(u=!0,s[o]=t,--c||r(s))}),l)})),--c||r(s)}));return c.error&&l(c.value),n.promise}})},function(t,e,n){\"use strict\";var r=n(1),i=n(17),o=n(64).CONSTRUCTOR,s=n(48),a=n(16),u=n(5),l=n(15),c=s&&s.prototype;if(r({target:\"Promise\",proto:!0,forced:o,real:!0},{catch:function(t){return this.then(void 0,t)}}),!i&&u(s)){var h=a(\"Promise\").prototype.catch;c.catch!==h&&l(c,\"catch\",h,{unsafe:!0})}},function(t,e,n){\"use strict\";var r=n(1),i=n(8),o=n(24),s=n(65),a=n(120),u=n(158);r({target:\"Promise\",stat:!0,forced:n(162)},{race:function(t){var e=this,n=s.f(e),r=n.reject,l=a((function(){var s=o(e.resolve);u(t,(function(t){i(s,e,t).then(n.resolve,r)}))}));return l.error&&r(l.value),n.promise}})},function(t,e,n){\"use strict\";var r=n(1),i=n(8),o=n(65);r({target:\"Promise\",stat:!0,forced:n(64).CONSTRUCTOR},{reject:function(t){var e=o.f(this);return i(e.reject,void 0,t),e.promise}})},function(t,e,n){\"use strict\";var r=n(1),i=n(16),o=n(17),s=n(48),a=n(64).CONSTRUCTOR,u=n(164),l=i(\"Promise\"),c=o&&!a;r({target:\"Promise\",stat:!0,forced:o||a},{resolve:function(t){return u(c&&this===l?s:this,t)}})},function(t,e,n){var r=n(1),i=n(265);r({target:\"Object\",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},function(t,e,n){\"use strict\";var r=n(9),i=n(4),o=n(8),s=n(2),a=n(81),u=n(86),l=n(115),c=n(18),h=n(52),p=Object.assign,f=Object.defineProperty,d=i([].concat);t.exports=!p||s((function(){if(r&&1!==p({b:1},p(f({},\"a\",{enumerable:!0,get:function(){f(this,\"b\",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,\"abcdefghijklmnopqrst\".split(\"\").forEach((function(t){e[t]=t})),7!=p({},t)[n]||\"abcdefghijklmnopqrst\"!=a(p({},e)).join(\"\")}))?function(t,e){for(var n=c(t),i=arguments.length,s=1,p=u.f,f=l.f;i>s;)for(var g,y=h(arguments[s++]),v=p?d(a(y),p(y)):a(y),_=v.length,m=0;_>m;)g=v[m++],r&&!o(f,y,g)||(n[g]=y[g]);return n}:p},function(t,e,n){\"use strict\";var r=n(1),i=n(17),o=n(48),s=n(2),a=n(16),u=n(5),l=n(118),c=n(164),h=n(15),p=o&&o.prototype;if(r({target:\"Promise\",proto:!0,real:!0,forced:!!o&&s((function(){p.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=l(this,a(\"Promise\")),n=u(t);return this.then(n?function(n){return c(e,t()).then((function(){return n}))}:t,n?function(n){return c(e,t()).then((function(){throw n}))}:t)}}),!i&&u(o)){var f=a(\"Promise\").prototype.finally;p.finally!==f&&h(p,\"finally\",f,{unsafe:!0})}},function(t,e,n){\"use strict\";var r=n(119),i=n(89);t.exports=r?{}.toString:function(){return\"[object \"+i(this)+\"]\"}},function(t,e,n){var r=n(0),i=n(66),o=n(88),s=n(11),a=n(6)(\"species\"),u=r.Array;t.exports=function(t){var e;return i(t)&&(e=t.constructor,(o(e)&&(e===u||i(e.prototype))||s(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?u:e}},function(t,e,n){\"use strict\";var r=n(1),i=n(270).left,o=n(68),s=n(54),a=n(87);r({target:\"Array\",proto:!0,forced:!o(\"reduce\")||!a&&s>79&&s<83},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(0),i=n(24),o=n(18),s=n(52),a=n(25),u=r.TypeError,l=function(t){return function(e,n,r,l){i(n);var c=o(e),h=s(c),p=a(c),f=t?p-1:0,d=t?-1:1;if(r<2)for(;;){if(f in h){l=h[f],f+=d;break}if(f+=d,t?f<0:p<=f)throw u(\"Reduce of empty array with no initial value\")}for(;t?f>=0:p>f;f+=d)f in h&&(l=n(l,h[f],f,c));return l}};t.exports={left:l(!1),right:l(!0)}},function(t,e,n){\"use strict\";var r,i=n(1),o=n(4),s=n(31).f,a=n(75),u=n(14),l=n(136),c=n(21),h=n(137),p=n(17),f=o(\"\".startsWith),d=o(\"\".slice),g=Math.min,y=h(\"startsWith\");i({target:\"String\",proto:!0,forced:!!(p||y||(r=s(String.prototype,\"startsWith\"),!r||r.writable))&&!y},{startsWith:function(t){var e=u(c(this));l(t);var n=a(g(arguments.length>1?arguments[1]:void 0,e.length)),r=u(t);return f?f(e,r,n):d(e,n,n+r.length)===r}})},function(t,e,n){var r=n(1),i=n(173),o=n(2),s=n(11),a=n(273).onFreeze,u=Object.freeze;r({target:\"Object\",stat:!0,forced:o((function(){u(1)})),sham:!i},{freeze:function(t){return u&&s(t)?u(a(t)):t}})},function(t,e,n){var r=n(1),i=n(4),o=n(58),s=n(11),a=n(10),u=n(13).f,l=n(49),c=n(174),h=n(274),p=n(78),f=n(173),d=!1,g=p(\"meta\"),y=0,v=function(t){u(t,g,{value:{objectID:\"O\"+y++,weakData:{}}})},_=t.exports={enable:function(){_.enable=function(){},d=!0;var t=l.f,e=i([].splice),n={};n[g]=1,t(n).length&&(l.f=function(n){for(var r=t(n),i=0,o=r.length;i<o;i++)if(r[i]===g){e(r,i,1);break}return r},r({target:\"Object\",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},fastKey:function(t,e){if(!s(t))return\"symbol\"==typeof t?t:(\"string\"==typeof t?\"S\":\"P\")+t;if(!a(t,g)){if(!h(t))return\"F\";if(!e)return\"E\";v(t)}return t[g].objectID},getWeakData:function(t,e){if(!a(t,g)){if(!h(t))return!0;if(!e)return!1;v(t)}return t[g].weakData},onFreeze:function(t){return f&&d&&h(t)&&!a(t,g)&&v(t),t}};o[g]=!0},function(t,e,n){var r=n(2),i=n(11),o=n(29),s=n(275),a=Object.isExtensible,u=r((function(){a(1)}));t.exports=u||s?function(t){return!!i(t)&&((!s||\"ArrayBuffer\"!=o(t))&&(!a||a(t)))}:a},function(t,e,n){var r=n(2);t.exports=r((function(){if(\"function\"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,\"a\",{value:8})}}))},function(t,e,n){\"use strict\";var r=n(1),i=n(0),o=n(8),s=n(4),a=n(17),u=n(9),l=n(46),c=n(2),h=n(10),p=n(30),f=n(12),d=n(20),g=n(80),y=n(14),v=n(47),_=n(32),m=n(81),b=n(49),x=n(174),w=n(86),E=n(31),C=n(13),S=n(112),O=n(115),P=n(15),I=n(45),T=n(84),M=n(58),A=n(78),L=n(6),R=n(176),N=n(177),F=n(278),j=n(60),D=n(40),k=n(50).forEach,G=T(\"hidden\"),B=D.set,z=D.getterFor(\"Symbol\"),V=Object.prototype,q=i.Symbol,U=q&&q.prototype,$=i.TypeError,X=i.QObject,Y=E.f,W=C.f,H=x.f,K=O.f,Z=s([].push),J=I(\"symbols\"),Q=I(\"op-symbols\"),tt=I(\"wks\"),et=!X||!X.prototype||!X.prototype.findChild,nt=u&&c((function(){return 7!=_(W({},\"a\",{get:function(){return W(this,\"a\",{value:7}).a}})).a}))?function(t,e,n){var r=Y(V,e);r&&delete V[e],W(t,e,n),r&&t!==V&&W(V,e,r)}:W,rt=function(t,e){var n=J[t]=_(U);return B(n,{type:\"Symbol\",tag:t,description:e}),u||(n.description=e),n},it=function(t,e,n){t===V&&it(Q,e,n),f(t);var r=g(e);return f(n),h(J,r)?(n.enumerable?(h(t,G)&&t[G][r]&&(t[G][r]=!1),n=_(n,{enumerable:v(0,!1)})):(h(t,G)||W(t,G,v(1,{})),t[G][r]=!0),nt(t,r,n)):W(t,r,n)},ot=function(t,e){f(t);var n=d(e),r=m(n).concat(lt(n));return k(r,(function(e){u&&!o(st,n,e)||it(t,e,n[e])})),t},st=function(t){var e=g(t),n=o(K,this,e);return!(this===V&&h(J,e)&&!h(Q,e))&&(!(n||!h(this,e)||!h(J,e)||h(this,G)&&this[G][e])||n)},at=function(t,e){var n=d(t),r=g(e);if(n!==V||!h(J,r)||h(Q,r)){var i=Y(n,r);return!i||!h(J,r)||h(n,G)&&n[G][r]||(i.enumerable=!0),i}},ut=function(t){var e=H(d(t)),n=[];return k(e,(function(t){h(J,t)||h(M,t)||Z(n,t)})),n},lt=function(t){var e=t===V,n=H(e?Q:d(t)),r=[];return k(n,(function(t){!h(J,t)||e&&!h(V,t)||Z(r,J[t])})),r};l||(P(U=(q=function(){if(p(U,this))throw $(\"Symbol is not a constructor\");var t=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,e=A(t),n=function(t){this===V&&o(n,Q,t),h(this,G)&&h(this[G],e)&&(this[G][e]=!1),nt(this,e,v(1,t))};return u&&et&&nt(V,e,{configurable:!0,set:n}),rt(e,t)}).prototype,\"toString\",(function(){return z(this).tag})),P(q,\"withoutSetter\",(function(t){return rt(A(t),t)})),O.f=st,C.f=it,S.f=ot,E.f=at,b.f=x.f=ut,w.f=lt,R.f=function(t){return rt(L(t),t)},u&&(W(U,\"description\",{configurable:!0,get:function(){return z(this).description}}),a||P(V,\"propertyIsEnumerable\",st,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:q}),k(m(tt),(function(t){N(t)})),r({target:\"Symbol\",stat:!0,forced:!l},{useSetter:function(){et=!0},useSimple:function(){et=!1}}),r({target:\"Object\",stat:!0,forced:!l,sham:!u},{create:function(t,e){return void 0===e?_(t):ot(_(t),e)},defineProperty:it,defineProperties:ot,getOwnPropertyDescriptor:at}),r({target:\"Object\",stat:!0,forced:!l},{getOwnPropertyNames:ut}),F(),j(q,\"Symbol\"),M[G]=!0},function(t,e,n){var r=n(0);t.exports=r},function(t,e,n){var r=n(8),i=n(16),o=n(6),s=n(15);t.exports=function(){var t=i(\"Symbol\"),e=t&&t.prototype,n=e&&e.valueOf,a=o(\"toPrimitive\");e&&!e[a]&&s(e,a,(function(t){return r(n,this)}),{arity:1})}},function(t,e,n){var r=n(1),i=n(16),o=n(10),s=n(14),a=n(45),u=n(178),l=a(\"string-to-symbol-registry\"),c=a(\"symbol-to-string-registry\");r({target:\"Symbol\",stat:!0,forced:!u},{for:function(t){var e=s(t);if(o(l,e))return l[e];var n=i(\"Symbol\")(e);return l[e]=n,c[n]=e,n}})},function(t,e,n){var r=n(1),i=n(10),o=n(56),s=n(57),a=n(45),u=n(178),l=a(\"symbol-to-string-registry\");r({target:\"Symbol\",stat:!0,forced:!u},{keyFor:function(t){if(!o(t))throw TypeError(s(t)+\" is not a symbol\");if(i(l,t))return l[t]}})},function(t,e,n){var r=n(1),i=n(46),o=n(2),s=n(86),a=n(18);r({target:\"Object\",stat:!0,forced:!i||o((function(){s.f(1)}))},{getOwnPropertySymbols:function(t){var e=s.f;return e?e(a(t)):[]}})},function(t,e,n){\"use strict\";var r=n(0),i=n(62),o=n(8),s=n(18),a=n(283),u=n(159),l=n(88),c=n(25),h=n(67),p=n(160),f=n(121),d=r.Array;t.exports=function(t){var e=s(t),n=l(this),r=arguments.length,g=r>1?arguments[1]:void 0,y=void 0!==g;y&&(g=i(g,r>2?arguments[2]:void 0));var v,_,m,b,x,w,E=f(e),C=0;if(!E||this==d&&u(E))for(v=c(e),_=n?new this(v):d(v);v>C;C++)w=y?g(e[C],C):e[C],h(_,C,w);else for(x=(b=p(e,E)).next,_=n?new this:[];!(m=o(x,b)).done;C++)w=y?a(b,g,[m.value,C],!0):m.value,h(_,C,w);return _.length=C,_}},function(t,e,n){var r=n(12),i=n(161);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){i(t,\"throw\",e)}}},function(t,e,n){\"use strict\";var r=n(16),i=n(10),o=n(22),s=n(30),a=n(61),u=n(116),l=n(230),c=n(138),h=n(182),p=n(285),f=n(286),d=n(287),g=n(9),y=n(17);t.exports=function(t,e,n,v){var _=v?2:1,m=t.split(\".\"),b=m[m.length-1],x=r.apply(null,m);if(x){var w=x.prototype;if(!y&&i(w,\"cause\")&&delete w.cause,!n)return x;var E=r(\"Error\"),C=e((function(t,e){var n=h(v?e:t,void 0),r=v?new x(t):new x;return void 0!==n&&o(r,\"message\",n),d&&o(r,\"stack\",f(r.stack,2)),this&&s(w,this)&&c(r,this,C),arguments.length>_&&p(r,arguments[_]),r}));if(C.prototype=w,\"Error\"!==b?a?a(C,E):u(C,E,{name:!0}):g&&\"stackTraceLimit\"in x&&(l(C,x,\"stackTraceLimit\"),l(C,x,\"prepareStackTrace\")),u(C,x),!y)try{w.name!==b&&o(w,\"name\",b),w.constructor=C}catch(t){}return C}}},function(t,e,n){var r=n(11),i=n(22);t.exports=function(t,e){r(e)&&\"cause\"in e&&i(t,\"cause\",e.cause)}},function(t,e,n){var r=n(4),i=Error,o=r(\"\".replace),s=String(i(\"zxcasd\").stack),a=/\\n\\s*at [^:]*:[^\\n]*/,u=a.test(s);t.exports=function(t,e){if(u&&\"string\"==typeof t&&!i.prepareStackTrace)for(;e--;)t=o(t,a,\"\");return t}},function(t,e,n){var r=n(2),i=n(47);t.exports=!r((function(){var t=Error(\"a\");return!(\"stack\"in t)||(Object.defineProperty(t,\"stack\",i(1,7)),7!==t.stack)}))},function(t,e,n){\"use strict\";var r=n(9),i=n(2),o=n(12),s=n(32),a=n(182),u=Error.prototype.toString,l=i((function(){if(r){var t=s(Object.defineProperty({},\"name\",{get:function(){return this===t}}));if(\"true\"!==u.call(t))return!0}return\"2: 1\"!==u.call({message:1,name:2})||\"Error\"!==u.call({})}));t.exports=l?function(){var t=o(this),e=a(t.name,\"Error\"),n=a(t.message);return e?n?e+\": \"+n:e:n}:u},function(t,e,n){var r=n(185),i=n(290);t.exports=function t(e,n,o,s,a){var u=-1,l=e.length;for(o||(o=i),a||(a=[]);++u<l;){var c=e[u];n>0&&o(c)?n>1?t(c,n-1,o,s,a):r(a,c):s||(a[a.length]=c)}return a}},function(t,e,n){var r=n(70),i=n(123),o=n(23),s=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(s&&t&&t[s])}},function(t,e,n){var r=n(51),i=n(44);t.exports=function(t){return i(t)&&\"[object Arguments]\"==r(t)}},function(t,e,n){var r=n(70),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[a]=n:delete t[a]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(295),i=n(351),o=n(131),s=n(23),a=n(361);t.exports=function(t){return\"function\"==typeof t?t:null==t?o:\"object\"==typeof t?s(t)?i(t[0],t[1]):r(t):a(t)}},function(t,e,n){var r=n(296),i=n(350),o=n(203);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(187),i=n(191);t.exports=function(t,e,n,o){var s=n.length,a=s,u=!o;if(null==t)return!a;for(t=Object(t);s--;){var l=n[s];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<a;){var c=(l=n[s])[0],h=t[c],p=l[1];if(u&&l[2]){if(void 0===h&&!(c in t))return!1}else{var f=new r;if(o)var d=o(h,p,c,t,e,f);if(!(void 0===d?i(p,h,3,o,f):d))return!1}}return!0}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(96),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(96);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(96);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(96);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(95);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(95),i=n(124),o=n(126);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<199)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(189),i=n(308),o=n(125),s=n(190),a=/^\\[object .+?Constructor\\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,h=l.hasOwnProperty,p=RegExp(\"^\"+c.call(h).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?p:a).test(s(t))}},function(t,e,n){var r,i=n(309),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+r:\"\";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(27)[\"__core-js_shared__\"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(312),i=n(95),o=n(124);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(313),i=n(314),o=n(315),s=n(316),a=n(317);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e,n){var r=n(97);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(97),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return\"__lodash_hash_undefined__\"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(97),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(97);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?\"__lodash_hash_undefined__\":e,this}},function(t,e,n){var r=n(98);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t}},function(t,e,n){var r=n(98);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(98);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(98);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(187),i=n(192),o=n(327),s=n(330),a=n(346),u=n(23),l=n(196),c=n(199),h=\"[object Object]\",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,f,d,g){var y=u(t),v=u(e),_=y?\"[object Array]\":a(t),m=v?\"[object Array]\":a(e),b=(_=\"[object Arguments]\"==_?h:_)==h,x=(m=\"[object Arguments]\"==m?h:m)==h,w=_==m;if(w&&l(t)){if(!l(e))return!1;y=!0,b=!1}if(w&&!b)return g||(g=new r),y||c(t)?i(t,e,n,f,d,g):o(t,e,_,n,f,d,g);if(!(1&n)){var E=b&&p.call(t,\"__wrapped__\"),C=x&&p.call(e,\"__wrapped__\");if(E||C){var S=E?t.value():t,O=C?e.value():e;return g||(g=new r),d(S,O,n,f,g)}}return!!w&&(g||(g=new r),s(t,e,n,f,d,g))}},function(t,e){t.exports=function(t){return this.__data__.set(t,\"__lodash_hash_undefined__\"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(70),i=n(328),o=n(188),s=n(192),a=n(329),u=n(127),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;t.exports=function(t,e,n,r,l,h,p){switch(n){case\"[object DataView]\":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case\"[object ArrayBuffer]\":return!(t.byteLength!=e.byteLength||!h(new i(t),new i(e)));case\"[object Boolean]\":case\"[object Date]\":case\"[object Number]\":return o(+t,+e);case\"[object Error]\":return t.name==e.name&&t.message==e.message;case\"[object RegExp]\":case\"[object String]\":return t==e+\"\";case\"[object Map]\":var f=a;case\"[object Set]\":var d=1&r;if(f||(f=u),t.size!=e.size&&!d)return!1;var g=p.get(t);if(g)return g==e;r|=2,p.set(t,e);var y=s(f(t),f(e),r,l,h,p);return p.delete(t),y;case\"[object Symbol]\":if(c)return c.call(t)==c.call(e)}return!1}},function(t,e,n){var r=n(27).Uint8Array;t.exports=r},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e,n){var r=n(331),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,s,a){var u=1&n,l=r(t),c=l.length;if(c!=r(e).length&&!u)return!1;for(var h=c;h--;){var p=l[h];if(!(u?p in e:i.call(e,p)))return!1}var f=a.get(t),d=a.get(e);if(f&&d)return f==e&&d==t;var g=!0;a.set(t,e),a.set(e,t);for(var y=u;++h<c;){var v=t[p=l[h]],_=e[p];if(o)var m=u?o(_,v,p,e,t,a):o(v,_,p,t,e,a);if(!(void 0===m?v===_||s(v,_,n,o,a):m)){g=!1;break}y||(y=\"constructor\"==p)}if(g&&!y){var b=t.constructor,x=e.constructor;b==x||!(\"constructor\"in t)||!(\"constructor\"in e)||\"function\"==typeof b&&b instanceof b&&\"function\"==typeof x&&x instanceof x||(g=!1)}return a.delete(t),a.delete(e),g}},function(t,e,n){var r=n(332),i=n(333),o=n(195);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(185),i=n(23);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e,n){var r=n(334),i=n(335),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),r(s(t),(function(e){return o.call(t,e)})))}:i;t.exports=a},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(337),i=n(123),o=n(23),s=n(196),a=n(198),u=n(199),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&i(t),h=!n&&!c&&s(t),p=!n&&!c&&!h&&u(t),f=n||c||h||p,d=f?r(t.length,String):[],g=d.length;for(var y in t)!e&&!l.call(t,y)||f&&(\"length\"==y||h&&(\"offset\"==y||\"parent\"==y)||p&&(\"buffer\"==y||\"byteLength\"==y||\"byteOffset\"==y)||a(y,g))||d.push(y);return d}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(51),i=n(128),o=n(44),s={};s[\"[object Float32Array]\"]=s[\"[object Float64Array]\"]=s[\"[object Int8Array]\"]=s[\"[object Int16Array]\"]=s[\"[object Int32Array]\"]=s[\"[object Uint8Array]\"]=s[\"[object Uint8ClampedArray]\"]=s[\"[object Uint16Array]\"]=s[\"[object Uint32Array]\"]=!0,s[\"[object Arguments]\"]=s[\"[object Array]\"]=s[\"[object ArrayBuffer]\"]=s[\"[object Boolean]\"]=s[\"[object DataView]\"]=s[\"[object Date]\"]=s[\"[object Error]\"]=s[\"[object Function]\"]=s[\"[object Map]\"]=s[\"[object Number]\"]=s[\"[object Object]\"]=s[\"[object RegExp]\"]=s[\"[object Set]\"]=s[\"[object String]\"]=s[\"[object WeakMap]\"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!s[r(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(186),i=e&&!e.nodeType&&e,o=i&&\"object\"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===i&&r.process,a=function(){try{var t=o&&o.require&&o.require(\"util\").types;return t||s&&s.binding&&s.binding(\"util\")}catch(t){}}();t.exports=a}).call(this,n(197)(t))},function(t,e,n){var r=n(343),i=n(344),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&\"constructor\"!=n&&e.push(n);return e}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===(\"function\"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(345)(Object.keys,Object);t.exports=r},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(347),i=n(124),o=n(348),s=n(201),a=n(349),u=n(51),l=n(190),c=l(r),h=l(i),p=l(o),f=l(s),d=l(a),g=u;(r&&\"[object DataView]\"!=g(new r(new ArrayBuffer(1)))||i&&\"[object Map]\"!=g(new i)||o&&\"[object Promise]\"!=g(o.resolve())||s&&\"[object Set]\"!=g(new s)||a&&\"[object WeakMap]\"!=g(new a))&&(g=function(t){var e=u(t),n=\"[object Object]\"==e?t.constructor:void 0,r=n?l(n):\"\";if(r)switch(r){case c:return\"[object DataView]\";case h:return\"[object Map]\";case p:return\"[object Promise]\";case f:return\"[object Set]\";case d:return\"[object WeakMap]\"}return e}),t.exports=g},function(t,e,n){var r=n(38)(n(27),\"DataView\");t.exports=r},function(t,e,n){var r=n(38)(n(27),\"Promise\");t.exports=r},function(t,e,n){var r=n(38)(n(27),\"WeakMap\");t.exports=r},function(t,e,n){var r=n(202),i=n(195);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],s=t[o];e[n]=[o,s,r(s)]}return e}},function(t,e,n){var r=n(191),i=n(233),o=n(358),s=n(129),a=n(202),u=n(203),l=n(99);t.exports=function(t,e){return s(t)&&a(e)?u(l(t),e):function(n){var s=i(n,t);return void 0===s&&s===e?o(n,t):r(e,s,3)}}},function(t,e,n){var r=n(353),i=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,o=/\\\\(\\\\)?/g,s=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(\"\"),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,\"$1\"):n||t)})),e}));t.exports=s},function(t,e,n){var r=n(354);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(126);function i(t,e){if(\"function\"!=typeof t||null!=e&&\"function\"!=typeof e)throw new TypeError(\"Expected a function\");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},function(t,e,n){var r=n(356);t.exports=function(t){return null==t?\"\":r(t)}},function(t,e,n){var r=n(70),i=n(357),o=n(23),s=n(130),a=r?r.prototype:void 0,u=a?a.toString:void 0;t.exports=function t(e){if(\"string\"==typeof e)return e;if(o(e))return i(e,t)+\"\";if(s(e))return u?u.call(e):\"\";var n=e+\"\";return\"0\"==n&&1/e==-1/0?\"-0\":n}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(359),i=n(360);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(205),i=n(123),o=n(23),s=n(198),a=n(128),u=n(99);t.exports=function(t,e,n){for(var l=-1,c=(e=r(e,t)).length,h=!1;++l<c;){var p=u(e[l]);if(!(h=null!=t&&n(t,p)))break;t=t[p]}return h||++l!=c?h:!!(c=null==t?0:t.length)&&a(c)&&s(p,c)&&(o(t)||i(t))}},function(t,e,n){var r=n(362),i=n(363),o=n(129),s=n(99);t.exports=function(t){return o(t)?r(s(t)):i(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(204);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(131),i=n(365),o=n(367);t.exports=function(t,e){return o(i(t,e,r),t+\"\")}},function(t,e,n){var r=n(366),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,s=-1,a=i(o.length-e,0),u=Array(a);++s<a;)u[s]=o[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=o[s];return l[e]=n(u),r(t,this,l)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(368),i=n(371)(r);t.exports=i},function(t,e,n){var r=n(369),i=n(370),o=n(131),s=i?function(t,e){return i(t,\"toString\",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=s},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(38),i=function(){try{var t=r(Object,\"defineProperty\");return t({},\"\",{}),t}catch(t){}}();t.exports=i},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(193),i=n(373),o=n(378),s=n(194),a=n(379),u=n(127);t.exports=function(t,e,n){var l=-1,c=i,h=t.length,p=!0,f=[],d=f;if(n)p=!1,c=o;else if(h>=200){var g=e?null:a(t);if(g)return u(g);p=!1,c=s,d=new r}else d=e?[]:f;t:for(;++l<h;){var y=t[l],v=e?e(y):y;if(y=n||0!==y?y:0,p&&v==v){for(var _=d.length;_--;)if(d[_]===v)continue t;e&&d.push(v),f.push(y)}else c(d,v,n)||(d!==f&&d.push(v),f.push(y))}return f}},function(t,e,n){var r=n(374);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},function(t,e,n){var r=n(375),i=n(376),o=n(377);t.exports=function(t,e,n){return e==e?o(t,e,n):r(t,i,n)}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e){t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},function(t,e,n){var r=n(201),i=n(380),o=n(127),s=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=s},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(200),i=n(44);t.exports=function(t){return i(t)&&r(t)}},function(t,e,n){var r=n(1),i=n(0),o=n(206).setInterval;r({global:!0,bind:!0,forced:i.setInterval!==o},{setInterval:o})},function(t,e,n){var r=n(1),i=n(0),o=n(206).setTimeout;r({global:!0,bind:!0,forced:i.setTimeout!==o},{setTimeout:o})},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){var r=n(4);t.exports=r(1..valueOf)},function(t,e,n){\"use strict\";var r=n(1),i=n(0),o=n(8),s=n(4),a=n(21),u=n(5),l=n(108),c=n(14),h=n(43),p=n(142),f=n(184),d=n(6),g=n(17),y=d(\"replace\"),v=i.TypeError,_=s(\"\".indexOf),m=s(\"\".replace),b=s(\"\".slice),x=Math.max,w=function(t,e,n){return n>t.length?-1:\"\"===e?n:_(t,e,n)};r({target:\"String\",proto:!0},{replaceAll:function(t,e){var n,r,i,s,d,E,C,S,O,P=a(this),I=0,T=0,M=\"\";if(null!=t){if((n=l(t))&&(r=c(a(p(t))),!~_(r,\"g\")))throw v(\"`.replaceAll` does not allow non-global regexes\");if(i=h(t,y))return o(i,t,P,e);if(g&&n)return m(c(P),t,e)}for(s=c(P),d=c(t),(E=u(e))||(e=c(e)),C=d.length,S=x(1,C),I=w(s,d,0);-1!==I;)O=E?c(e(d,I,s)):f(d,s,I,[],void 0,e),M+=b(s,T,I)+O,T=I+C,I=w(s,d,I+S);return T<s.length&&(M+=b(s,T)),M}})},function(t,e,n){\"use strict\";n(207)},function(t,e,n){\"use strict\";n(208)},function(t,e,n){\"use strict\";n(209)},function(t,e,n){var r=n(1),i=n(2),o=n(20),s=n(31).f,a=n(9),u=i((function(){s(1)}));r({target:\"Object\",stat:!0,forced:!a||u,sham:!a},{getOwnPropertyDescriptor:function(t,e){return s(o(t),e)}})},function(t,e,n){var r=n(1),i=n(9),o=n(112).f;r({target:\"Object\",stat:!0,forced:Object.defineProperties!==o,sham:!i},{defineProperties:o})},function(t,e,n){var r=n(4),i=n(15),o=Date.prototype,s=r(o.toString),a=r(o.getTime);\"Invalid Date\"!=String(new Date(NaN))&&i(o,\"toString\",(function(){var t=a(this);return t==t?s(this):\"Invalid Date\"}))},function(t,e,n){var r=n(1),i=n(396),o=n(106);r({target:\"Array\",proto:!0},{fill:i}),o(\"fill\")},function(t,e,n){\"use strict\";var r=n(18),i=n(82),o=n(25);t.exports=function(t){for(var e=r(this),n=o(e),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),u=s>2?arguments[2]:void 0,l=void 0===u?n:i(u,n);l>a;)e[a++]=t;return e}},function(t,e,n){},function(t,e,n){},function(t,e,n){\"use strict\";n(210)},function(t,e,n){\"use strict\";var r=n(0),i=n(4),o=n(24),s=n(11),a=n(10),u=n(63),l=n(53),c=r.Function,h=i([].concat),p=i([].join),f={},d=function(t,e,n){if(!a(f,e)){for(var r=[],i=0;i<e;i++)r[i]=\"a[\"+i+\"]\";f[e]=c(\"C,a\",\"return new C(\"+p(r,\",\")+\")\")}return f[e](t,n)};t.exports=l?c.bind:function(t){var e=o(this),n=e.prototype,r=u(arguments,1),i=function(){var n=h(r,u(arguments));return this instanceof i?d(e,n.length,n):e.apply(t,n)};return s(n)&&(i.prototype=n),i}},function(t,e,n){\"use strict\";n(214)},function(t,e,n){\"use strict\";n(215)},function(t,e,n){\"use strict\";n.r(e);var r={};n.r(r),n.d(r,\"Vue2olAnimationArrowline\",(function(){return hw})),n.d(r,\"Vue2olAnimationDynamicline\",(function(){return fw})),n.d(r,\"Vue2olAnimationFlight\",(function(){return gw})),n.d(r,\"Vue2olAnimationRadar\",(function(){return vw})),n.d(r,\"Vue2olAnimationScatter\",(function(){return mw})),n.d(r,\"Vue2olAnimationTrack\",(function(){return xw})),n.d(r,\"Vue2olControlMouseinfo\",(function(){return Sw})),n.d(r,\"Vue2olControlMousetips\",(function(){return Ew})),n.d(r,\"Vue2olControlPopup\",(function(){return Pw})),n.d(r,\"Vue2olSourceBaidu\",(function(){return Mw})),n.d(r,\"Vue2olSourceBing\",(function(){return Lw})),n.d(r,\"Vue2olSourceGaoDe\",(function(){return Nw})),n.d(r,\"Vue2olSourceGeoQ\",(function(){return jw})),n.d(r,\"Vue2olSourceTdt\",(function(){return kw})),n.d(r,\"Vue2olRendererCanvasclip\",(function(){return Bw})),n.d(r,\"Vue2olInteractionPlotdraw\",(function(){return Vw}));n(143),n(250),n(264),n(266),n(7);function i(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,i)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var s=t.apply(e,n);function a(t){i(s,r,o,a,u,\"next\",t)}function u(t){i(s,r,o,a,u,\"throw\",t)}a(void 0)}))}}n(165),n(90),n(26),n(33),n(74),n(35);var s=Object.freeze({});function a(t){return null==t}function u(t){return null!=t}function l(t){return!0===t}function c(t){return\"string\"==typeof t||\"number\"==typeof t||\"symbol\"==typeof t||\"boolean\"==typeof t}function h(t){return null!==t&&\"object\"==typeof t}var p=Object.prototype.toString;function f(t){return\"[object Object]\"===p.call(t)}function d(t){return\"[object RegExp]\"===p.call(t)}function g(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function y(t){return u(t)&&\"function\"==typeof t.then&&\"function\"==typeof t.catch}function v(t){return null==t?\"\":Array.isArray(t)||f(t)&&t.toString===p?JSON.stringify(t,null,2):String(t)}function _(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var n=Object.create(null),r=t.split(\",\"),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}m(\"slot,component\",!0);var b=m(\"key,ref,slot,slot-scope,is\");function x(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var w=Object.prototype.hasOwnProperty;function E(t,e){return w.call(t,e)}function C(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var S=/-(\\w)/g,O=C((function(t){return t.replace(S,(function(t,e){return e?e.toUpperCase():\"\"}))})),P=C((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),I=/\\B([A-Z])/g,T=C((function(t){return t.replace(I,\"-$1\").toLowerCase()}));var M=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function A(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function L(t,e){for(var n in e)t[n]=e[n];return t}function R(t){for(var e={},n=0;n<t.length;n++)t[n]&&L(e,t[n]);return e}function N(t,e,n){}var F=function(t,e,n){return!1},j=function(t){return t};function D(t,e){if(t===e)return!0;var n=h(t),r=h(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,n){return D(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var s=Object.keys(t),a=Object.keys(e);return s.length===a.length&&s.every((function(n){return D(t[n],e[n])}))}catch(t){return!1}}function k(t,e){for(var n=0;n<t.length;n++)if(D(t[n],e))return n;return-1}function G(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var B=[\"component\",\"directive\",\"filter\"],z=[\"beforeCreate\",\"created\",\"beforeMount\",\"mounted\",\"beforeUpdate\",\"updated\",\"beforeDestroy\",\"destroyed\",\"activated\",\"deactivated\",\"errorCaptured\",\"serverPrefetch\"],V={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:F,isReservedAttr:F,isUnknownElement:F,getTagNamespace:N,parsePlatformTagName:j,mustUseProp:F,async:!0,_lifecycleHooks:z},q=/a-zA-Z\\u00B7\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u203F-\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD/;function U(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var $=new RegExp(\"[^\"+q.source+\".$_\\\\d]\");var X,Y=\"__proto__\"in{},W=\"undefined\"!=typeof window,H=\"undefined\"!=typeof WXEnvironment&&!!WXEnvironment.platform,K=H&&WXEnvironment.platform.toLowerCase(),Z=W&&window.navigator.userAgent.toLowerCase(),J=Z&&/msie|trident/.test(Z),Q=Z&&Z.indexOf(\"msie 9.0\")>0,tt=Z&&Z.indexOf(\"edge/\")>0,et=(Z&&Z.indexOf(\"android\"),Z&&/iphone|ipad|ipod|ios/.test(Z)||\"ios\"===K),nt=(Z&&/chrome\\/\\d+/.test(Z),Z&&/phantomjs/.test(Z),Z&&Z.match(/firefox\\/(\\d+)/)),rt={}.watch,it=!1;if(W)try{var ot={};Object.defineProperty(ot,\"passive\",{get:function(){it=!0}}),window.addEventListener(\"test-passive\",null,ot)}catch(t){}var st=function(){return void 0===X&&(X=!W&&!H&&\"undefined\"!=typeof global&&(global.process&&\"server\"===global.process.env.VUE_ENV)),X},at=W&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ut(t){return\"function\"==typeof t&&/native code/.test(t.toString())}var lt,ct=\"undefined\"!=typeof Symbol&&ut(Symbol)&&\"undefined\"!=typeof Reflect&&ut(Reflect.ownKeys);lt=\"undefined\"!=typeof Set&&ut(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ht=N,pt=0,ft=function(){this.id=pt++,this.subs=[]};ft.prototype.addSub=function(t){this.subs.push(t)},ft.prototype.removeSub=function(t){x(this.subs,t)},ft.prototype.depend=function(){ft.target&&ft.target.addDep(this)},ft.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},ft.target=null;var dt=[];function gt(t){dt.push(t),ft.target=t}function yt(){dt.pop(),ft.target=dt[dt.length-1]}var vt=function(t,e,n,r,i,o,s,a){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},_t={child:{configurable:!0}};_t.child.get=function(){return this.componentInstance},Object.defineProperties(vt.prototype,_t);var mt=function(t){void 0===t&&(t=\"\");var e=new vt;return e.text=t,e.isComment=!0,e};function bt(t){return new vt(void 0,void 0,void 0,String(t))}function xt(t){var e=new vt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var wt=Array.prototype,Et=Object.create(wt);[\"push\",\"pop\",\"shift\",\"unshift\",\"splice\",\"sort\",\"reverse\"].forEach((function(t){var e=wt[t];U(Et,t,(function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,o=e.apply(this,n),s=this.__ob__;switch(t){case\"push\":case\"unshift\":i=n;break;case\"splice\":i=n.slice(2)}return i&&s.observeArray(i),s.dep.notify(),o}))}));var Ct=Object.getOwnPropertyNames(Et),St=!0;function Ot(t){St=t}var Pt=function(t){var e;this.value=t,this.dep=new ft,this.vmCount=0,U(t,\"__ob__\",this),Array.isArray(t)?(Y?(e=Et,t.__proto__=e):function(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];U(t,o,e[o])}}(t,Et,Ct),this.observeArray(t)):this.walk(t)};function It(t,e){var n;if(h(t)&&!(t instanceof vt))return E(t,\"__ob__\")&&t.__ob__ instanceof Pt?n=t.__ob__:St&&!st()&&(Array.isArray(t)||f(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Pt(t)),e&&n&&n.vmCount++,n}function Tt(t,e,n,r,i){var o=new ft,s=Object.getOwnPropertyDescriptor(t,e);if(!s||!1!==s.configurable){var a=s&&s.get,u=s&&s.set;a&&!u||2!==arguments.length||(n=t[e]);var l=!i&&It(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):n;return ft.target&&(o.depend(),l&&(l.dep.depend(),Array.isArray(e)&&Lt(e))),e},set:function(e){var r=a?a.call(t):n;e===r||e!=e&&r!=r||a&&!u||(u?u.call(t,e):n=e,l=!i&&It(e),o.notify())}})}}function Mt(t,e,n){if(Array.isArray(t)&&g(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(Tt(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function At(t,e){if(Array.isArray(t)&&g(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||E(t,e)&&(delete t[e],n&&n.dep.notify())}}function Lt(t){for(var e=void 0,n=0,r=t.length;n<r;n++)(e=t[n])&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Lt(e)}Pt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Tt(t,e[n])},Pt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)It(t[e])};var Rt=V.optionMergeStrategies;function Nt(t,e){if(!e)return t;for(var n,r,i,o=ct?Reflect.ownKeys(e):Object.keys(e),s=0;s<o.length;s++)\"__ob__\"!==(n=o[s])&&(r=t[n],i=e[n],E(t,n)?r!==i&&f(r)&&f(i)&&Nt(r,i):Mt(t,n,i));return t}function Ft(t,e,n){return n?function(){var r=\"function\"==typeof e?e.call(n,n):e,i=\"function\"==typeof t?t.call(n,n):t;return r?Nt(r,i):i}:e?t?function(){return Nt(\"function\"==typeof e?e.call(this,this):e,\"function\"==typeof t?t.call(this,this):t)}:e:t}function jt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function Dt(t,e,n,r){var i=Object.create(t||null);return e?L(i,e):i}Rt.data=function(t,e,n){return n?Ft(t,e,n):e&&\"function\"!=typeof e?t:Ft(t,e)},z.forEach((function(t){Rt[t]=jt})),B.forEach((function(t){Rt[t+\"s\"]=Dt})),Rt.watch=function(t,e,n,r){if(t===rt&&(t=void 0),e===rt&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in L(i,t),e){var s=i[o],a=e[o];s&&!Array.isArray(s)&&(s=[s]),i[o]=s?s.concat(a):Array.isArray(a)?a:[a]}return i},Rt.props=Rt.methods=Rt.inject=Rt.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return L(i,t),e&&L(i,e),i},Rt.provide=Ft;var kt=function(t,e){return void 0===e?t:e};function Gt(t,e,n){if(\"function\"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var r,i,o={};if(Array.isArray(n))for(r=n.length;r--;)\"string\"==typeof(i=n[r])&&(o[O(i)]={type:null});else if(f(n))for(var s in n)i=n[s],o[O(s)]=f(i)?i:{type:i};else 0;t.props=o}}(e),function(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(f(n))for(var o in n){var s=n[o];r[o]=f(s)?L({from:o},s):{from:s}}else 0}}(e),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];\"function\"==typeof r&&(e[n]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(t=Gt(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Gt(t,e.mixins[r],n);var o,s={};for(o in t)a(o);for(o in e)E(t,o)||a(o);function a(r){var i=Rt[r]||kt;s[r]=i(t[r],e[r],n,r)}return s}function Bt(t,e,n,r){if(\"string\"==typeof n){var i=t[e];if(E(i,n))return i[n];var o=O(n);if(E(i,o))return i[o];var s=P(o);return E(i,s)?i[s]:i[n]||i[o]||i[s]}}function zt(t,e,n,r){var i=e[t],o=!E(n,t),s=n[t],a=$t(Boolean,i.type);if(a>-1)if(o&&!E(i,\"default\"))s=!1;else if(\"\"===s||s===T(t)){var u=$t(String,i.type);(u<0||a<u)&&(s=!0)}if(void 0===s){s=function(t,e,n){if(!E(e,\"default\"))return;var r=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return\"function\"==typeof r&&\"Function\"!==qt(e.type)?r.call(t):r}(r,i,t);var l=St;Ot(!0),It(s),Ot(l)}return s}var Vt=/^\\s*function (\\w+)/;function qt(t){var e=t&&t.toString().match(Vt);return e?e[1]:\"\"}function Ut(t,e){return qt(t)===qt(e)}function $t(t,e){if(!Array.isArray(e))return Ut(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Ut(e[n],t))return n;return-1}function Xt(t,e,n){gt();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,t,e,n))return}catch(t){Wt(t,r,\"errorCaptured hook\")}}Wt(t,e,n)}finally{yt()}}function Yt(t,e,n,r,i){var o;try{(o=n?t.apply(e,n):t.call(e))&&!o._isVue&&y(o)&&!o._handled&&(o.catch((function(t){return Xt(t,r,i+\" (Promise/async)\")})),o._handled=!0)}catch(t){Xt(t,r,i)}return o}function Wt(t,e,n){if(V.errorHandler)try{return V.errorHandler.call(null,t,e,n)}catch(e){e!==t&&Ht(e,null,\"config.errorHandler\")}Ht(t,e,n)}function Ht(t,e,n){if(!W&&!H||\"undefined\"==typeof console)throw t;console.error(t)}var Kt,Zt=!1,Jt=[],Qt=!1;function te(){Qt=!1;var t=Jt.slice(0);Jt.length=0;for(var e=0;e<t.length;e++)t[e]()}if(\"undefined\"!=typeof Promise&&ut(Promise)){var ee=Promise.resolve();Kt=function(){ee.then(te),et&&setTimeout(N)},Zt=!0}else if(J||\"undefined\"==typeof MutationObserver||!ut(MutationObserver)&&\"[object MutationObserverConstructor]\"!==MutationObserver.toString())Kt=\"undefined\"!=typeof setImmediate&&ut(setImmediate)?function(){setImmediate(te)}:function(){setTimeout(te,0)};else{var ne=1,re=new MutationObserver(te),ie=document.createTextNode(String(ne));re.observe(ie,{characterData:!0}),Kt=function(){ne=(ne+1)%2,ie.data=String(ne)},Zt=!0}function oe(t,e){var n;if(Jt.push((function(){if(t)try{t.call(e)}catch(t){Xt(t,e,\"nextTick\")}else n&&n(e)})),Qt||(Qt=!0,Kt()),!t&&\"undefined\"!=typeof Promise)return new Promise((function(t){n=t}))}var se=new lt;function ae(t){!function t(e,n){var r,i,o=Array.isArray(e);if(!o&&!h(e)||Object.isFrozen(e)||e instanceof vt)return;if(e.__ob__){var s=e.__ob__.dep.id;if(n.has(s))return;n.add(s)}if(o)for(r=e.length;r--;)t(e[r],n);else for(i=Object.keys(e),r=i.length;r--;)t(e[i[r]],n)}(t,se),se.clear()}var ue=C((function(t){var e=\"&\"===t.charAt(0),n=\"~\"===(t=e?t.slice(1):t).charAt(0),r=\"!\"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}}));function le(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return Yt(r,null,arguments,e,\"v-on handler\");for(var i=r.slice(),o=0;o<i.length;o++)Yt(i[o],null,t,e,\"v-on handler\")}return n.fns=t,n}function ce(t,e,n,r,i,o){var s,u,c,h;for(s in t)u=t[s],c=e[s],h=ue(s),a(u)||(a(c)?(a(u.fns)&&(u=t[s]=le(u,o)),l(h.once)&&(u=t[s]=i(h.name,u,h.capture)),n(h.name,u,h.capture,h.passive,h.params)):u!==c&&(c.fns=u,t[s]=c));for(s in e)a(t[s])&&r((h=ue(s)).name,e[s],h.capture)}function he(t,e,n){var r;t instanceof vt&&(t=t.data.hook||(t.data.hook={}));var i=t[e];function o(){n.apply(this,arguments),x(r.fns,o)}a(i)?r=le([o]):u(i.fns)&&l(i.merged)?(r=i).fns.push(o):r=le([i,o]),r.merged=!0,t[e]=r}function pe(t,e,n,r,i){if(u(e)){if(E(e,n))return t[n]=e[n],i||delete e[n],!0;if(E(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function fe(t){return c(t)?[bt(t)]:Array.isArray(t)?function t(e,n){var r,i,o,s,h=[];for(r=0;r<e.length;r++)a(i=e[r])||\"boolean\"==typeof i||(o=h.length-1,s=h[o],Array.isArray(i)?i.length>0&&(de((i=t(i,(n||\"\")+\"_\"+r))[0])&&de(s)&&(h[o]=bt(s.text+i[0].text),i.shift()),h.push.apply(h,i)):c(i)?de(s)?h[o]=bt(s.text+i):\"\"!==i&&h.push(bt(i)):de(i)&&de(s)?h[o]=bt(s.text+i.text):(l(e._isVList)&&u(i.tag)&&a(i.key)&&u(n)&&(i.key=\"__vlist\"+n+\"_\"+r+\"__\"),h.push(i)));return h}(t):void 0}function de(t){return u(t)&&u(t.text)&&!1===t.isComment}function ge(t,e){if(t){for(var n=Object.create(null),r=ct?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if(\"__ob__\"!==o){for(var s=t[o].from,a=e;a;){if(a._provided&&E(a._provided,s)){n[o]=a._provided[s];break}a=a.$parent}if(!a)if(\"default\"in t[o]){var u=t[o].default;n[o]=\"function\"==typeof u?u.call(e):u}else 0}}return n}}function ye(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==e&&o.fnContext!==e||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,u=n[a]||(n[a]=[]);\"template\"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var l in n)n[l].every(ve)&&delete n[l];return n}function ve(t){return t.isComment&&!t.asyncFactory||\" \"===t.text}function _e(t){return t.isComment&&t.asyncFactory}function me(t,e,n){var r,i=Object.keys(e).length>0,o=t?!!t.$stable:!i,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&n&&n!==s&&a===n.$key&&!i&&!n.$hasNormal)return n;for(var u in r={},t)t[u]&&\"$\"!==u[0]&&(r[u]=be(e,u,t[u]))}else r={};for(var l in e)l in r||(r[l]=xe(e,l));return t&&Object.isExtensible(t)&&(t._normalized=r),U(r,\"$stable\",o),U(r,\"$key\",a),U(r,\"$hasNormal\",i),r}function be(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({}),e=(t=t&&\"object\"==typeof t&&!Array.isArray(t)?[t]:fe(t))&&t[0];return t&&(!e||1===t.length&&e.isComment&&!_e(e))?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function xe(t,e){return function(){return t[e]}}function we(t,e){var n,r,i,o,s;if(Array.isArray(t)||\"string\"==typeof t)for(n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e(t[r],r);else if(\"number\"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(h(t))if(ct&&t[Symbol.iterator]){n=[];for(var a=t[Symbol.iterator](),l=a.next();!l.done;)n.push(e(l.value,n.length)),l=a.next()}else for(o=Object.keys(t),n=new Array(o.length),r=0,i=o.length;r<i;r++)s=o[r],n[r]=e(t[s],s,r);return u(n)||(n=[]),n._isVList=!0,n}function Ee(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=L(L({},r),n)),i=o(n)||(\"function\"==typeof e?e():e)):i=this.$slots[t]||(\"function\"==typeof e?e():e);var s=n&&n.slot;return s?this.$createElement(\"template\",{slot:s},i):i}function Ce(t){return Bt(this.$options,\"filters\",t)||j}function Se(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Oe(t,e,n,r,i){var o=V.keyCodes[e]||n;return i&&r&&!V.keyCodes[e]?Se(i,r):o?Se(o,t):r?T(r)!==e:void 0===t}function Pe(t,e,n,r,i){if(n)if(h(n)){var o;Array.isArray(n)&&(n=R(n));var s=function(s){if(\"class\"===s||\"style\"===s||b(s))o=t;else{var a=t.attrs&&t.attrs.type;o=r||V.mustUseProp(e,a,s)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=O(s),l=T(s);u in o||l in o||(o[s]=n[s],i&&((t.on||(t.on={}))[\"update:\"+s]=function(t){n[s]=t}))};for(var a in n)s(a)}else;return t}function Ie(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||Me(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),\"__static__\"+t,!1),r}function Te(t,e,n){return Me(t,\"__once__\"+e+(n?\"_\"+n:\"\"),!0),t}function Me(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&\"string\"!=typeof t[r]&&Ae(t[r],e+\"_\"+r,n);else Ae(t,e,n)}function Ae(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Le(t,e){if(e)if(f(e)){var n=t.on=t.on?L({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function Re(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?Re(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function Ne(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];\"string\"==typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Fe(t,e){return\"string\"==typeof t?e+t:t}function je(t){t._o=Te,t._n=_,t._s=v,t._l=we,t._t=Ee,t._q=D,t._i=k,t._m=Ie,t._f=Ce,t._k=Oe,t._b=Pe,t._v=bt,t._e=mt,t._u=Re,t._g=Le,t._d=Ne,t._p=Fe}function De(t,e,n,r,i){var o,a=this,u=i.options;E(r,\"_uid\")?(o=Object.create(r))._original=r:(o=r,r=r._original);var c=l(u._compiled),h=!c;this.data=t,this.props=e,this.children=n,this.parent=r,this.listeners=t.on||s,this.injections=ge(u.inject,r),this.slots=function(){return a.$slots||me(t.scopedSlots,a.$slots=ye(n,r)),a.$slots},Object.defineProperty(this,\"scopedSlots\",{enumerable:!0,get:function(){return me(t.scopedSlots,this.slots())}}),c&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=me(t.scopedSlots,this.$slots)),u._scopeId?this._c=function(t,e,n,i){var s=Ue(o,t,e,n,i,h);return s&&!Array.isArray(s)&&(s.fnScopeId=u._scopeId,s.fnContext=r),s}:this._c=function(t,e,n,r){return Ue(o,t,e,n,r,h)}}function ke(t,e,n,r,i){var o=xt(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function Ge(t,e){for(var n in e)t[O(n)]=e[n]}je(De.prototype);var Be={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;Be.prepatch(n,n)}else{(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;u(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns);return new t.componentOptions.Ctor(n)}(t,Qe)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,r,i){0;var o=r.data.scopedSlots,a=t.$scopedSlots,u=!!(o&&!o.$stable||a!==s&&!a.$stable||o&&t.$scopedSlots.$key!==o.$key||!o&&t.$scopedSlots.$key),l=!!(i||t.$options._renderChildren||u);t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r);if(t.$options._renderChildren=i,t.$attrs=r.data.attrs||s,t.$listeners=n||s,e&&t.$options.props){Ot(!1);for(var c=t._props,h=t.$options._propKeys||[],p=0;p<h.length;p++){var f=h[p],d=t.$options.props;c[f]=zt(f,d,e,t)}Ot(!0),t.$options.propsData=e}n=n||s;var g=t.$options._parentListeners;t.$options._parentListeners=n,Je(t,n,g),l&&(t.$slots=ye(i,r.context),t.$forceUpdate());0}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e,n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,rn(r,\"mounted\")),t.data.keepAlive&&(n._isMounted?((e=r)._inactive=!1,sn.push(e)):nn(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(n&&(e._directInactive=!0,en(e)))return;if(!e._inactive){e._inactive=!0;for(var r=0;r<e.$children.length;r++)t(e.$children[r]);rn(e,\"deactivated\")}}(e,!0):e.$destroy())}},ze=Object.keys(Be);function Ve(t,e,n,r,i){if(!a(t)){var o=n.$options._base;if(h(t)&&(t=o.extend(t)),\"function\"==typeof t){var c;if(a(t.cid)&&void 0===(t=function(t,e){if(l(t.error)&&u(t.errorComp))return t.errorComp;if(u(t.resolved))return t.resolved;var n=Xe;n&&u(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n);if(l(t.loading)&&u(t.loadingComp))return t.loadingComp;if(n&&!u(t.owners)){var r=t.owners=[n],i=!0,o=null,s=null;n.$on(\"hook:destroyed\",(function(){return x(r,n)}));var c=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==o&&(clearTimeout(o),o=null),null!==s&&(clearTimeout(s),s=null))},p=G((function(n){t.resolved=Ye(n,e),i?r.length=0:c(!0)})),f=G((function(e){u(t.errorComp)&&(t.error=!0,c(!0))})),d=t(p,f);return h(d)&&(y(d)?a(t.resolved)&&d.then(p,f):y(d.component)&&(d.component.then(p,f),u(d.error)&&(t.errorComp=Ye(d.error,e)),u(d.loading)&&(t.loadingComp=Ye(d.loading,e),0===d.delay?t.loading=!0:o=setTimeout((function(){o=null,a(t.resolved)&&a(t.error)&&(t.loading=!0,c(!1))}),d.delay||200)),u(d.timeout)&&(s=setTimeout((function(){s=null,a(t.resolved)&&f(null)}),d.timeout)))),i=!1,t.loading?t.loadingComp:t.resolved}}(c=t,o)))return function(t,e,n,r,i){var o=mt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}(c,e,n,r,i);e=e||{},On(t),u(e.model)&&function(t,e){var n=t.model&&t.model.prop||\"value\",r=t.model&&t.model.event||\"input\";(e.attrs||(e.attrs={}))[n]=e.model.value;var i=e.on||(e.on={}),o=i[r],s=e.model.callback;u(o)?(Array.isArray(o)?-1===o.indexOf(s):o!==s)&&(i[r]=[s].concat(o)):i[r]=s}(t.options,e);var p=function(t,e,n){var r=e.options.props;if(!a(r)){var i={},o=t.attrs,s=t.props;if(u(o)||u(s))for(var l in r){var c=T(l);pe(i,s,l,c,!0)||pe(i,o,l,c,!1)}return i}}(e,t);if(l(t.options.functional))return function(t,e,n,r,i){var o=t.options,a={},l=o.props;if(u(l))for(var c in l)a[c]=zt(c,l,e||s);else u(n.attrs)&&Ge(a,n.attrs),u(n.props)&&Ge(a,n.props);var h=new De(n,a,i,r,t),p=o.render.call(null,h._c,h);if(p instanceof vt)return ke(p,n,h.parent,o,h);if(Array.isArray(p)){for(var f=fe(p)||[],d=new Array(f.length),g=0;g<f.length;g++)d[g]=ke(f[g],n,h.parent,o,h);return d}}(t,p,e,n,r);var f=e.on;if(e.on=e.nativeOn,l(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<ze.length;n++){var r=ze[n],i=e[r],o=Be[r];i===o||i&&i._merged||(e[r]=i?qe(o,i):o)}}(e);var g=t.options.name||i;return new vt(\"vue-component-\"+t.cid+(g?\"-\"+g:\"\"),e,void 0,void 0,void 0,n,{Ctor:t,propsData:p,listeners:f,tag:i,children:r},c)}}}function qe(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function Ue(t,e,n,r,i,o){return(Array.isArray(n)||c(n))&&(i=r,r=n,n=void 0),l(o)&&(i=2),function(t,e,n,r,i){if(u(n)&&u(n.__ob__))return mt();u(n)&&u(n.is)&&(e=n.is);if(!e)return mt();0;Array.isArray(r)&&\"function\"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0);2===i?r=fe(r):1===i&&(r=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(r));var o,s;if(\"string\"==typeof e){var c;s=t.$vnode&&t.$vnode.ns||V.getTagNamespace(e),o=V.isReservedTag(e)?new vt(V.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!u(c=Bt(t.$options,\"components\",e))?new vt(e,n,r,void 0,void 0,t):Ve(c,n,t,r,e)}else o=Ve(e,n,t,r);return Array.isArray(o)?o:u(o)?(u(s)&&function t(e,n,r){e.ns=n,\"foreignObject\"===e.tag&&(n=void 0,r=!0);if(u(e.children))for(var i=0,o=e.children.length;i<o;i++){var s=e.children[i];u(s.tag)&&(a(s.ns)||l(r)&&\"svg\"!==s.tag)&&t(s,n,r)}}(o,s),u(n)&&function(t){h(t.style)&&ae(t.style);h(t.class)&&ae(t.class)}(n),o):mt()}(t,e,n,r,i)}var $e,Xe=null;function Ye(t,e){return(t.__esModule||ct&&\"Module\"===t[Symbol.toStringTag])&&(t=t.default),h(t)?e.extend(t):t}function We(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(u(n)&&(u(n.componentOptions)||_e(n)))return n}}function He(t,e){$e.$on(t,e)}function Ke(t,e){$e.$off(t,e)}function Ze(t,e){var n=$e;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function Je(t,e,n){$e=t,ce(e,n||{},He,Ke,Ze,t),$e=void 0}var Qe=null;function tn(t){var e=Qe;return Qe=t,function(){Qe=e}}function en(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function nn(t,e){if(e){if(t._directInactive=!1,en(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)nn(t.$children[n]);rn(t,\"activated\")}}function rn(t,e){gt();var n=t.$options[e],r=e+\" hook\";if(n)for(var i=0,o=n.length;i<o;i++)Yt(n[i],t,null,t,r);t._hasHookEvent&&t.$emit(\"hook:\"+e),yt()}var on=[],sn=[],an={},un=!1,ln=!1,cn=0;var hn=0,pn=Date.now;if(W&&!J){var fn=window.performance;fn&&\"function\"==typeof fn.now&&pn()>document.createEvent(\"Event\").timeStamp&&(pn=function(){return fn.now()})}function dn(){var t,e;for(hn=pn(),ln=!0,on.sort((function(t,e){return t.id-e.id})),cn=0;cn<on.length;cn++)(t=on[cn]).before&&t.before(),e=t.id,an[e]=null,t.run();var n=sn.slice(),r=on.slice();cn=on.length=sn.length=0,an={},un=ln=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,nn(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&rn(r,\"updated\")}}(r),at&&V.devtools&&at.emit(\"flush\")}var gn=0,yn=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++gn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new lt,this.newDepIds=new lt,this.expression=\"\",\"function\"==typeof e?this.getter=e:(this.getter=function(t){if(!$.test(t)){var e=t.split(\".\");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=N)),this.value=this.lazy?void 0:this.get()};yn.prototype.get=function(){var t;gt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Xt(t,e,'getter for watcher \"'+this.expression+'\"')}finally{this.deep&&ae(t),yt(),this.cleanupDeps()}return t},yn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},yn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},yn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==an[e]){if(an[e]=!0,ln){for(var n=on.length-1;n>cn&&on[n].id>t.id;)n--;on.splice(n+1,0,t)}else on.push(t);un||(un=!0,oe(dn))}}(this)},yn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||h(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher \"'+this.expression+'\"';Yt(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},yn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},yn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},yn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||x(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var vn={enumerable:!0,configurable:!0,get:N,set:N};function _n(t,e,n){vn.get=function(){return this[e][n]},vn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,vn)}function mn(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[];t.$parent&&Ot(!1);var o=function(o){i.push(o);var s=zt(o,e,n,t);Tt(r,o,s),o in t||_n(t,\"_props\",o)};for(var s in e)o(s);Ot(!0)}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var n in e)t[n]=\"function\"!=typeof e[n]?N:M(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;f(e=t._data=\"function\"==typeof e?function(t,e){gt();try{return t.call(e,e)}catch(t){return Xt(t,e,\"data()\"),{}}finally{yt()}}(e,t):e||{})||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);for(;i--;){var o=n[i];0,r&&E(r,o)||(s=void 0,36!==(s=(o+\"\").charCodeAt(0))&&95!==s&&_n(t,\"_data\",o))}var s;It(e,!0)}(t):It(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=st();for(var i in e){var o=e[i],s=\"function\"==typeof o?o:o.get;0,r||(n[i]=new yn(t,s||N,N,bn)),i in t||xn(t,i,o)}}(t,e.computed),e.watch&&e.watch!==rt&&function(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)Cn(t,n,r[i]);else Cn(t,n,r)}}(t,e.watch)}var bn={lazy:!0};function xn(t,e,n){var r=!st();\"function\"==typeof n?(vn.get=r?wn(e):En(n),vn.set=N):(vn.get=n.get?r&&!1!==n.cache?wn(e):En(n.get):N,vn.set=n.set||N),Object.defineProperty(t,e,vn)}function wn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),ft.target&&e.depend(),e.value}}function En(t){return function(){return t.call(this,this)}}function Cn(t,e,n,r){return f(n)&&(r=n,n=n.handler),\"string\"==typeof n&&(n=t[n]),t.$watch(e,n,r)}var Sn=0;function On(t){var e=t.options;if(t.super){var n=On(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}(t);r&&L(t.extendOptions,r),(e=t.options=Gt(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function Pn(t){this._init(t)}function In(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=t.name||n.options.name;var s=function(t){this._init(t)};return(s.prototype=Object.create(n.prototype)).constructor=s,s.cid=e++,s.options=Gt(n.options,t),s.super=n,s.options.props&&function(t){var e=t.options.props;for(var n in e)_n(t.prototype,\"_props\",n)}(s),s.options.computed&&function(t){var e=t.options.computed;for(var n in e)xn(t.prototype,n,e[n])}(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,B.forEach((function(t){s[t]=n[t]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=t,s.sealedOptions=L({},s.options),i[r]=s,s}}function Tn(t){return t&&(t.Ctor.options.name||t.tag)}function Mn(t,e){return Array.isArray(t)?t.indexOf(e)>-1:\"string\"==typeof t?t.split(\",\").indexOf(e)>-1:!!d(t)&&t.test(e)}function An(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var s=n[o];if(s){var a=s.name;a&&!e(a)&&Ln(n,o,r,i)}}}function Ln(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,x(n,e)}Pn.prototype._init=function(t){var e=this;e._uid=Sn++,e._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Gt(On(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Je(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=ye(e._renderChildren,r),t.$scopedSlots=s,t._c=function(e,n,r,i){return Ue(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return Ue(t,e,n,r,i,!0)};var i=n&&n.data;Tt(t,\"$attrs\",i&&i.attrs||s,null,!0),Tt(t,\"$listeners\",e._parentListeners||s,null,!0)}(e),rn(e,\"beforeCreate\"),function(t){var e=ge(t.$options.inject,t);e&&(Ot(!1),Object.keys(e).forEach((function(n){Tt(t,n,e[n])})),Ot(!0))}(e),mn(e),function(t){var e=t.$options.provide;e&&(t._provided=\"function\"==typeof e?e.call(t):e)}(e),rn(e,\"created\"),e.$options.el&&e.$mount(e.$options.el)},function(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,\"$data\",e),Object.defineProperty(t.prototype,\"$props\",n),t.prototype.$set=Mt,t.prototype.$delete=At,t.prototype.$watch=function(t,e,n){if(f(e))return Cn(this,t,e,n);(n=n||{}).user=!0;var r=new yn(this,t,e,n);if(n.immediate){var i='callback for immediate watcher \"'+r.expression+'\"';gt(),Yt(e,this,[r.value],this,i),yt()}return function(){r.teardown()}}}(Pn),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var o,s=n._events[t];if(!s)return n;if(!e)return n._events[t]=null,n;for(var a=s.length;a--;)if((o=s[a])===e||o.fn===e){s.splice(a,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?A(n):n;for(var r=A(arguments,1),i='event handler for \"'+t+'\"',o=0,s=n.length;o<s;o++)Yt(n[o],e,r,e,i)}return e}}(Pn),function(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=tn(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){rn(t,\"beforeDestroy\"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||x(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),rn(t,\"destroyed\"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(Pn),function(t){je(t.prototype),t.prototype.$nextTick=function(t){return oe(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&(e.$scopedSlots=me(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{Xe=e,t=r.call(e._renderProxy,e.$createElement)}catch(n){Xt(n,e,\"render\"),t=e._vnode}finally{Xe=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof vt||(t=mt()),t.parent=i,t}}(Pn);var Rn=[String,RegExp,Array],Nn={KeepAlive:{name:\"keep-alive\",abstract:!0,props:{include:Rn,exclude:Rn,max:[String,Number]},methods:{cacheVNode:function(){var t=this.cache,e=this.keys,n=this.vnodeToCache,r=this.keyToCache;if(n){var i=n.tag,o=n.componentInstance,s=n.componentOptions;t[r]={name:Tn(s),tag:i,componentInstance:o},e.push(r),this.max&&e.length>parseInt(this.max)&&Ln(t,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Ln(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch(\"include\",(function(e){An(t,(function(t){return Mn(e,t)}))})),this.$watch(\"exclude\",(function(e){An(t,(function(t){return!Mn(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=We(t),n=e&&e.componentOptions;if(n){var r=Tn(n),i=this.include,o=this.exclude;if(i&&(!r||!Mn(i,r))||o&&r&&Mn(o,r))return e;var s=this.cache,a=this.keys,u=null==e.key?n.Ctor.cid+(n.tag?\"::\"+n.tag:\"\"):e.key;s[u]?(e.componentInstance=s[u].componentInstance,x(a,u),a.push(u)):(this.vnodeToCache=e,this.keyToCache=u),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return V}};Object.defineProperty(t,\"config\",e),t.util={warn:ht,extend:L,mergeOptions:Gt,defineReactive:Tt},t.set=Mt,t.delete=At,t.nextTick=oe,t.observable=function(t){return It(t),t},t.options=Object.create(null),B.forEach((function(e){t.options[e+\"s\"]=Object.create(null)})),t.options._base=t,L(t.options.components,Nn),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=A(arguments,1);return n.unshift(this),\"function\"==typeof t.install?t.install.apply(t,n):\"function\"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Gt(this.options,t),this}}(t),In(t),function(t){B.forEach((function(e){t[e]=function(t,n){return n?(\"component\"===e&&f(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),\"directive\"===e&&\"function\"==typeof n&&(n={bind:n,update:n}),this.options[e+\"s\"][t]=n,n):this.options[e+\"s\"][t]}}))}(t)}(Pn),Object.defineProperty(Pn.prototype,\"$isServer\",{get:st}),Object.defineProperty(Pn.prototype,\"$ssrContext\",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Pn,\"FunctionalRenderContext\",{value:De}),Pn.version=\"2.6.14\";var Fn=m(\"style,class\"),jn=m(\"input,textarea,option,select,progress\"),Dn=m(\"contenteditable,draggable,spellcheck\"),kn=m(\"events,caret,typing,plaintext-only\"),Gn=m(\"allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible\"),Bn=\"http://www.w3.org/1999/xlink\",zn=function(t){return\":\"===t.charAt(5)&&\"xlink\"===t.slice(0,5)},Vn=function(t){return zn(t)?t.slice(6,t.length):\"\"},qn=function(t){return null==t||!1===t};function Un(t){for(var e=t.data,n=t,r=t;u(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=$n(r.data,e));for(;u(n=n.parent);)n&&n.data&&(e=$n(e,n.data));return function(t,e){if(u(t)||u(e))return Xn(t,Yn(e));return\"\"}(e.staticClass,e.class)}function $n(t,e){return{staticClass:Xn(t.staticClass,e.staticClass),class:u(t.class)?[t.class,e.class]:e.class}}function Xn(t,e){return t?e?t+\" \"+e:t:e||\"\"}function Yn(t){return Array.isArray(t)?function(t){for(var e,n=\"\",r=0,i=t.length;r<i;r++)u(e=Yn(t[r]))&&\"\"!==e&&(n&&(n+=\" \"),n+=e);return n}(t):h(t)?function(t){var e=\"\";for(var n in t)t[n]&&(e&&(e+=\" \"),e+=n);return e}(t):\"string\"==typeof t?t:\"\"}var Wn={svg:\"http://www.w3.org/2000/svg\",math:\"http://www.w3.org/1998/Math/MathML\"},Hn=m(\"html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot\"),Kn=m(\"svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view\",!0),Zn=function(t){return Hn(t)||Kn(t)};var Jn=Object.create(null);var Qn=m(\"text,number,password,search,email,tel,url\");var tr=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return\"select\"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute(\"multiple\",\"multiple\"),n},createElementNS:function(t,e){return document.createElementNS(Wn[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,\"\")}}),er={create:function(t,e){nr(e)},update:function(t,e){t.data.ref!==e.data.ref&&(nr(t,!0),nr(e))},destroy:function(t){nr(t,!0)}};function nr(t,e){var n=t.data.ref;if(u(n)){var r=t.context,i=t.componentInstance||t.elm,o=r.$refs;e?Array.isArray(o[n])?x(o[n],i):o[n]===i&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(i)<0&&o[n].push(i):o[n]=[i]:o[n]=i}}var rr=new vt(\"\",{},[]),ir=[\"create\",\"activate\",\"update\",\"remove\",\"destroy\"];function or(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&u(t.data)===u(e.data)&&function(t,e){if(\"input\"!==t.tag)return!0;var n,r=u(n=t.data)&&u(n=n.attrs)&&n.type,i=u(n=e.data)&&u(n=n.attrs)&&n.type;return r===i||Qn(r)&&Qn(i)}(t,e)||l(t.isAsyncPlaceholder)&&a(e.asyncFactory.error))}function sr(t,e,n){var r,i,o={};for(r=e;r<=n;++r)u(i=t[r].key)&&(o[i]=r);return o}var ar={create:ur,update:ur,destroy:function(t){ur(t,rr)}};function ur(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,r,i,o=t===rr,s=e===rr,a=cr(t.data.directives,t.context),u=cr(e.data.directives,e.context),l=[],c=[];for(n in u)r=a[n],i=u[n],r?(i.oldValue=r.value,i.oldArg=r.arg,pr(i,\"update\",e,t),i.def&&i.def.componentUpdated&&c.push(i)):(pr(i,\"bind\",e,t),i.def&&i.def.inserted&&l.push(i));if(l.length){var h=function(){for(var n=0;n<l.length;n++)pr(l[n],\"inserted\",e,t)};o?he(e,\"insert\",h):h()}c.length&&he(e,\"postpatch\",(function(){for(var n=0;n<c.length;n++)pr(c[n],\"componentUpdated\",e,t)}));if(!o)for(n in a)u[n]||pr(a[n],\"unbind\",t,t,s)}(t,e)}var lr=Object.create(null);function cr(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++)(r=t[n]).modifiers||(r.modifiers=lr),i[hr(r)]=r,r.def=Bt(e.$options,\"directives\",r.name);return i}function hr(t){return t.rawName||t.name+\".\"+Object.keys(t.modifiers||{}).join(\".\")}function pr(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(r){Xt(r,n.context,\"directive \"+t.name+\" \"+e+\" hook\")}}var fr=[er,ar];function dr(t,e){var n=e.componentOptions;if(!(u(n)&&!1===n.Ctor.options.inheritAttrs||a(t.data.attrs)&&a(e.data.attrs))){var r,i,o=e.elm,s=t.data.attrs||{},l=e.data.attrs||{};for(r in u(l.__ob__)&&(l=e.data.attrs=L({},l)),l)i=l[r],s[r]!==i&&gr(o,r,i,e.data.pre);for(r in(J||tt)&&l.value!==s.value&&gr(o,\"value\",l.value),s)a(l[r])&&(zn(r)?o.removeAttributeNS(Bn,Vn(r)):Dn(r)||o.removeAttribute(r))}}function gr(t,e,n,r){r||t.tagName.indexOf(\"-\")>-1?yr(t,e,n):Gn(e)?qn(n)?t.removeAttribute(e):(n=\"allowfullscreen\"===e&&\"EMBED\"===t.tagName?\"true\":e,t.setAttribute(e,n)):Dn(e)?t.setAttribute(e,function(t,e){return qn(e)||\"false\"===e?\"false\":\"contenteditable\"===t&&kn(e)?e:\"true\"}(e,n)):zn(e)?qn(n)?t.removeAttributeNS(Bn,Vn(e)):t.setAttributeNS(Bn,e,n):yr(t,e,n)}function yr(t,e,n){if(qn(n))t.removeAttribute(e);else{if(J&&!Q&&\"TEXTAREA\"===t.tagName&&\"placeholder\"===e&&\"\"!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener(\"input\",r)};t.addEventListener(\"input\",r),t.__ieph=!0}t.setAttribute(e,n)}}var vr={create:dr,update:dr};function _r(t,e){var n=e.elm,r=e.data,i=t.data;if(!(a(r.staticClass)&&a(r.class)&&(a(i)||a(i.staticClass)&&a(i.class)))){var o=Un(e),s=n._transitionClasses;u(s)&&(o=Xn(o,Yn(s))),o!==n._prevClass&&(n.setAttribute(\"class\",o),n._prevClass=o)}}var mr,br={create:_r,update:_r};function xr(t,e,n){var r=mr;return function i(){var o=e.apply(null,arguments);null!==o&&Cr(t,i,n,r)}}var wr=Zt&&!(nt&&Number(nt[1])<=53);function Er(t,e,n,r){if(wr){var i=hn,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}mr.addEventListener(t,e,it?{capture:n,passive:r}:n)}function Cr(t,e,n,r){(r||mr).removeEventListener(t,e._wrapper||e,n)}function Sr(t,e){if(!a(t.data.on)||!a(e.data.on)){var n=e.data.on||{},r=t.data.on||{};mr=e.elm,function(t){if(u(t.__r)){var e=J?\"change\":\"input\";t[e]=[].concat(t.__r,t[e]||[]),delete t.__r}u(t.__c)&&(t.change=[].concat(t.__c,t.change||[]),delete t.__c)}(n),ce(n,r,Er,Cr,xr,e.context),mr=void 0}}var Or,Pr={create:Sr,update:Sr};function Ir(t,e){if(!a(t.data.domProps)||!a(e.data.domProps)){var n,r,i=e.elm,o=t.data.domProps||{},s=e.data.domProps||{};for(n in u(s.__ob__)&&(s=e.data.domProps=L({},s)),o)n in s||(i[n]=\"\");for(n in s){if(r=s[n],\"textContent\"===n||\"innerHTML\"===n){if(e.children&&(e.children.length=0),r===o[n])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if(\"value\"===n&&\"PROGRESS\"!==i.tagName){i._value=r;var l=a(r)?\"\":String(r);Tr(i,l)&&(i.value=l)}else if(\"innerHTML\"===n&&Kn(i.tagName)&&a(i.innerHTML)){(Or=Or||document.createElement(\"div\")).innerHTML=\"<svg>\"+r+\"</svg>\";for(var c=Or.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;c.firstChild;)i.appendChild(c.firstChild)}else if(r!==o[n])try{i[n]=r}catch(t){}}}}function Tr(t,e){return!t.composing&&(\"OPTION\"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,r=t._vModifiers;if(u(r)){if(r.number)return _(n)!==_(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var Mr={create:Ir,update:Ir},Ar=C((function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\\))/g).forEach((function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function Lr(t){var e=Rr(t.style);return t.staticStyle?L(t.staticStyle,e):e}function Rr(t){return Array.isArray(t)?R(t):\"string\"==typeof t?Ar(t):t}var Nr,Fr=/^--/,jr=/\\s*!important$/,Dr=function(t,e,n){if(Fr.test(e))t.style.setProperty(e,n);else if(jr.test(n))t.style.setProperty(T(e),n.replace(jr,\"\"),\"important\");else{var r=Gr(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},kr=[\"Webkit\",\"Moz\",\"ms\"],Gr=C((function(t){if(Nr=Nr||document.createElement(\"div\").style,\"filter\"!==(t=O(t))&&t in Nr)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<kr.length;n++){var r=kr[n]+e;if(r in Nr)return r}}));function Br(t,e){var n=e.data,r=t.data;if(!(a(n.staticStyle)&&a(n.style)&&a(r.staticStyle)&&a(r.style))){var i,o,s=e.elm,l=r.staticStyle,c=r.normalizedStyle||r.style||{},h=l||c,p=Rr(e.data.style)||{};e.data.normalizedStyle=u(p.__ob__)?L({},p):p;var f=function(t,e){var n,r={};if(e)for(var i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=Lr(i.data))&&L(r,n);(n=Lr(t.data))&&L(r,n);for(var o=t;o=o.parent;)o.data&&(n=Lr(o.data))&&L(r,n);return r}(e,!0);for(o in h)a(f[o])&&Dr(s,o,\"\");for(o in f)(i=f[o])!==h[o]&&Dr(s,o,null==i?\"\":i)}}var zr={create:Br,update:Br},Vr=/\\s+/;function qr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(\" \")>-1?e.split(Vr).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=\" \"+(t.getAttribute(\"class\")||\"\")+\" \";n.indexOf(\" \"+e+\" \")<0&&t.setAttribute(\"class\",(n+e).trim())}}function Ur(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(\" \")>-1?e.split(Vr).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute(\"class\");else{for(var n=\" \"+(t.getAttribute(\"class\")||\"\")+\" \",r=\" \"+e+\" \";n.indexOf(r)>=0;)n=n.replace(r,\" \");(n=n.trim())?t.setAttribute(\"class\",n):t.removeAttribute(\"class\")}}function $r(t){if(t){if(\"object\"==typeof t){var e={};return!1!==t.css&&L(e,Xr(t.name||\"v\")),L(e,t),e}return\"string\"==typeof t?Xr(t):void 0}}var Xr=C((function(t){return{enterClass:t+\"-enter\",enterToClass:t+\"-enter-to\",enterActiveClass:t+\"-enter-active\",leaveClass:t+\"-leave\",leaveToClass:t+\"-leave-to\",leaveActiveClass:t+\"-leave-active\"}})),Yr=W&&!Q,Wr=\"transition\",Hr=\"transitionend\",Kr=\"animation\",Zr=\"animationend\";Yr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Wr=\"WebkitTransition\",Hr=\"webkitTransitionEnd\"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Kr=\"WebkitAnimation\",Zr=\"webkitAnimationEnd\"));var Jr=W?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Qr(t){Jr((function(){Jr(t)}))}function ti(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),qr(t,e))}function ei(t,e){t._transitionClasses&&x(t._transitionClasses,e),Ur(t,e)}function ni(t,e,n){var r=ii(t,e),i=r.type,o=r.timeout,s=r.propCount;if(!i)return n();var a=\"transition\"===i?Hr:Zr,u=0,l=function(){t.removeEventListener(a,c),n()},c=function(e){e.target===t&&++u>=s&&l()};setTimeout((function(){u<s&&l()}),o+1),t.addEventListener(a,c)}var ri=/\\b(transform|all)(,|$)/;function ii(t,e){var n,r=window.getComputedStyle(t),i=(r[Wr+\"Delay\"]||\"\").split(\", \"),o=(r[Wr+\"Duration\"]||\"\").split(\", \"),s=oi(i,o),a=(r[Kr+\"Delay\"]||\"\").split(\", \"),u=(r[Kr+\"Duration\"]||\"\").split(\", \"),l=oi(a,u),c=0,h=0;return\"transition\"===e?s>0&&(n=\"transition\",c=s,h=o.length):\"animation\"===e?l>0&&(n=\"animation\",c=l,h=u.length):h=(n=(c=Math.max(s,l))>0?s>l?\"transition\":\"animation\":null)?\"transition\"===n?o.length:u.length:0,{type:n,timeout:c,propCount:h,hasTransform:\"transition\"===n&&ri.test(r[Wr+\"Property\"])}}function oi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return si(e)+si(t[n])})))}function si(t){return 1e3*Number(t.slice(0,-1).replace(\",\",\".\"))}function ai(t,e){var n=t.elm;u(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=$r(t.data.transition);if(!a(r)&&!u(n._enterCb)&&1===n.nodeType){for(var i=r.css,o=r.type,s=r.enterClass,l=r.enterToClass,c=r.enterActiveClass,p=r.appearClass,f=r.appearToClass,d=r.appearActiveClass,g=r.beforeEnter,y=r.enter,v=r.afterEnter,m=r.enterCancelled,b=r.beforeAppear,x=r.appear,w=r.afterAppear,E=r.appearCancelled,C=r.duration,S=Qe,O=Qe.$vnode;O&&O.parent;)S=O.context,O=O.parent;var P=!S._isMounted||!t.isRootInsert;if(!P||x||\"\"===x){var I=P&&p?p:s,T=P&&d?d:c,M=P&&f?f:l,A=P&&b||g,L=P&&\"function\"==typeof x?x:y,R=P&&w||v,N=P&&E||m,F=_(h(C)?C.enter:C);0;var j=!1!==i&&!Q,D=ci(L),k=n._enterCb=G((function(){j&&(ei(n,M),ei(n,T)),k.cancelled?(j&&ei(n,I),N&&N(n)):R&&R(n),n._enterCb=null}));t.data.show||he(t,\"insert\",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),L&&L(n,k)})),A&&A(n),j&&(ti(n,I),ti(n,T),Qr((function(){ei(n,I),k.cancelled||(ti(n,M),D||(li(F)?setTimeout(k,F):ni(n,o,k)))}))),t.data.show&&(e&&e(),L&&L(n,k)),j||D||k()}}}function ui(t,e){var n=t.elm;u(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=$r(t.data.transition);if(a(r)||1!==n.nodeType)return e();if(!u(n._leaveCb)){var i=r.css,o=r.type,s=r.leaveClass,l=r.leaveToClass,c=r.leaveActiveClass,p=r.beforeLeave,f=r.leave,d=r.afterLeave,g=r.leaveCancelled,y=r.delayLeave,v=r.duration,m=!1!==i&&!Q,b=ci(f),x=_(h(v)?v.leave:v);0;var w=n._leaveCb=G((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),m&&(ei(n,l),ei(n,c)),w.cancelled?(m&&ei(n,s),g&&g(n)):(e(),d&&d(n)),n._leaveCb=null}));y?y(E):E()}function E(){w.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),p&&p(n),m&&(ti(n,s),ti(n,c),Qr((function(){ei(n,s),w.cancelled||(ti(n,l),b||(li(x)?setTimeout(w,x):ni(n,o,w)))}))),f&&f(n,w),m||b||w())}}function li(t){return\"number\"==typeof t&&!isNaN(t)}function ci(t){if(a(t))return!1;var e=t.fns;return u(e)?ci(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function hi(t,e){!0!==e.data.show&&ai(e)}var pi=function(t){var e,n,r={},i=t.modules,o=t.nodeOps;for(e=0;e<ir.length;++e)for(r[ir[e]]=[],n=0;n<i.length;++n)u(i[n][ir[e]])&&r[ir[e]].push(i[n][ir[e]]);function s(t){var e=o.parentNode(t);u(e)&&o.removeChild(e,t)}function h(t,e,n,i,s,a,c){if(u(t.elm)&&u(a)&&(t=a[c]=xt(t)),t.isRootInsert=!s,!function(t,e,n,i){var o=t.data;if(u(o)){var s=u(t.componentInstance)&&o.keepAlive;if(u(o=o.hook)&&u(o=o.init)&&o(t,!1),u(t.componentInstance))return p(t,e),f(n,t.elm,i),l(s)&&function(t,e,n,i){var o,s=t;for(;s.componentInstance;)if(s=s.componentInstance._vnode,u(o=s.data)&&u(o=o.transition)){for(o=0;o<r.activate.length;++o)r.activate[o](rr,s);e.push(s);break}f(n,t.elm,i)}(t,e,n,i),!0}}(t,e,n,i)){var h=t.data,g=t.children,_=t.tag;u(_)?(t.elm=t.ns?o.createElementNS(t.ns,_):o.createElement(_,t),v(t),d(t,g,e),u(h)&&y(t,e),f(n,t.elm,i)):l(t.isComment)?(t.elm=o.createComment(t.text),f(n,t.elm,i)):(t.elm=o.createTextNode(t.text),f(n,t.elm,i))}}function p(t,e){u(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,g(t)?(y(t,e),v(t)):(nr(t),e.push(t))}function f(t,e,n){u(t)&&(u(n)?o.parentNode(n)===t&&o.insertBefore(t,e,n):o.appendChild(t,e))}function d(t,e,n){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)h(e[r],n,t.elm,null,!0,e,r)}else c(t.text)&&o.appendChild(t.elm,o.createTextNode(String(t.text)))}function g(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return u(t.tag)}function y(t,n){for(var i=0;i<r.create.length;++i)r.create[i](rr,t);u(e=t.data.hook)&&(u(e.create)&&e.create(rr,t),u(e.insert)&&n.push(t))}function v(t){var e;if(u(e=t.fnScopeId))o.setStyleScope(t.elm,e);else for(var n=t;n;)u(e=n.context)&&u(e=e.$options._scopeId)&&o.setStyleScope(t.elm,e),n=n.parent;u(e=Qe)&&e!==t.context&&e!==t.fnContext&&u(e=e.$options._scopeId)&&o.setStyleScope(t.elm,e)}function _(t,e,n,r,i,o){for(;r<=i;++r)h(n[r],o,t,e,!1,n,r)}function b(t){var e,n,i=t.data;if(u(i))for(u(e=i.hook)&&u(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(u(e=t.children))for(n=0;n<t.children.length;++n)b(t.children[n])}function x(t,e,n){for(;e<=n;++e){var r=t[e];u(r)&&(u(r.tag)?(w(r),b(r)):s(r.elm))}}function w(t,e){if(u(e)||u(t.data)){var n,i=r.remove.length+1;for(u(e)?e.listeners+=i:e=function(t,e){function n(){0==--n.listeners&&s(t)}return n.listeners=e,n}(t.elm,i),u(n=t.componentInstance)&&u(n=n._vnode)&&u(n.data)&&w(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);u(n=t.data.hook)&&u(n=n.remove)?n(t,e):e()}else s(t.elm)}function E(t,e,n,r){for(var i=n;i<r;i++){var o=e[i];if(u(o)&&or(t,o))return i}}function C(t,e,n,i,s,c){if(t!==e){u(e.elm)&&u(i)&&(e=i[s]=xt(e));var p=e.elm=t.elm;if(l(t.isAsyncPlaceholder))u(e.asyncFactory.resolved)?P(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(l(e.isStatic)&&l(t.isStatic)&&e.key===t.key&&(l(e.isCloned)||l(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,d=e.data;u(d)&&u(f=d.hook)&&u(f=f.prepatch)&&f(t,e);var y=t.children,v=e.children;if(u(d)&&g(e)){for(f=0;f<r.update.length;++f)r.update[f](t,e);u(f=d.hook)&&u(f=f.update)&&f(t,e)}a(e.text)?u(y)&&u(v)?y!==v&&function(t,e,n,r,i){var s,l,c,p=0,f=0,d=e.length-1,g=e[0],y=e[d],v=n.length-1,m=n[0],b=n[v],w=!i;for(0;p<=d&&f<=v;)a(g)?g=e[++p]:a(y)?y=e[--d]:or(g,m)?(C(g,m,r,n,f),g=e[++p],m=n[++f]):or(y,b)?(C(y,b,r,n,v),y=e[--d],b=n[--v]):or(g,b)?(C(g,b,r,n,v),w&&o.insertBefore(t,g.elm,o.nextSibling(y.elm)),g=e[++p],b=n[--v]):or(y,m)?(C(y,m,r,n,f),w&&o.insertBefore(t,y.elm,g.elm),y=e[--d],m=n[++f]):(a(s)&&(s=sr(e,p,d)),a(l=u(m.key)?s[m.key]:E(m,e,p,d))?h(m,r,t,g.elm,!1,n,f):or(c=e[l],m)?(C(c,m,r,n,f),e[l]=void 0,w&&o.insertBefore(t,c.elm,g.elm)):h(m,r,t,g.elm,!1,n,f),m=n[++f]);p>d?_(t,a(n[v+1])?null:n[v+1].elm,n,f,v,r):f>v&&x(e,p,d)}(p,y,v,n,c):u(v)?(u(t.text)&&o.setTextContent(p,\"\"),_(p,null,v,0,v.length-1,n)):u(y)?x(y,0,y.length-1):u(t.text)&&o.setTextContent(p,\"\"):t.text!==e.text&&o.setTextContent(p,e.text),u(d)&&u(f=d.hook)&&u(f=f.postpatch)&&f(t,e)}}}function S(t,e,n){if(l(n)&&u(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var O=m(\"attrs,class,staticClass,staticStyle,key\");function P(t,e,n,r){var i,o=e.tag,s=e.data,a=e.children;if(r=r||s&&s.pre,e.elm=t,l(e.isComment)&&u(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(u(s)&&(u(i=s.hook)&&u(i=i.init)&&i(e,!0),u(i=e.componentInstance)))return p(e,n),!0;if(u(o)){if(u(a))if(t.hasChildNodes())if(u(i=s)&&u(i=i.domProps)&&u(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var c=!0,h=t.firstChild,f=0;f<a.length;f++){if(!h||!P(h,a[f],n,r)){c=!1;break}h=h.nextSibling}if(!c||h)return!1}else d(e,a,n);if(u(s)){var g=!1;for(var v in s)if(!O(v)){g=!0,y(e,n);break}!g&&s.class&&ae(s.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,i){if(!a(e)){var s,c=!1,p=[];if(a(t))c=!0,h(e,p);else{var f=u(t.nodeType);if(!f&&or(t,e))C(t,e,p,null,null,i);else{if(f){if(1===t.nodeType&&t.hasAttribute(\"data-server-rendered\")&&(t.removeAttribute(\"data-server-rendered\"),n=!0),l(n)&&P(t,e,p))return S(e,p,!0),t;s=t,t=new vt(o.tagName(s).toLowerCase(),{},[],void 0,s)}var d=t.elm,y=o.parentNode(d);if(h(e,p,d._leaveCb?null:y,o.nextSibling(d)),u(e.parent))for(var v=e.parent,_=g(e);v;){for(var m=0;m<r.destroy.length;++m)r.destroy[m](v);if(v.elm=e.elm,_){for(var w=0;w<r.create.length;++w)r.create[w](rr,v);var E=v.data.hook.insert;if(E.merged)for(var O=1;O<E.fns.length;O++)E.fns[O]()}else nr(v);v=v.parent}u(y)?x([t],0,0):u(t.tag)&&b(t)}}return S(e,p,c),e.elm}u(t)&&b(t)}}({nodeOps:tr,modules:[vr,br,Pr,Mr,zr,W?{create:hi,activate:hi,remove:function(t,e){!0!==t.data.show?ui(t,e):e()}}:{}].concat(fr)});Q&&document.addEventListener(\"selectionchange\",(function(){var t=document.activeElement;t&&t.vmodel&&bi(t,\"input\")}));var fi={inserted:function(t,e,n,r){\"select\"===n.tag?(r.elm&&!r.elm._vOptions?he(n,\"postpatch\",(function(){fi.componentUpdated(t,e,n)})):di(t,e,n.context),t._vOptions=[].map.call(t.options,vi)):(\"textarea\"===n.tag||Qn(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener(\"compositionstart\",_i),t.addEventListener(\"compositionend\",mi),t.addEventListener(\"change\",mi),Q&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if(\"select\"===n.tag){di(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,vi);if(i.some((function(t,e){return!D(t,r[e])})))(t.multiple?e.value.some((function(t){return yi(t,i)})):e.value!==e.oldValue&&yi(e.value,i))&&bi(t,\"change\")}}};function di(t,e,n){gi(t,e,n),(J||tt)&&setTimeout((function(){gi(t,e,n)}),0)}function gi(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,s,a=0,u=t.options.length;a<u;a++)if(s=t.options[a],i)o=k(r,vi(s))>-1,s.selected!==o&&(s.selected=o);else if(D(vi(s),r))return void(t.selectedIndex!==a&&(t.selectedIndex=a));i||(t.selectedIndex=-1)}}function yi(t,e){return e.every((function(e){return!D(e,t)}))}function vi(t){return\"_value\"in t?t._value:t.value}function _i(t){t.target.composing=!0}function mi(t){t.target.composing&&(t.target.composing=!1,bi(t.target,\"input\"))}function bi(t,e){var n=document.createEvent(\"HTMLEvents\");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function xi(t){return!t.componentInstance||t.data&&t.data.transition?t:xi(t.componentInstance._vnode)}var wi={model:fi,show:{bind:function(t,e,n){var r=e.value,i=(n=xi(n)).data&&n.data.transition,o=t.__vOriginalDisplay=\"none\"===t.style.display?\"\":t.style.display;r&&i?(n.data.show=!0,ai(n,(function(){t.style.display=o}))):t.style.display=r?o:\"none\"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=xi(n)).data&&n.data.transition?(n.data.show=!0,r?ai(n,(function(){t.style.display=t.__vOriginalDisplay})):ui(n,(function(){t.style.display=\"none\"}))):t.style.display=r?t.__vOriginalDisplay:\"none\")},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}}},Ei={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Ci(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Ci(We(e.children)):t}function Si(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[O(o)]=i[o];return e}function Oi(t,e){if(/\\d-keep-alive$/.test(e.tag))return t(\"keep-alive\",{props:e.componentOptions.propsData})}var Pi=function(t){return t.tag||_e(t)},Ii=function(t){return\"show\"===t.name},Ti={name:\"transition\",props:Ei,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Pi)).length){0;var r=this.mode;0;var i=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return i;var o=Ci(i);if(!o)return i;if(this._leaving)return Oi(t,i);var s=\"__transition-\"+this._uid+\"-\";o.key=null==o.key?o.isComment?s+\"comment\":s+o.tag:c(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var a=(o.data||(o.data={})).transition=Si(this),u=this._vnode,l=Ci(u);if(o.data.directives&&o.data.directives.some(Ii)&&(o.data.show=!0),l&&l.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(o,l)&&!_e(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var h=l.data.transition=L({},a);if(\"out-in\"===r)return this._leaving=!0,he(h,\"afterLeave\",(function(){e._leaving=!1,e.$forceUpdate()})),Oi(t,i);if(\"in-out\"===r){if(_e(o))return u;var p,f=function(){p()};he(a,\"afterEnter\",f),he(a,\"enterCancelled\",f),he(h,\"delayLeave\",(function(t){p=t}))}}return i}}},Mi=L({tag:String,moveClass:String},Ei);function Ai(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Li(t){t.data.newPos=t.elm.getBoundingClientRect()}function Ri(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform=\"translate(\"+r+\"px,\"+i+\"px)\",o.transitionDuration=\"0s\"}}delete Mi.mode;var Ni={Transition:Ti,TransitionGroup:{props:Mi,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=tn(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||\"span\",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],s=Si(this),a=0;a<i.length;a++){var u=i[a];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf(\"__vlist\"))o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=s;else;}if(r){for(var l=[],c=[],h=0;h<r.length;h++){var p=r[h];p.data.transition=s,p.data.pos=p.elm.getBoundingClientRect(),n[p.key]?l.push(p):c.push(p)}this.kept=t(e,null,l),this.removed=c}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||\"v\")+\"-move\";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Ai),t.forEach(Li),t.forEach(Ri),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;ti(n,e),r.transform=r.WebkitTransform=r.transitionDuration=\"\",n.addEventListener(Hr,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Hr,t),n._moveCb=null,ei(n,e))})}})))},methods:{hasMove:function(t,e){if(!Yr)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){Ur(n,t)})),qr(n,e),n.style.display=\"none\",this.$el.appendChild(n);var r=ii(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};Pn.config.mustUseProp=function(t,e,n){return\"value\"===n&&jn(t)&&\"button\"!==e||\"selected\"===n&&\"option\"===t||\"checked\"===n&&\"input\"===t||\"muted\"===n&&\"video\"===t},Pn.config.isReservedTag=Zn,Pn.config.isReservedAttr=Fn,Pn.config.getTagNamespace=function(t){return Kn(t)?\"svg\":\"math\"===t?\"math\":void 0},Pn.config.isUnknownElement=function(t){if(!W)return!0;if(Zn(t))return!1;if(t=t.toLowerCase(),null!=Jn[t])return Jn[t];var e=document.createElement(t);return t.indexOf(\"-\")>-1?Jn[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Jn[t]=/HTMLUnknownElement/.test(e.toString())},L(Pn.options.directives,wi),L(Pn.options.components,Ni),Pn.prototype.__patch__=W?pi:N,Pn.prototype.$mount=function(t,e){return function(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=mt),rn(t,\"beforeMount\"),r=function(){t._update(t._render(),n)},new yn(t,r,N,{before:function(){t._isMounted&&!t._isDestroyed&&rn(t,\"beforeUpdate\")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,rn(t,\"mounted\")),t}(this,t=t&&W?function(t){if(\"string\"==typeof t){var e=document.querySelector(t);return e||document.createElement(\"div\")}return t}(t):void 0,e)},W&&setTimeout((function(){V.devtools&&at&&at.emit(\"init\",Pn)}),0);var Fi=Pn;\n/*!\n  * vue-router v3.5.3\n  * (c) 2021 Evan You\n  * @license MIT\n  */function ji(t,e){for(var n in e)t[n]=e[n];return t}var Di=/[!'()*]/g,ki=function(t){return\"%\"+t.charCodeAt(0).toString(16)},Gi=/%2C/g,Bi=function(t){return encodeURIComponent(t).replace(Di,ki).replace(Gi,\",\")};function zi(t){try{return decodeURIComponent(t)}catch(t){0}return t}var Vi=function(t){return null==t||\"object\"==typeof t?t:String(t)};function qi(t){var e={};return(t=t.trim().replace(/^(\\?|#|&)/,\"\"))?(t.split(\"&\").forEach((function(t){var n=t.replace(/\\+/g,\" \").split(\"=\"),r=zi(n.shift()),i=n.length>0?zi(n.join(\"=\")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]})),e):e}function Ui(t){var e=t?Object.keys(t).map((function(e){var n=t[e];if(void 0===n)return\"\";if(null===n)return Bi(e);if(Array.isArray(n)){var r=[];return n.forEach((function(t){void 0!==t&&(null===t?r.push(Bi(e)):r.push(Bi(e)+\"=\"+Bi(t)))})),r.join(\"&\")}return Bi(e)+\"=\"+Bi(n)})).filter((function(t){return t.length>0})).join(\"&\"):null;return e?\"?\"+e:\"\"}var $i=/\\/?$/;function Xi(t,e,n,r){var i=r&&r.options.stringifyQuery,o=e.query||{};try{o=Yi(o)}catch(t){}var s={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||\"/\",hash:e.hash||\"\",query:o,params:e.params||{},fullPath:Ki(e,i),matched:t?Hi(t):[]};return n&&(s.redirectedFrom=Ki(n,i)),Object.freeze(s)}function Yi(t){if(Array.isArray(t))return t.map(Yi);if(t&&\"object\"==typeof t){var e={};for(var n in t)e[n]=Yi(t[n]);return e}return t}var Wi=Xi(null,{path:\"/\"});function Hi(t){for(var e=[];t;)e.unshift(t),t=t.parent;return e}function Ki(t,e){var n=t.path,r=t.query;void 0===r&&(r={});var i=t.hash;return void 0===i&&(i=\"\"),(n||\"/\")+(e||Ui)(r)+i}function Zi(t,e,n){return e===Wi?t===e:!!e&&(t.path&&e.path?t.path.replace($i,\"\")===e.path.replace($i,\"\")&&(n||t.hash===e.hash&&Ji(t.query,e.query)):!(!t.name||!e.name)&&(t.name===e.name&&(n||t.hash===e.hash&&Ji(t.query,e.query)&&Ji(t.params,e.params))))}function Ji(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t).sort(),r=Object.keys(e).sort();return n.length===r.length&&n.every((function(n,i){var o=t[n];if(r[i]!==n)return!1;var s=e[n];return null==o||null==s?o===s:\"object\"==typeof o&&\"object\"==typeof s?Ji(o,s):String(o)===String(s)}))}function Qi(t){for(var e=0;e<t.matched.length;e++){var n=t.matched[e];for(var r in n.instances){var i=n.instances[r],o=n.enteredCbs[r];if(i&&o){delete n.enteredCbs[r];for(var s=0;s<o.length;s++)i._isBeingDestroyed||o[s](i)}}}}var to={name:\"RouterView\",functional:!0,props:{name:{type:String,default:\"default\"}},render:function(t,e){var n=e.props,r=e.children,i=e.parent,o=e.data;o.routerView=!0;for(var s=i.$createElement,a=n.name,u=i.$route,l=i._routerViewCache||(i._routerViewCache={}),c=0,h=!1;i&&i._routerRoot!==i;){var p=i.$vnode?i.$vnode.data:{};p.routerView&&c++,p.keepAlive&&i._directInactive&&i._inactive&&(h=!0),i=i.$parent}if(o.routerViewDepth=c,h){var f=l[a],d=f&&f.component;return d?(f.configProps&&eo(d,o,f.route,f.configProps),s(d,o,r)):s()}var g=u.matched[c],y=g&&g.components[a];if(!g||!y)return l[a]=null,s();l[a]={component:y},o.registerRouteInstance=function(t,e){var n=g.instances[a];(e&&n!==t||!e&&n===t)&&(g.instances[a]=e)},(o.hook||(o.hook={})).prepatch=function(t,e){g.instances[a]=e.componentInstance},o.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==g.instances[a]&&(g.instances[a]=t.componentInstance),Qi(u)};var v=g.props&&g.props[a];return v&&(ji(l[a],{route:u,configProps:v}),eo(y,o,u,v)),s(y,o,r)}};function eo(t,e,n,r){var i=e.props=function(t,e){switch(typeof e){case\"undefined\":return;case\"object\":return e;case\"function\":return e(t);case\"boolean\":return e?t.params:void 0;default:0}}(n,r);if(i){i=e.props=ji({},i);var o=e.attrs=e.attrs||{};for(var s in i)t.props&&s in t.props||(o[s]=i[s],delete i[s])}}function no(t,e,n){var r=t.charAt(0);if(\"/\"===r)return t;if(\"?\"===r||\"#\"===r)return e+t;var i=e.split(\"/\");n&&i[i.length-1]||i.pop();for(var o=t.replace(/^\\//,\"\").split(\"/\"),s=0;s<o.length;s++){var a=o[s];\"..\"===a?i.pop():\".\"!==a&&i.push(a)}return\"\"!==i[0]&&i.unshift(\"\"),i.join(\"/\")}function ro(t){return t.replace(/\\/+/g,\"/\")}var io=Array.isArray||function(t){return\"[object Array]\"==Object.prototype.toString.call(t)},oo=bo,so=ho,ao=function(t,e){return fo(ho(t,e),e)},uo=fo,lo=mo,co=new RegExp([\"(\\\\\\\\.)\",\"([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))\"].join(\"|\"),\"g\");function ho(t,e){for(var n,r=[],i=0,o=0,s=\"\",a=e&&e.delimiter||\"/\";null!=(n=co.exec(t));){var u=n[0],l=n[1],c=n.index;if(s+=t.slice(o,c),o=c+u.length,l)s+=l[1];else{var h=t[o],p=n[2],f=n[3],d=n[4],g=n[5],y=n[6],v=n[7];s&&(r.push(s),s=\"\");var _=null!=p&&null!=h&&h!==p,m=\"+\"===y||\"*\"===y,b=\"?\"===y||\"*\"===y,x=n[2]||a,w=d||g;r.push({name:f||i++,prefix:p||\"\",delimiter:x,optional:b,repeat:m,partial:_,asterisk:!!v,pattern:w?yo(w):v?\".*\":\"[^\"+go(x)+\"]+?\"})}}return o<t.length&&(s+=t.substr(o)),s&&r.push(s),r}function po(t){return encodeURI(t).replace(/[\\/?#]/g,(function(t){return\"%\"+t.charCodeAt(0).toString(16).toUpperCase()}))}function fo(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)\"object\"==typeof t[r]&&(n[r]=new RegExp(\"^(?:\"+t[r].pattern+\")$\",_o(e)));return function(e,r){for(var i=\"\",o=e||{},s=(r||{}).pretty?po:encodeURIComponent,a=0;a<t.length;a++){var u=t[a];if(\"string\"!=typeof u){var l,c=o[u.name];if(null==c){if(u.optional){u.partial&&(i+=u.prefix);continue}throw new TypeError('Expected \"'+u.name+'\" to be defined')}if(io(c)){if(!u.repeat)throw new TypeError('Expected \"'+u.name+'\" to not repeat, but received `'+JSON.stringify(c)+\"`\");if(0===c.length){if(u.optional)continue;throw new TypeError('Expected \"'+u.name+'\" to not be empty')}for(var h=0;h<c.length;h++){if(l=s(c[h]),!n[a].test(l))throw new TypeError('Expected all \"'+u.name+'\" to match \"'+u.pattern+'\", but received `'+JSON.stringify(l)+\"`\");i+=(0===h?u.prefix:u.delimiter)+l}}else{if(l=u.asterisk?encodeURI(c).replace(/[?#]/g,(function(t){return\"%\"+t.charCodeAt(0).toString(16).toUpperCase()})):s(c),!n[a].test(l))throw new TypeError('Expected \"'+u.name+'\" to match \"'+u.pattern+'\", but received \"'+l+'\"');i+=u.prefix+l}}else i+=u}return i}}function go(t){return t.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g,\"\\\\$1\")}function yo(t){return t.replace(/([=!:$\\/()])/g,\"\\\\$1\")}function vo(t,e){return t.keys=e,t}function _o(t){return t&&t.sensitive?\"\":\"i\"}function mo(t,e,n){io(e)||(n=e||n,e=[]);for(var r=(n=n||{}).strict,i=!1!==n.end,o=\"\",s=0;s<t.length;s++){var a=t[s];if(\"string\"==typeof a)o+=go(a);else{var u=go(a.prefix),l=\"(?:\"+a.pattern+\")\";e.push(a),a.repeat&&(l+=\"(?:\"+u+l+\")*\"),o+=l=a.optional?a.partial?u+\"(\"+l+\")?\":\"(?:\"+u+\"(\"+l+\"))?\":u+\"(\"+l+\")\"}}var c=go(n.delimiter||\"/\"),h=o.slice(-c.length)===c;return r||(o=(h?o.slice(0,-c.length):o)+\"(?:\"+c+\"(?=$))?\"),o+=i?\"$\":r&&h?\"\":\"(?=\"+c+\"|$)\",vo(new RegExp(\"^\"+o,_o(n)),e)}function bo(t,e,n){return io(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\\((?!\\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return vo(t,e)}(t,e):io(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(bo(t[i],e,n).source);return vo(new RegExp(\"(?:\"+r.join(\"|\")+\")\",_o(n)),e)}(t,e,n):function(t,e,n){return mo(ho(t,n),e,n)}(t,e,n)}oo.parse=so,oo.compile=ao,oo.tokensToFunction=uo,oo.tokensToRegExp=lo;var xo=Object.create(null);function wo(t,e,n){e=e||{};try{var r=xo[t]||(xo[t]=oo.compile(t));return\"string\"==typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(t){return\"\"}finally{delete e[0]}}function Eo(t,e,n,r){var i=\"string\"==typeof t?{path:t}:t;if(i._normalized)return i;if(i.name){var o=(i=ji({},t)).params;return o&&\"object\"==typeof o&&(i.params=ji({},o)),i}if(!i.path&&i.params&&e){(i=ji({},i))._normalized=!0;var s=ji(ji({},e.params),i.params);if(e.name)i.name=e.name,i.params=s;else if(e.matched.length){var a=e.matched[e.matched.length-1].path;i.path=wo(a,s,e.path)}else 0;return i}var u=function(t){var e=\"\",n=\"\",r=t.indexOf(\"#\");r>=0&&(e=t.slice(r),t=t.slice(0,r));var i=t.indexOf(\"?\");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{path:t,query:n,hash:e}}(i.path||\"\"),l=e&&e.path||\"/\",c=u.path?no(u.path,l,n||i.append):l,h=function(t,e,n){void 0===e&&(e={});var r,i=n||qi;try{r=i(t||\"\")}catch(t){r={}}for(var o in e){var s=e[o];r[o]=Array.isArray(s)?s.map(Vi):Vi(s)}return r}(u.query,i.query,r&&r.options.parseQuery),p=i.hash||u.hash;return p&&\"#\"!==p.charAt(0)&&(p=\"#\"+p),{_normalized:!0,path:c,query:h,hash:p}}var Co,So=function(){},Oo={name:\"RouterLink\",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:\"a\"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:\"page\"},event:{type:[String,Array],default:\"click\"}},render:function(t){var e=this,n=this.$router,r=this.$route,i=n.resolve(this.to,r,this.append),o=i.location,s=i.route,a=i.href,u={},l=n.options.linkActiveClass,c=n.options.linkExactActiveClass,h=null==l?\"router-link-active\":l,p=null==c?\"router-link-exact-active\":c,f=null==this.activeClass?h:this.activeClass,d=null==this.exactActiveClass?p:this.exactActiveClass,g=s.redirectedFrom?Xi(null,Eo(s.redirectedFrom),null,n):s;u[d]=Zi(r,g,this.exactPath),u[f]=this.exact||this.exactPath?u[d]:function(t,e){return 0===t.path.replace($i,\"/\").indexOf(e.path.replace($i,\"/\"))&&(!e.hash||t.hash===e.hash)&&function(t,e){for(var n in e)if(!(n in t))return!1;return!0}(t.query,e.query)}(r,g);var y=u[d]?this.ariaCurrentValue:null,v=function(t){Po(t)&&(e.replace?n.replace(o,So):n.push(o,So))},_={click:Po};Array.isArray(this.event)?this.event.forEach((function(t){_[t]=v})):_[this.event]=v;var m={class:u},b=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:a,route:s,navigate:v,isActive:u[f],isExactActive:u[d]});if(b){if(1===b.length)return b[0];if(b.length>1||!b.length)return 0===b.length?t():t(\"span\",{},b)}if(\"a\"===this.tag)m.on=_,m.attrs={href:a,\"aria-current\":y};else{var x=function t(e){var n;if(e)for(var r=0;r<e.length;r++){if(\"a\"===(n=e[r]).tag)return n;if(n.children&&(n=t(n.children)))return n}}(this.$slots.default);if(x){x.isStatic=!1;var w=x.data=ji({},x.data);for(var E in w.on=w.on||{},w.on){var C=w.on[E];E in _&&(w.on[E]=Array.isArray(C)?C:[C])}for(var S in _)S in w.on?w.on[S].push(_[S]):w.on[S]=v;var O=x.data.attrs=ji({},x.data.attrs);O.href=a,O[\"aria-current\"]=y}else m.on=_}return t(this.tag,m,this.$slots.default)}};function Po(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute(\"target\");if(/\\b_blank\\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}var Io=\"undefined\"!=typeof window;function To(t,e,n,r,i){var o=e||[],s=n||Object.create(null),a=r||Object.create(null);t.forEach((function(t){!function t(e,n,r,i,o,s){var a=i.path,u=i.name;0;var l=i.pathToRegexpOptions||{},c=function(t,e,n){n||(t=t.replace(/\\/$/,\"\"));if(\"/\"===t[0])return t;if(null==e)return t;return ro(e.path+\"/\"+t)}(a,o,l.strict);\"boolean\"==typeof i.caseSensitive&&(l.sensitive=i.caseSensitive);var h={path:c,regex:Mo(c,l),components:i.components||{default:i.component},alias:i.alias?\"string\"==typeof i.alias?[i.alias]:i.alias:[],instances:{},enteredCbs:{},name:u,parent:o,matchAs:s,redirect:i.redirect,beforeEnter:i.beforeEnter,meta:i.meta||{},props:null==i.props?{}:i.components?i.props:{default:i.props}};i.children&&i.children.forEach((function(i){var o=s?ro(s+\"/\"+i.path):void 0;t(e,n,r,i,h,o)}));n[h.path]||(e.push(h.path),n[h.path]=h);if(void 0!==i.alias)for(var p=Array.isArray(i.alias)?i.alias:[i.alias],f=0;f<p.length;++f){0;var d={path:p[f],children:i.children};t(e,n,r,d,o,h.path||\"/\")}u&&(r[u]||(r[u]=h))}(o,s,a,t,i)}));for(var u=0,l=o.length;u<l;u++)\"*\"===o[u]&&(o.push(o.splice(u,1)[0]),l--,u--);return{pathList:o,pathMap:s,nameMap:a}}function Mo(t,e){return oo(t,[],e)}function Ao(t,e){var n=To(t),r=n.pathList,i=n.pathMap,o=n.nameMap;function s(t,n,s){var a=Eo(t,n,!1,e),l=a.name;if(l){var c=o[l];if(!c)return u(null,a);var h=c.regex.keys.filter((function(t){return!t.optional})).map((function(t){return t.name}));if(\"object\"!=typeof a.params&&(a.params={}),n&&\"object\"==typeof n.params)for(var p in n.params)!(p in a.params)&&h.indexOf(p)>-1&&(a.params[p]=n.params[p]);return a.path=wo(c.path,a.params),u(c,a,s)}if(a.path){a.params={};for(var f=0;f<r.length;f++){var d=r[f],g=i[d];if(Lo(g.regex,a.path,a.params))return u(g,a,s)}}return u(null,a)}function a(t,n){var r=t.redirect,i=\"function\"==typeof r?r(Xi(t,n,null,e)):r;if(\"string\"==typeof i&&(i={path:i}),!i||\"object\"!=typeof i)return u(null,n);var a=i,l=a.name,c=a.path,h=n.query,p=n.hash,f=n.params;if(h=a.hasOwnProperty(\"query\")?a.query:h,p=a.hasOwnProperty(\"hash\")?a.hash:p,f=a.hasOwnProperty(\"params\")?a.params:f,l){o[l];return s({_normalized:!0,name:l,query:h,hash:p,params:f},void 0,n)}if(c){var d=function(t,e){return no(t,e.parent?e.parent.path:\"/\",!0)}(c,t);return s({_normalized:!0,path:wo(d,f),query:h,hash:p},void 0,n)}return u(null,n)}function u(t,n,r){return t&&t.redirect?a(t,r||n):t&&t.matchAs?function(t,e,n){var r=s({_normalized:!0,path:wo(n,e.params)});if(r){var i=r.matched,o=i[i.length-1];return e.params=r.params,u(o,e)}return u(null,e)}(0,n,t.matchAs):Xi(t,n,r,e)}return{match:s,addRoute:function(t,e){var n=\"object\"!=typeof t?o[t]:void 0;To([e||t],r,i,o,n),n&&n.alias.length&&To(n.alias.map((function(t){return{path:t,children:[e]}})),r,i,o,n)},getRoutes:function(){return r.map((function(t){return i[t]}))},addRoutes:function(t){To(t,r,i,o)}}}function Lo(t,e,n){var r=e.match(t);if(!r)return!1;if(!n)return!0;for(var i=1,o=r.length;i<o;++i){var s=t.keys[i-1];s&&(n[s.name||\"pathMatch\"]=\"string\"==typeof r[i]?zi(r[i]):r[i])}return!0}var Ro=Io&&window.performance&&window.performance.now?window.performance:Date;function No(){return Ro.now().toFixed(3)}var Fo=No();function jo(){return Fo}function Do(t){return Fo=t}var ko=Object.create(null);function Go(){\"scrollRestoration\"in window.history&&(window.history.scrollRestoration=\"manual\");var t=window.location.protocol+\"//\"+window.location.host,e=window.location.href.replace(t,\"\"),n=ji({},window.history.state);return n.key=jo(),window.history.replaceState(n,\"\",e),window.addEventListener(\"popstate\",Vo),function(){window.removeEventListener(\"popstate\",Vo)}}function Bo(t,e,n,r){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick((function(){var o=function(){var t=jo();if(t)return ko[t]}(),s=i.call(t,e,n,r?o:null);s&&(\"function\"==typeof s.then?s.then((function(t){Yo(t,o)})).catch((function(t){0})):Yo(s,o))}))}}function zo(){var t=jo();t&&(ko[t]={x:window.pageXOffset,y:window.pageYOffset})}function Vo(t){zo(),t.state&&t.state.key&&Do(t.state.key)}function qo(t){return $o(t.x)||$o(t.y)}function Uo(t){return{x:$o(t.x)?t.x:window.pageXOffset,y:$o(t.y)?t.y:window.pageYOffset}}function $o(t){return\"number\"==typeof t}var Xo=/^#\\d/;function Yo(t,e){var n,r=\"object\"==typeof t;if(r&&\"string\"==typeof t.selector){var i=Xo.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(i){var o=t.offset&&\"object\"==typeof t.offset?t.offset:{};e=function(t,e){var n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{x:r.left-n.left-e.x,y:r.top-n.top-e.y}}(i,o={x:$o((n=o).x)?n.x:0,y:$o(n.y)?n.y:0})}else qo(t)&&(e=Uo(t))}else r&&qo(t)&&(e=Uo(t));e&&(\"scrollBehavior\"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:t.behavior}):window.scrollTo(e.x,e.y))}var Wo=Io&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf(\"Android 2.\")&&-1===t.indexOf(\"Android 4.0\")||-1===t.indexOf(\"Mobile Safari\")||-1!==t.indexOf(\"Chrome\")||-1!==t.indexOf(\"Windows Phone\"))&&(window.history&&\"function\"==typeof window.history.pushState)}();function Ho(t,e){zo();var n=window.history;try{if(e){var r=ji({},n.state);r.key=jo(),n.replaceState(r,\"\",t)}else n.pushState({key:Do(No())},\"\",t)}catch(n){window.location[e?\"replace\":\"assign\"](t)}}function Ko(t){Ho(t,!0)}function Zo(t,e,n){var r=function(i){i>=t.length?n():t[i]?e(t[i],(function(){r(i+1)})):r(i+1)};r(0)}var Jo={redirected:2,aborted:4,cancelled:8,duplicated:16};function Qo(t,e){return es(t,e,Jo.redirected,'Redirected when going from \"'+t.fullPath+'\" to \"'+function(t){if(\"string\"==typeof t)return t;if(\"path\"in t)return t.path;var e={};return ns.forEach((function(n){n in t&&(e[n]=t[n])})),JSON.stringify(e,null,2)}(e)+'\" via a navigation guard.')}function ts(t,e){return es(t,e,Jo.cancelled,'Navigation cancelled from \"'+t.fullPath+'\" to \"'+e.fullPath+'\" with a new navigation.')}function es(t,e,n,r){var i=new Error(r);return i._isRouter=!0,i.from=t,i.to=e,i.type=n,i}var ns=[\"params\",\"query\",\"hash\"];function rs(t){return Object.prototype.toString.call(t).indexOf(\"Error\")>-1}function is(t,e){return rs(t)&&t._isRouter&&(null==e||t.type===e)}function os(t){return function(e,n,r){var i=!1,o=0,s=null;ss(t,(function(t,e,n,a){if(\"function\"==typeof t&&void 0===t.cid){i=!0,o++;var u,l=ls((function(e){var i;((i=e).__esModule||us&&\"Module\"===i[Symbol.toStringTag])&&(e=e.default),t.resolved=\"function\"==typeof e?e:Co.extend(e),n.components[a]=e,--o<=0&&r()})),c=ls((function(t){var e=\"Failed to resolve async component \"+a+\": \"+t;s||(s=rs(t)?t:new Error(e),r(s))}));try{u=t(l,c)}catch(t){c(t)}if(u)if(\"function\"==typeof u.then)u.then(l,c);else{var h=u.component;h&&\"function\"==typeof h.then&&h.then(l,c)}}})),i||r()}}function ss(t,e){return as(t.map((function(t){return Object.keys(t.components).map((function(n){return e(t.components[n],t.instances[n],t,n)}))})))}function as(t){return Array.prototype.concat.apply([],t)}var us=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.toStringTag;function ls(t){var e=!1;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}var cs=function(t,e){this.router=t,this.base=function(t){if(!t)if(Io){var e=document.querySelector(\"base\");t=(t=e&&e.getAttribute(\"href\")||\"/\").replace(/^https?:\\/\\/[^\\/]+/,\"\")}else t=\"/\";\"/\"!==t.charAt(0)&&(t=\"/\"+t);return t.replace(/\\/$/,\"\")}(e),this.current=Wi,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function hs(t,e,n,r){var i=ss(t,(function(t,r,i,o){var s=function(t,e){\"function\"!=typeof t&&(t=Co.extend(t));return t.options[e]}(t,e);if(s)return Array.isArray(s)?s.map((function(t){return n(t,r,i,o)})):n(s,r,i,o)}));return as(r?i.reverse():i)}function ps(t,e){if(e)return function(){return t.apply(e,arguments)}}cs.prototype.listen=function(t){this.cb=t},cs.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},cs.prototype.onError=function(t){this.errorCbs.push(t)},cs.prototype.transitionTo=function(t,e,n){var r,i=this;try{r=this.router.match(t,this.current)}catch(t){throw this.errorCbs.forEach((function(e){e(t)})),t}var o=this.current;this.confirmTransition(r,(function(){i.updateRoute(r),e&&e(r),i.ensureURL(),i.router.afterHooks.forEach((function(t){t&&t(r,o)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(t){t(r)})))}),(function(t){n&&n(t),t&&!i.ready&&(is(t,Jo.redirected)&&o===Wi||(i.ready=!0,i.readyErrorCbs.forEach((function(e){e(t)}))))}))},cs.prototype.confirmTransition=function(t,e,n){var r=this,i=this.current;this.pending=t;var o,s,a=function(t){!is(t)&&rs(t)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(t)})):console.error(t)),n&&n(t)},u=t.matched.length-1,l=i.matched.length-1;if(Zi(t,i)&&u===l&&t.matched[u]===i.matched[l])return this.ensureURL(),t.hash&&Bo(this.router,i,t,!1),a(((s=es(o=i,t,Jo.duplicated,'Avoided redundant navigation to current location: \"'+o.fullPath+'\".')).name=\"NavigationDuplicated\",s));var c=function(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r&&t[n]===e[n];n++);return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}(this.current.matched,t.matched),h=c.updated,p=c.deactivated,f=c.activated,d=[].concat(function(t){return hs(t,\"beforeRouteLeave\",ps,!0)}(p),this.router.beforeHooks,function(t){return hs(t,\"beforeRouteUpdate\",ps)}(h),f.map((function(t){return t.beforeEnter})),os(f)),g=function(e,n){if(r.pending!==t)return a(ts(i,t));try{e(t,i,(function(e){!1===e?(r.ensureURL(!0),a(function(t,e){return es(t,e,Jo.aborted,'Navigation aborted from \"'+t.fullPath+'\" to \"'+e.fullPath+'\" via a navigation guard.')}(i,t))):rs(e)?(r.ensureURL(!0),a(e)):\"string\"==typeof e||\"object\"==typeof e&&(\"string\"==typeof e.path||\"string\"==typeof e.name)?(a(Qo(i,t)),\"object\"==typeof e&&e.replace?r.replace(e):r.push(e)):n(e)}))}catch(t){a(t)}};Zo(d,g,(function(){Zo(function(t){return hs(t,\"beforeRouteEnter\",(function(t,e,n,r){return function(t,e,n){return function(r,i,o){return t(r,i,(function(t){\"function\"==typeof t&&(e.enteredCbs[n]||(e.enteredCbs[n]=[]),e.enteredCbs[n].push(t)),o(t)}))}}(t,n,r)}))}(f).concat(r.router.resolveHooks),g,(function(){if(r.pending!==t)return a(ts(i,t));r.pending=null,e(t),r.router.app&&r.router.app.$nextTick((function(){Qi(t)}))}))}))},cs.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)},cs.prototype.setupListeners=function(){},cs.prototype.teardown=function(){this.listeners.forEach((function(t){t()})),this.listeners=[],this.current=Wi,this.pending=null};var fs=function(t){function e(e,n){t.call(this,e,n),this._startLocation=ds(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=Wo&&n;r&&this.listeners.push(Go());var i=function(){var n=t.current,i=ds(t.base);t.current===Wi&&i===t._startLocation||t.transitionTo(i,(function(t){r&&Bo(e,t,n,!0)}))};window.addEventListener(\"popstate\",i),this.listeners.push((function(){window.removeEventListener(\"popstate\",i)}))}},e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,(function(t){Ho(ro(r.base+t.fullPath)),Bo(r.router,t,i,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,(function(t){Ko(ro(r.base+t.fullPath)),Bo(r.router,t,i,!1),e&&e(t)}),n)},e.prototype.ensureURL=function(t){if(ds(this.base)!==this.current.fullPath){var e=ro(this.base+this.current.fullPath);t?Ho(e):Ko(e)}},e.prototype.getCurrentLocation=function(){return ds(this.base)},e}(cs);function ds(t){var e=window.location.pathname,n=e.toLowerCase(),r=t.toLowerCase();return!t||n!==r&&0!==n.indexOf(ro(r+\"/\"))||(e=e.slice(t.length)),(e||\"/\")+window.location.search+window.location.hash}var gs=function(t){function e(e,n,r){t.call(this,e,n),r&&function(t){var e=ds(t);if(!/^\\/#/.test(e))return window.location.replace(ro(t+\"/#\"+e)),!0}(this.base)||ys()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,n=Wo&&e;n&&this.listeners.push(Go());var r=function(){var e=t.current;ys()&&t.transitionTo(vs(),(function(r){n&&Bo(t.router,r,e,!0),Wo||bs(r.fullPath)}))},i=Wo?\"popstate\":\"hashchange\";window.addEventListener(i,r),this.listeners.push((function(){window.removeEventListener(i,r)}))}},e.prototype.push=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,(function(t){ms(t.fullPath),Bo(r.router,t,i,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,(function(t){bs(t.fullPath),Bo(r.router,t,i,!1),e&&e(t)}),n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;vs()!==e&&(t?ms(e):bs(e))},e.prototype.getCurrentLocation=function(){return vs()},e}(cs);function ys(){var t=vs();return\"/\"===t.charAt(0)||(bs(\"/\"+t),!1)}function vs(){var t=window.location.href,e=t.indexOf(\"#\");return e<0?\"\":t=t.slice(e+1)}function _s(t){var e=window.location.href,n=e.indexOf(\"#\");return(n>=0?e.slice(0,n):e)+\"#\"+t}function ms(t){Wo?Ho(_s(t)):window.location.hash=t}function bs(t){Wo?Ko(_s(t)):window.location.replace(_s(t))}var xs=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index+1).concat(t),r.index++,e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index).concat(t),e&&e(t)}),n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){var t=e.current;e.index=n,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,t)}))}),(function(t){is(t,Jo.duplicated)&&(e.index=n)}))}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:\"/\"},e.prototype.ensureURL=function(){},e}(cs),ws=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Ao(t.routes||[],this);var e=t.mode||\"hash\";switch(this.fallback=\"history\"===e&&!Wo&&!1!==t.fallback,this.fallback&&(e=\"hash\"),Io||(e=\"abstract\"),this.mode=e,e){case\"history\":this.history=new fs(this,t.base);break;case\"hash\":this.history=new gs(this,t.base,this.fallback);break;case\"abstract\":this.history=new xs(this,t.base);break;default:0}},Es={currentRoute:{configurable:!0}};function Cs(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}ws.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},Es.currentRoute.get=function(){return this.history&&this.history.current},ws.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once(\"hook:destroyed\",(function(){var n=e.apps.indexOf(t);n>-1&&e.apps.splice(n,1),e.app===t&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=t;var n=this.history;if(n instanceof fs||n instanceof gs){var r=function(t){n.setupListeners(),function(t){var r=n.current,i=e.options.scrollBehavior;Wo&&i&&\"fullPath\"in t&&Bo(e,t,r,!1)}(t)};n.transitionTo(n.getCurrentLocation(),r,r)}n.listen((function(t){e.apps.forEach((function(e){e._route=t}))}))}},ws.prototype.beforeEach=function(t){return Cs(this.beforeHooks,t)},ws.prototype.beforeResolve=function(t){return Cs(this.resolveHooks,t)},ws.prototype.afterEach=function(t){return Cs(this.afterHooks,t)},ws.prototype.onReady=function(t,e){this.history.onReady(t,e)},ws.prototype.onError=function(t){this.history.onError(t)},ws.prototype.push=function(t,e,n){var r=this;if(!e&&!n&&\"undefined\"!=typeof Promise)return new Promise((function(e,n){r.history.push(t,e,n)}));this.history.push(t,e,n)},ws.prototype.replace=function(t,e,n){var r=this;if(!e&&!n&&\"undefined\"!=typeof Promise)return new Promise((function(e,n){r.history.replace(t,e,n)}));this.history.replace(t,e,n)},ws.prototype.go=function(t){this.history.go(t)},ws.prototype.back=function(){this.go(-1)},ws.prototype.forward=function(){this.go(1)},ws.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(t){return Object.keys(t.components).map((function(e){return t.components[e]}))}))):[]},ws.prototype.resolve=function(t,e,n){var r=Eo(t,e=e||this.history.current,n,this),i=this.match(r,e),o=i.redirectedFrom||i.fullPath;return{location:r,route:i,href:function(t,e,n){var r=\"hash\"===n?\"#\"+e:e;return t?ro(t+\"/\"+r):r}(this.history.base,o,this.mode),normalizedTo:r,resolved:i}},ws.prototype.getRoutes=function(){return this.matcher.getRoutes()},ws.prototype.addRoute=function(t,e){this.matcher.addRoute(t,e),this.history.current!==Wi&&this.history.transitionTo(this.history.getCurrentLocation())},ws.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==Wi&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(ws.prototype,Es),ws.install=function t(e){if(!t.installed||Co!==e){t.installed=!0,Co=e;var n=function(t){return void 0!==t},r=function(t,e){var r=t.$options._parentVnode;n(r)&&n(r=r.data)&&n(r=r.registerRouteInstance)&&r(t,e)};e.mixin({beforeCreate:function(){n(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,\"_route\",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,\"$router\",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,\"$route\",{get:function(){return this._routerRoot._route}}),e.component(\"RouterView\",to),e.component(\"RouterLink\",Oo);var i=e.config.optionMergeStrategies;i.beforeRouteEnter=i.beforeRouteLeave=i.beforeRouteUpdate=i.created}},ws.version=\"3.5.3\",ws.isNavigationFailure=is,ws.NavigationFailureType=Jo,ws.START_LOCATION=Wi,Io&&window.Vue&&window.Vue.use(ws);var Ss=ws;n(170),n(171),n(269),n(76),n(271),n(41),n(42),n(272);function Os(t){t.locales&&Object.keys(t.locales).forEach((function(e){t.locales[e].path=e})),Object.freeze(t)}n(69),n(92),n(122);function Ps(t){return(Ps=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var Is=n(72),Ts=(n(183),n(19),n(39),n(231),n(232),n(37),n(34),{NotFound:function(){return n.e(6).then(n.bind(null,457))},Layout:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,456))}}),Ms={\"v-545d25ea\":function(){return n.e(10).then(n.bind(null,461))},\"v-61186900\":function(){return n.e(8).then(n.bind(null,458))},\"v-3b21b806\":function(){return n.e(9).then(n.bind(null,462))},\"v-10c6a5fe\":function(){return n.e(7).then(n.bind(null,463))}};function As(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var Ls=/-(\\w)/g,Rs=As((function(t){return t.replace(Ls,(function(t,e){return e?e.toUpperCase():\"\"}))})),Ns=/\\B([A-Z])/g,Fs=As((function(t){return t.replace(Ns,\"-$1\").toLowerCase()})),js=As((function(t){return t.charAt(0).toUpperCase()+t.slice(1)}));function Ds(t,e){if(e)return t(e)?t(e):e.includes(\"-\")?t(js(Rs(e))):t(js(e))||t(Fs(e))}var ks=Object.assign({},Ts,Ms),Gs=function(t){return ks[t]},Bs=function(t){return Ms[t]},zs=function(t){return Ts[t]},Vs=function(t){return Fi.component(t)};function qs(t){return Ds(Bs,t)}function Us(t){return Ds(zs,t)}function $s(t){return Ds(Gs,t)}function Xs(t){return Ds(Vs,t)}function Ys(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Promise.all(e.filter((function(t){return t})).map(function(){var t=o(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Xs(e)||!$s(e)){t.next=5;break}return t.next=3,$s(e)();case 3:n=t.sent,Fi.component(e,n.default);case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}function Ws(t,e){\"undefined\"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[t]=e)}n(105);var Hs=n(101);function Ks(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(t){a=!0,i=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||Object(Hs.a)(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}n(179),n(222),n(109);var Zs=n(216),Js=n.n(Zs),Qs=n(217),ta=n.n(Qs),ea={created:function(){if(this.siteMeta=this.$site.headTags.filter((function(t){return\"meta\"===Ks(t,1)[0]})).map((function(t){var e=Ks(t,2);e[0];return e[1]})),this.$ssrContext){var t=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(e=t)?e.map((function(t){var e=\"<meta\";return Object.keys(t).forEach((function(n){e+=\" \".concat(n,'=\"').concat(ta()(t[n]),'\"')})),e+\">\"})).join(\"\\n    \"):\"\",this.$ssrContext.canonicalLink=ra(this.$canonicalUrl)}var e},mounted:function(){this.currentMetaTags=Object(Is.a)(document.querySelectorAll(\"meta\")),this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta:function(){document.title=this.$title,document.documentElement.lang=this.$lang;var t=this.getMergedMetaTags();this.currentMetaTags=ia(t,this.currentMetaTags)},getMergedMetaTags:function(){var t=this.$page.frontmatter.meta||[];return Js()([{name:\"description\",content:this.$description}],t,this.siteMeta,oa)},updateCanonicalLink:function(){na(),this.$canonicalUrl&&document.head.insertAdjacentHTML(\"beforeend\",ra(this.$canonicalUrl))}},watch:{$page:function(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy:function(){ia(null,this.currentMetaTags),na()}};function na(){var t=document.querySelector(\"link[rel='canonical']\");t&&t.remove()}function ra(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";return t?'<link href=\"'.concat(t,'\" rel=\"canonical\" />'):\"\"}function ia(t,e){if(e&&Object(Is.a)(e).filter((function(t){return t.parentNode===document.head})).forEach((function(t){return document.head.removeChild(t)})),t)return t.map((function(t){var e=document.createElement(\"meta\");return Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])})),document.head.appendChild(e),e}))}function oa(t){for(var e=0,n=[\"name\",\"property\",\"itemprop\"];e<n.length;e++){var r=n[e];if(t.hasOwnProperty(r))return t[r]+r}return JSON.stringify(t)}n(134);var sa=n(218),aa={mounted:function(){window.addEventListener(\"scroll\",this.onScroll)},methods:{onScroll:n.n(sa)()((function(){this.setActiveHash()}),300),setActiveHash:function(){for(var t=this,e=[].slice.call(document.querySelectorAll(\".sidebar-link\")),n=[].slice.call(document.querySelectorAll(\".header-anchor\")).filter((function(t){return e.some((function(e){return e.hash===t.hash}))})),r=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),i=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),o=window.innerHeight+r,s=0;s<n.length;s++){var a=n[s],u=n[s+1],l=0===s&&0===r||r>=a.parentElement.offsetTop+10&&(!u||r<u.parentElement.offsetTop-10),c=decodeURIComponent(this.$route.hash);if(l&&c!==decodeURIComponent(a.hash)){var h=a;if(o===i)for(var p=s+1;p<n.length;p++)if(c===decodeURIComponent(n[p].hash))return;return this.$vuepress.$set(\"disableScrollBehavior\",!0),void this.$router.replace(decodeURIComponent(h.hash),(function(){t.$nextTick((function(){t.$vuepress.$set(\"disableScrollBehavior\",!1)}))}))}}}},beforeDestroy:function(){window.removeEventListener(\"scroll\",this.onScroll)}},ua=(n(93),n(103)),la=n.n(ua),ca={mounted:function(){var t=this;la.a.configure({showSpinner:!1}),this.$router.beforeEach((function(t,e,n){t.path===e.path||Fi.component(t.name)||la.a.start(),n()})),this.$router.afterEach((function(){la.a.done(),t.isSidebarOpen=!1}))}};n(104),n(132),n(384);function ha(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}n(100);function pa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fa(t,e,n){return e&&pa(t.prototype,e),n&&pa(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}n(385);var da=function(){function t(){ha(this,t);this.containerEl=document.getElementById(\"message-container\"),this.containerEl||(this.containerEl=document.createElement(\"div\"),this.containerEl.id=\"message-container\",document.body.appendChild(this.containerEl))}return fa(t,[{key:\"show\",value:function(t){var e=this,n=t.text,r=void 0===n?\"\":n,i=t.duration,o=void 0===i?3e3:i,s=document.createElement(\"div\");s.className=\"message move-in\",s.innerHTML='\\n      <i style=\"fill: #06a35a;font-size: 14px;display:inline-flex;align-items: center;\">\\n        <svg style=\"fill: #06a35a;font-size: 14px;\" t=\"1572421810237\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2323\" width=\"16\" height=\"16\"><path d=\"M822.811993 824.617989c-83.075838 81.99224-188.546032 124.613757-316.049383 127.86455-122.085362-3.250794-223.943563-45.87231-305.935802-127.86455s-124.613757-184.21164-127.86455-305.935802c3.250794-127.503351 45.87231-232.973545 127.86455-316.049383 81.99224-83.075838 184.21164-126.058554 305.935802-129.309347 127.503351 3.250794 232.973545 46.23351 316.049383 129.309347 83.075838 83.075838 126.058554 188.546032 129.309347 316.049383C949.231746 640.406349 905.887831 742.62575 822.811993 824.617989zM432.716755 684.111464c3.973192 3.973192 8.307584 5.779189 13.364374 6.140388 5.05679 0.361199 9.752381-1.444797 13.364374-5.417989l292.571429-287.514638c3.973192-3.973192 5.779189-8.307584 5.779189-13.364374 0-5.05679-1.805996-9.752381-5.779189-13.364374l1.805996 1.805996c-3.973192-3.973192-8.668783-5.779189-14.086772-6.140388-5.417989-0.361199-10.47478 1.444797-14.809171 5.417989l-264.397884 220.33157c-3.973192 3.250794-8.668783 4.695591-14.447972 4.695591-5.779189 0-10.835979-1.444797-15.53157-3.973192l-94.273016-72.962257c-4.334392-3.250794-9.391182-4.334392-14.447972-3.973192s-9.391182 3.250794-12.641975 7.585185l-2.889594 3.973192c-3.250794 4.334392-4.334392 9.391182-3.973192 14.809171 0.722399 5.417989 2.528395 10.11358 5.779189 14.086772L432.716755 684.111464z\" p-id=\"2324\"></path></svg>\\n      </i>\\n      <div class=\"text\">'.concat(r,\"</div>\\n    \"),this.containerEl.appendChild(s),o>0&&setTimeout((function(){e.close(s)}),o)}},{key:\"close\",value:function(t){t.className=t.className.replace(\"move-in\",\"\"),t.className+=\"move-out\",t.addEventListener(\"animationend\",(function(){t.remove()}))}}]),t}(),ga=[ea,aa,ca,{mounted:function(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},updated:function(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},methods:{updateCopy:function(){var t=this;setTimeout((function(){(['div[class*=\"language-\"] pre','div[class*=\"aside-code\"] aside']instanceof Array||Array.isArray(['div[class*=\"language-\"] pre','div[class*=\"aside-code\"] aside']))&&['div[class*=\"language-\"] pre','div[class*=\"aside-code\"] aside'].forEach((function(e){document.querySelectorAll(e).forEach(t.generateCopyButton)}))}),1e3)},generateCopyButton:function(t){var e=this;if(!t.classList.contains(\"codecopy-enabled\")){var n=document.createElement(\"i\");n.className=\"code-copy\",n.innerHTML='<svg  style=\"color:#aaa;font-size:14px\" t=\"1572422231464\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"3201\" width=\"14\" height=\"14\"><path d=\"M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z\" p-id=\"3202\"></path></svg>',n.title=\"Copy to clipboard\",n.addEventListener(\"click\",(function(){e.copyToClipboard(t.innerText)})),t.appendChild(n),t.classList.add(\"codecopy-enabled\")}},copyToClipboard:function(t){var e=document.createElement(\"textarea\");e.value=t,e.setAttribute(\"readonly\",\"\"),e.style.position=\"absolute\",e.style.left=\"-9999px\",document.body.appendChild(e);var n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand(\"copy\"),(new da).show({text:\"复制成功\",duration:1e3}),document.body.removeChild(e),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n))}}}],ya={name:\"GlobalLayout\",computed:{layout:function(){var t=this.getLayout();return Ws(\"layout\",t),Fi.component(t)}},methods:{getLayout:function(){if(this.$page.path){var t=this.$page.frontmatter.layout;return t&&(this.$vuepress.getLayoutAsyncComponent(t)||this.$vuepress.getVueComponent(t))?t:\"Layout\"}return\"NotFound\"}}},va=n(3),_a=Object(va.a)(ya,(function(){var t=this.$createElement;return(this._self._c||t)(this.layout,{tag:\"component\"})}),[],!1,null,null,null).exports;!function(t,e,n){var r;switch(e){case\"components\":t[e]||(t[e]={}),Object.assign(t[e],n);break;case\"mixins\":t[e]||(t[e]=[]),(r=t[e]).push.apply(r,Object(Is.a)(n));break;default:throw new Error(\"Unknown option name.\")}}(_a,\"mixins\",ga);var ma=[{name:\"v-545d25ea\",path:\"/\",component:_a,beforeEnter:function(t,e,n){Ys(\"Layout\",\"v-545d25ea\").then(n)}},{path:\"/index.html\",redirect:\"/\"},{name:\"v-61186900\",path:\"/guide/Quickstart.html\",component:_a,beforeEnter:function(t,e,n){Ys(\"Layout\",\"v-61186900\").then(n)}},{name:\"v-3b21b806\",path:\"/guide/\",component:_a,beforeEnter:function(t,e,n){Ys(\"Layout\",\"v-3b21b806\").then(n)}},{path:\"/guide/index.html\",redirect:\"/guide/\"},{name:\"v-10c6a5fe\",path:\"/archives/\",component:_a,beforeEnter:function(t,e,n){Ys(\"Layout\",\"v-10c6a5fe\").then(n)}},{path:\"/archives/index.html\",redirect:\"/archives/\"},{path:\"/@pages/archivesPage.html\",redirect:\"/archives/\"},{path:\"*\",component:_a}],ba={title:\"vue2ol\",description:\"openlayers的vue组件\",base:\"/gis-js/vue2ol/\",headTags:[[\"link\",{rel:\"icon\",href:\"/gis-js/vue2ol/img/favicon.ico\"}],[\"meta\",{name:\"keywords\",content:\"vuepress,gis,vdoing\"}],[\"meta\",{name:\"theme-color\",content:\"#11a8cd\"}]],pages:[{title:\"Home\",frontmatter:{home:!0,heroImage:\"/img/favicon.ico\",heroText:\"vue2ol\",tagline:\"openlayers的vue组件\",actionText:\"开始使用 →\",actionLink:\"/guide/\",features:[{title:\"完整记录\",details:\"我们所有的组件都有完整的文档记录并提供专门的示例\"},{title:\"简单至上\",details:\"实现了最纯粹的openlayers功能，不做多余操作\"},{title:\"插件\",details:\"提供了扩展插件相关的方法\"}],footer:\"ISC Licensed\"},regularPath:\"/\",relativePath:\"index.md\",key:\"v-545d25ea\",path:\"/\"},{title:\"快速开始\",frontmatter:{},regularPath:\"/guide/Quickstart.html\",relativePath:\"guide/Quickstart.md\",key:\"v-61186900\",path:\"/guide/Quickstart.html\",headers:[{level:2,title:\"Hello Map!\",slug:\"hello-map\"},{level:2,title:\"安装\",slug:\"安装\"},{level:3,title:\"Npm\",slug:\"npm\"},{level:3,title:\"Yarn\",slug:\"yarn\"},{level:3,title:\"Pnpm\",slug:\"pnpm\"},{level:2,title:\"用法\",slug:\"用法\"},{level:3,title:\"在 webpack / rollup 构建系统中\",slug:\"在-webpack-rollup-构建系统中\"}]},{title:\"介绍\",frontmatter:{},regularPath:\"/guide/\",relativePath:\"guide/README.md\",key:\"v-3b21b806\",path:\"/guide/\",headers:[{level:2,title:\"特征\",slug:\"特征\"},{level:3,title:\"继承原有目录结构\",slug:\"继承原有目录结构\"},{level:3,title:\"调用方式一致\",slug:\"调用方式一致\"},{level:3,title:\"响应式\",slug:\"响应式\"}]},{title:\"归档\",frontmatter:{archivesPage:!0,title:\"归档\",permalink:\"/archives/\",article:!1},regularPath:\"/@pages/archivesPage.html\",relativePath:\"@pages/archivesPage.md\",key:\"v-10c6a5fe\",path:\"/archives/\"}],themeConfig:{nav:[{text:\"首页\",link:\"/\"},{text:\"指南\",link:\"/guide/\"},{text:\"组件\",link:\"/components/Map.md\"},{text:\"插件\",link:\"/plugins/\"},{text:\"相关\",items:[{text:\"vuepress\",link:\"https://v2.vuepress.vuejs.org/zh/reference/config.html#%E7%AB%99%E7%82%B9%E9%85%8D%E7%BD%AE\"},{text:\"vue-docgen\",link:\"https://vue-styleguidist.github.io/docs/docgen-cli.html#install\"},{text:\"openlayers\",link:\"https://openlayers.org/\"},{text:\"vue2leaflet\",link:\"https://vue2-leaflet.netlify.app/\"}]}],sidebarDepth:3,logo:\"/img/favicon.ico\",sidebar:{\"/guide/\":[{title:\"指南\",collapsable:!1,children:[\"\",\"Quickstart\"]}],\"/components/\":[{title:\"animation\",children:[\"/plugins/vue2ol-extend/animation/ArrowLine\",\"/plugins/vue2ol-extend/animation/DynamicLine\",\"/plugins/vue2ol-extend/animation/Flight\",\"/plugins/vue2ol-extend/animation/Radar\",\"/plugins/vue2ol-extend/animation/Scatter\",\"/plugins/vue2ol-extend/animation/Track\"]},{title:\"control\",children:[\"/plugins/vue2ol-extend/control/MouseInfo\",\"/plugins/vue2ol-extend/control/MouseTips\",\"/plugins/vue2ol-extend/control/Popup\"]},{title:\"source\",children:[\"/plugins/vue2ol-extend/source/BaiDu\",\"/plugins/vue2ol-extend/source/Bing\",\"/plugins/vue2ol-extend/source/GaoDe\",\"/plugins/vue2ol-extend/source/GeoQ\",\"/plugins/vue2ol-extend/source/TDT\"]},{title:\"renderer\",children:[\"/plugins/vue2ol-extend/renderer/CanvasClip\"]},{title:\"interaction\",children:[\"/plugins/vue2ol-extend/interaction/PlotDraw\"]}],\"/plugins/\":[\"\"]}}},xa=(n(386),n(71),\"function\"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError(\"Cannot convert undefined or null to object\");for(var n=Object(t),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(null!=o)for(var s in o)o.hasOwnProperty(s)&&(n[s]=o[s])}return n});function wa(t){for(var e in t)delete t[e]}var Ea=\"function\"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function Ca(t){var e;for(e in t)return!1;return!e}function Sa(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){var o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}var s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function Oa(t,e,n,r){return Sa(t,e,n,r,!0)}function Pa(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),wa(t))}var Ia=function(){function t(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.defaultPrevented=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),Ta=\"propertychange\",Ma=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();function Aa(t,e){return t>e?1:t<e?-1:0}function La(t,e){return t.indexOf(e)>=0}function Ra(t,e,n){var r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;var i=void 0;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return\"function\"==typeof n?n(e,t[i-1],t[i])>0?i-1:i:t[i-1]-e<e-t[i]?i-1:i}return r-1}function Na(t,e,n){for(;e<n;){var r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function Fa(t,e){for(var n=Array.isArray(e)?e:[e],r=n.length,i=0;i<r;i++)t[t.length]=n[i]}function ja(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Da(){return!0}function ka(){return!1}function Ga(){}var Ba,za=(Ba=function(t,e){return(Ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Class extends value \"+String(e)+\" is not a constructor or null\");function n(){this.constructor=t}Ba(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Va=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return za(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_||(this.listeners_={}),r=n[t]||(n[t]=[]);-1===r.indexOf(e)&&r.push(e)}},e.prototype.dispatchEvent=function(t){var e=\"string\"==typeof t,n=e?t:t.type,r=this.listeners_&&this.listeners_[n];if(r){var i=e?new Ia(t):t;i.target||(i.target=this.eventTarget_||this);var o,s=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});n in s||(s[n]=0,a[n]=0),++s[n];for(var u=0,l=r.length;u<l;++u)if(!1===(o=\"handleEvent\"in r[u]?r[u].handleEvent(i):r[u].call(this,i))||i.propagationStopped){o=!1;break}if(0==--s[n]){var c=a[n];for(delete a[n];c--;)this.removeEventListener(n,Ga);delete s[n]}return o}},e.prototype.disposeInternal=function(){this.listeners_&&wa(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)},e.prototype.removeEventListener=function(t,e){var n=this.listeners_&&this.listeners_[t];if(n){var r=n.indexOf(e);-1!==r&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[r]=Ga,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t]))}},e}(Ma),qa=\"change\",Ua=\"error\",$a=\"contextmenu\",Xa=\"click\",Ya=\"dblclick\",Wa=\"keydown\",Ha=\"keypress\",Ka=\"load\",Za=\"resize\",Ja=\"touchmove\",Qa=\"wheel\",tu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eu=function(t){function e(){var e=t.call(this)||this;return e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return tu(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(qa)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=Sa(this,t[i],e);return r}return Sa(this,t,e)},e.prototype.onceInternal=function(t,e){var n;if(Array.isArray(t)){var r=t.length;n=new Array(r);for(var i=0;i<r;++i)n[i]=Oa(this,t[i],e)}else n=Oa(this,t,e);return e.ol_key=n,n},e.prototype.unInternal=function(t,e){var n=e.ol_key;if(n)!function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)Pa(t[e]);else Pa(t)}(n);else if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)this.removeEventListener(t[r],e);else this.removeEventListener(t,e)},e}(Va);eu.prototype.on,eu.prototype.once,eu.prototype.un;var nu=eu;function ru(){return function(){throw new Error(\"Unimplemented abstract method.\")}()}var iu=0;function ou(t){return t.ol_uid||(t.ol_uid=String(++iu))}var su=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),au=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.key=n,i.oldValue=r,i}return su(e,t),e}(Ia),uu=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,ou(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return su(e,t),e.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&xa({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,e){var n;n=\"change:\".concat(t),this.hasListener(n)&&this.dispatchEvent(new au(n,t,e)),n=Ta,this.hasListener(n)&&this.dispatchEvent(new au(n,t,e))},e.prototype.addChangeListener=function(t,e){this.addEventListener(\"change:\".concat(t),e)},e.prototype.removeChangeListener=function(t,e){this.removeEventListener(\"change:\".concat(t),e)},e.prototype.set=function(t,e,n){var r=this.values_||(this.values_={});if(n)r[t]=e;else{var i=r[t];r[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.applyProperties=function(t){t.values_&&xa(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],Ca(this.values_)&&(this.values_=null),e||this.notify(t,n)}},e}(nu),lu=\"active\";function cu(t){return Math.pow(t,3)}function hu(t){return 1-cu(1-t)}function pu(t){return 3*t*t-2*t*t*t}function fu(t){return t}var du=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function gu(t,e,n,r){var i=t.getZoom();if(void 0!==i){var o=t.getConstrainedZoom(i+e),s=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:s,anchor:n,duration:void 0!==r?r:250,easing:hu})}}var yu=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return du(e,t),e.prototype.getActive=function(){return this.get(lu)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(lu,t)},e.prototype.setMap=function(t){this.map_=t},e}(uu),vu={SINGLECLICK:\"singleclick\",CLICK:Xa,DBLCLICK:Ya,POINTERDRAG:\"pointerdrag\",POINTERMOVE:\"pointermove\",POINTERDOWN:\"pointerdown\",POINTERUP:\"pointerup\",POINTEROVER:\"pointerover\",POINTEROUT:\"pointerout\",POINTERENTER:\"pointerenter\",POINTERLEAVE:\"pointerleave\",POINTERCANCEL:\"pointercancel\"},_u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function mu(t){for(var e=t.length,n=0,r=0,i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return[n/e,r/e]}var bu=function(t){function e(e){var n=this,r=e||{};return n=t.call(this,r)||this,r.handleDownEvent&&(n.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(n.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(n.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(n.handleUpEvent=r.handleUpEvent),r.stopDown&&(n.stopDown=r.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return _u(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==vu.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==vu.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==vu.POINTERDOWN){var r=this.handleDownEvent(t);this.handlingDownUpSequence=r,e=this.stopDown(r)}else t.type==vu.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===vu.POINTERDOWN||e===vu.POINTERDRAG||e===vu.POINTERUP}(t)){var e=t.originalEvent,n=e.pointerId.toString();t.type==vu.POINTERUP?delete this.trackedPointers_[n]:(t.type==vu.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=Ea(this.trackedPointers_)}},e}(yu),xu=\"undefined\"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():\"\",wu=-1!==xu.indexOf(\"firefox\"),Eu=(-1!==xu.indexOf(\"safari\")&&-1==xu.indexOf(\"chrom\")&&(xu.indexOf(\"version/15.4\")>=0||xu.match(/cpu (os|iphone os) 15_4 like mac os x/)),-1!==xu.indexOf(\"webkit\")&&-1==xu.indexOf(\"edge\")),Cu=-1!==xu.indexOf(\"macintosh\"),Su=\"undefined\"!=typeof devicePixelRatio?devicePixelRatio:1,Ou=\"undefined\"!=typeof WorkerGlobalScope&&\"undefined\"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,Pu=\"undefined\"!=typeof Image&&Image.prototype.decode,Iu=function(){var t=!1;try{var e=Object.defineProperty({},\"passive\",{get:function(){t=!0}});window.addEventListener(\"_\",null,e),window.removeEventListener(\"_\",null,e)}catch(t){}return t}(),Tu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mu=function(t){function e(e){var n=this,r=\"Assertion failed. See https://openlayers.org/en/\"+(\"v\"+\"6.14.1\".split(\"-\")[0])+\"/doc/errors/#\"+e+\" for details.\";return(n=t.call(this,r)||this).code=e,n.name=\"AssertionError\",n.message=r,n}return Tu(e,t),e}(Error);function Au(t,e){if(!t)throw new Mu(e)}function Lu(t){var e=arguments;return function(t){for(var n=!0,r=0,i=e.length;r<i&&(n=n&&e[r](t));++r);return n}}var Ru=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Nu=function(t){return!t.map.getTargetElement().hasAttribute(\"tabindex\")||function(t){var e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)}(t)},Fu=Da,ju=function(t){var e=t.originalEvent;return 0==e.button&&!(Eu&&Cu&&e.ctrlKey)},Du=ka,ku=function(t){return t.type==vu.SINGLECLICK},Gu=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Bu=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},zu=function(t){var e=t.originalEvent.target.tagName;return\"INPUT\"!==e&&\"SELECT\"!==e&&\"TEXTAREA\"!==e},Vu=function(t){var e=t.originalEvent;return Au(void 0!==e,56),\"mouse\"==e.pointerType},qu=function(t){var e=t.originalEvent;return Au(void 0!==e,56),e.isPrimary&&0===e.button},Uu=\"bottom-left\",$u=\"bottom-right\",Xu=\"top-left\",Yu=\"top-right\",Wu=0,Hu=1,Ku=2,Zu=4,Ju=8,Qu=16;function tl(t){for(var e=ul(),n=0,r=t.length;n<r;++n)dl(e,t[n]);return e}function el(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function nl(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function rl(t,e,n){var r,i;return(r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*r+(i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*i}function il(t,e){return sl(t,e[0],e[1])}function ol(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function sl(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function al(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],s=e[0],a=e[1],u=Wu;return s<n?u|=Qu:s>i&&(u|=Zu),a<r?u|=Ju:a>o&&(u|=Ku),u===Wu&&(u=Hu),u}function ul(){return[1/0,1/0,-1/0,-1/0]}function ll(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function cl(t){return ll(1/0,1/0,-1/0,-1/0,t)}function hl(t,e){var n=t[0],r=t[1];return ll(n,r,n,r,e)}function pl(t,e,n,r,i){return gl(cl(i),t,e,n,r)}function fl(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function dl(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function gl(t,e,n,r,i){for(;n<r;n+=i)yl(t,e[n],e[n+1]);return t}function yl(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function vl(t,e){var n;return(n=e(ml(t)))||(n=e(bl(t)))||(n=e(Pl(t)))?n:(n=e(Ol(t)))||!1}function _l(t){var e=0;return Ml(t)||(e=Il(t)*Cl(t)),e}function ml(t){return[t[0],t[1]]}function bl(t){return[t[2],t[1]]}function xl(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function wl(t,e){var n;return e===Uu?n=ml(t):e===$u?n=bl(t):e===Xu?n=Ol(t):e===Yu?n=Pl(t):Au(!1,13),n}function El(t,e,n,r,i){var o=e*r[0]/2,s=e*r[1]/2,a=Math.cos(n),u=Math.sin(n),l=o*a,c=o*u,h=s*a,p=s*u,f=t[0],d=t[1],g=f-l+p,y=f-l-p,v=f+l-p,_=f+l+p,m=d-c-h,b=d-c+h,x=d+c+h,w=d+c-h;return ll(Math.min(g,y,v,_),Math.min(m,b,x,w),Math.max(g,y,v,_),Math.max(m,b,x,w),i)}function Cl(t){return t[3]-t[1]}function Sl(t,e,n){var r=n||[1/0,1/0,-1/0,-1/0];return Tl(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):cl(r),r}function Ol(t){return[t[0],t[3]]}function Pl(t){return[t[2],t[3]]}function Il(t){return t[2]-t[0]}function Tl(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Ml(t){return t[2]<t[0]||t[3]<t[1]}function Al(t,e,n,r){var i=[];if(r>1)for(var o=t[2]-t[0],s=t[3]-t[1],a=0;a<r;++a)i.push(t[0]+o*a/r,t[1],t[2],t[1]+s*a/r,t[2]-o*a/r,t[3],t[0],t[3]-s*a/r);else i=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(i,i,2);for(var u=[],l=[],c=(a=0,i.length);a<c;a+=2)u.push(i[a]),l.push(i[a+1]);return function(t,e,n){return ll(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(u,l,n)}function Ll(t,e,n){return Math.min(Math.max(t,e),n)}var Rl=\"cosh\"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},Nl=\"log2\"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E};function Fl(t,e,n,r,i,o){var s=i-n,a=o-r;if(0!==s||0!==a){var u=((t-n)*s+(e-r)*a)/(s*s+a*a);u>1?(n=i,r=o):u>0&&(n+=s*u,r+=a*u)}return jl(t,e,n,r)}function jl(t,e,n,r){var i=n-t,o=r-e;return i*i+o*o}function Dl(t){return t*Math.PI/180}function kl(t,e){var n=t%e;return n*e<0?n+e:n}function Gl(t,e,n){return t+n*(e-t)}function Bl(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}function zl(t,e){return Math.floor(Bl(t,e))}function Vl(t,e){return Math.ceil(Bl(t,e))}function ql(t,e){var n,r,i=t[0],o=t[1],s=e[0],a=e[1],u=s[0],l=s[1],c=a[0],h=a[1],p=c-u,f=h-l,d=0===p&&0===f?0:(p*(i-u)+f*(o-l))/(p*p+f*f||0);return d<=0?(n=u,r=l):d>=1?(n=c,r=h):(n=u+d*p,r=l+d*f),[n,r]}function Ul(t,e){for(var n=!0,r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function $l(t,e){var n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,o=t[1]*n+t[0]*r;return t[0]=i,t[1]=o,t}function Xl(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function Yl(t,e){return Math.sqrt(Xl(t,e))}function Wl(t,e){return Xl(t,ql(t,e))}function Hl(t,e){if(e.canWrapX()){var n=Il(e.getExtent()),r=Kl(t,e,n);r&&(t[0]-=r*n)}return t}function Kl(t,e,n){var r=e.getExtent(),i=0;if(e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])){var o=n||Il(r);i=Math.floor((t[0]-r[0])/o)}return i}var Zl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jl=function(t){function e(e){var n=t.call(this,{stopDown:ka})||this,r=e||{};n.kinetic_=r.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var i=r.condition?r.condition:Lu(Gu,qu);return n.condition_=r.onFocusOnly?Lu(Nu,i):i,n.noKinetic_=!1,n}return Zl(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e,n,r=this.targetPointers,i=mu(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],s=t.map.getView();e=o,n=s.getResolution(),e[0]*=n,e[1]*=n,$l(o,s.getRotation()),s.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),o=n.getCenterInternal(),s=e.getPixelFromCoordinateInternal(o),a=e.getCoordinateFromPixelInternal([s[0]-r*Math.cos(i),s[1]-r*Math.sin(i)]);n.animateInternal({center:n.getConstrainedCenter(a),duration:500,easing:hu})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(bu),Ql=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tc=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:250,n}return Ql(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==vu.DBLCLICK){var n=t.originalEvent,r=t.map,i=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_;gu(r.getView(),o,i,this.duration_),n.preventDefault(),e=!0}return!e},e}(yu),ec=0,nc=1,rc=2,ic=3;function oc(t){return t[0]>0&&t[1]>0}function sc(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var ac=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=sc(t.scale),this.displacement_=t.displacement}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return ru()},t.prototype.getImage=function(t){return ru()},t.prototype.getHitDetectionImage=function(){return ru()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return ru()},t.prototype.getImageSize=function(){return ru()},t.prototype.getOrigin=function(){return ru()},t.prototype.getSize=function(){return ru()},t.prototype.setDisplacement=function(t){this.displacement_=t},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=sc(t)},t.prototype.listenImageChange=function(t){ru()},t.prototype.load=function(){ru()},t.prototype.unlistenImageChange=function(t){ru()},t}(),uc=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,lc=/^([a-z]*)$|^hsla?\\(.*\\)$/i;function cc(t){return\"string\"==typeof t?t:vc(t)}function hc(t){var e=document.createElement(\"div\");if(e.style.color=t,\"\"!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return\"\"}var pc,fc,dc=(pc={},fc=0,function(t){var e;if(pc.hasOwnProperty(t))e=pc[t];else{if(fc>=1024){var n=0;for(var r in pc)0==(3&n++)&&(delete pc[r],--fc)}e=function(t){var e,n,r,i,o;if(lc.exec(t)&&(t=hc(t)),uc.exec(t)){var s=t.length-1,a=void 0;a=s<=4?1:2;var u=4===s||8===s;e=parseInt(t.substr(1+0*a,a),16),n=parseInt(t.substr(1+1*a,a),16),r=parseInt(t.substr(1+2*a,a),16),i=u?parseInt(t.substr(1+3*a,a),16):255,1==a&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,u&&(i=(i<<4)+i)),o=[e,n,r,i/255]}else 0==t.indexOf(\"rgba(\")?yc(o=t.slice(5,-1).split(\",\").map(Number)):0==t.indexOf(\"rgb(\")?((o=t.slice(4,-1).split(\",\").map(Number)).push(1),yc(o)):Au(!1,14);return o}(t),pc[t]=e,++fc}return e});function gc(t){return Array.isArray(t)?t:dc(t)}function yc(t){return t[0]=Ll(t[0]+.5|0,0,255),t[1]=Ll(t[1]+.5|0,0,255),t[2]=Ll(t[2]+.5|0,0,255),t[3]=Ll(t[3],0,1),t}function vc(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var r=t[2];return r!=(0|r)&&(r=r+.5|0),\"rgba(\"+e+\",\"+n+\",\"+r+\",\"+(void 0===t[3]?1:Math.round(100*t[3])/100)+\")\"}function _c(t){return Array.isArray(t)?vc(t):t}function mc(t,e,n,r){var i;return i=n&&n.length?n.shift():Ou?new OffscreenCanvas(t||300,e||300):document.createElement(\"canvas\"),t&&(i.width=t),e&&(i.height=e),i.getContext(\"2d\",r)}function bc(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)}function xc(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)}function wc(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function Ec(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function Cc(t){for(;t.lastChild;)t.removeChild(t.lastChild)}var Sc=new RegExp([\"^\\\\s*(?=(?:(?:[-a-z]+\\\\s*){0,2}(italic|oblique))?)\",\"(?=(?:(?:[-a-z]+\\\\s*){0,2}(small-caps))?)\",\"(?=(?:(?:[-a-z]+\\\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)\",\"(?:(?:normal|\\\\1|\\\\2|\\\\3)\\\\s*){0,3}((?:xx?-)?\",\"(?:small|large)|medium|smaller|larger|[\\\\.\\\\d]+(?:\\\\%|in|[cem]m|ex|p[ctx]))\",\"(?:\\\\s*\\\\/\\\\s*(normal|[\\\\.\\\\d]+(?:\\\\%|in|[cem]m|ex|p[ctx])?))\",\"?\\\\s*([-,\\\\\\\"\\\\'\\\\sa-z]+?)\\\\s*$\"].join(\"\"),\"i\"),Oc=[\"style\",\"variant\",\"weight\",\"size\",\"lineHeight\",\"family\"],Pc=function(t){var e=t.match(Sc);if(!e)return null;for(var n={lineHeight:\"normal\",size:\"1.2em\",style:\"normal\",weight:\"normal\",variant:\"normal\"},r=0,i=Oc.length;r<i;++r){var o=e[r+1];void 0!==o&&(n[Oc[r]]=o)}return n.families=n.family.split(/,\\s?/),n};function Ic(t){return 1===t?\"\":String(Math.round(100*t)/100)}var Tc=[],Mc=[0,0,0,0],Ac=new uu;(new Va).setSize=function(){console.warn(\"labelCache is deprecated.\")};var Lc,Rc,Nc=null,Fc={},jc=function(){var t,e,n=[\"monospace\",\"serif\"],r=n.length,i=\"wmytzilWMYTZIL@#/&?$%10\";function o(t,o,s){for(var a=!0,u=0;u<r;++u){var l=n[u];if(e=Gc(t+\" \"+o+\" 32px \"+l,i),s!=l){var c=Gc(t+\" \"+o+\" 32px \"+s+\",\"+l,i);a=a&&c!=e}}return!!a}function s(){for(var e=!0,n=Ac.getKeys(),r=0,i=n.length;r<i;++r){var s=n[r];Ac.get(s)<100&&(o.apply(this,s.split(\"\\n\"))?(wa(Fc),Nc=null,Lc=void 0,Ac.set(s,100)):(Ac.set(s,Ac.get(s)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var n=Pc(e);if(n)for(var r=n.families,i=0,a=r.length;i<a;++i){var u=r[i],l=n.style+\"\\n\"+n.weight+\"\\n\"+u;void 0===Ac.get(l)&&(Ac.set(l,100,!0),o(n.style,n.weight,u)||(Ac.set(l,0,!0),void 0===t&&(t=setInterval(s,32))))}}}(),Dc=function(t){var e=Fc[t];if(null==e){if(Ou){var n=Pc(t),r=kc(t,\"Žg\");e=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else Rc||((Rc=document.createElement(\"div\")).innerHTML=\"M\",Rc.style.minHeight=\"0\",Rc.style.maxHeight=\"none\",Rc.style.height=\"auto\",Rc.style.padding=\"0\",Rc.style.border=\"none\",Rc.style.position=\"absolute\",Rc.style.display=\"block\",Rc.style.left=\"-99999px\"),Rc.style.font=t,document.body.appendChild(Rc),e=Rc.offsetHeight,document.body.removeChild(Rc);Fc[t]=e}return e};function kc(t,e){return Nc||(Nc=mc(1,1)),t!=Lc&&(Nc.font=t,Lc=Nc.font),Nc.measureText(e)}function Gc(t,e){return kc(t,e).width}function Bc(t,e,n){if(e in n)return n[e];var r=Gc(t,e);return n[e]=r,r}function zc(t,e,n,r,i,o,s,a,u,l,c){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),r.contextInstructions?(t.translate(u,l),t.scale(c[0],c[1]),function(t,e){for(var n=t.contextInstructions,r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}(r,t)):c[0]<0||c[1]<0?(t.translate(u,l),t.scale(c[0],c[1]),t.drawImage(r,i,o,s,a,0,0,s,a)):t.drawImage(r,i,o,s,a,u,l,s*c[0],a*c[1]),t.restore()}var Vc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qc=function(t){function e(e){var n=this,r=void 0!==e.rotateWithView&&e.rotateWithView;return(n=t.call(this,{opacity:1,rotateWithView:r,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_=void 0,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.size_=null,n.renderOptions_=null,n.render(),n}return Vc(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var e=this.getDisplacement();return[t[0]/2-e[0],t[1]/2+e[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var n=this.renderOptions_,r=mc(n.size*t,n.size*t);this.draw_(n,r,t),e=r.canvas,this.canvas_[t]=e}return e},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return rc},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,e,n){if(0===e||this.points_===1/0||\"bevel\"!==t&&\"miter\"!==t)return e;var r=this.radius_,i=void 0===this.radius2_?r:this.radius2_;if(r<i){var o=r;r=i,i=o}var s=void 0===this.radius2_?this.points_:2*this.points_,a=2*Math.PI/s,u=i*Math.sin(a),l=r-Math.sqrt(i*i-u*u),c=Math.sqrt(u*u+l*l),h=c/u;if(\"miter\"===t&&h<=n)return h*e;var p=e/2/h,f=e/2*(l/c),d=Math.sqrt((r+p)*(r+p)+f*f)-r;if(void 0===this.radius2_||\"bevel\"===t)return 2*d;var g=r*Math.sin(a),y=i-Math.sqrt(r*r-g*g),v=Math.sqrt(g*g+y*y)/g;if(v<=n){var _=v*e/2-i-r;return 2*Math.max(d,_)}return 2*d},e.prototype.createRenderOptions=function(){var t,e=\"round\",n=0,r=null,i=0,o=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=\"#000\"),t=_c(t),void 0===(o=this.stroke_.getWidth())&&(o=1),r=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),void 0===(e=this.stroke_.getLineJoin())&&(e=\"round\"),void 0===(n=this.stroke_.getMiterLimit())&&(n=10));var s=this.calculateLineJoinSize_(e,o,n),a=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:o,size:Math.ceil(2*a+s),lineDash:r,lineDashOffset:i,lineJoin:e,miterLimit:n}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var r=this.fill_.getColor();null===r&&(r=\"#000\"),e.fillStyle=_c(r),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),n=0;if(\"string\"==typeof e&&(e=gc(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var r=mc(t.size,t.size);this.hitDetectionCanvas_=r.canvas,this.drawHitDetectionCanvas_(t,r)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var e=this.points_,n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{var r=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);for(var i=this.angle_-Math.PI/2,o=2*Math.PI/e,s=0;s<e;s++){var a=i+s*o,u=s%2==0?n:r;t.lineTo(u*Math.cos(a),u*Math.sin(a))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=\"#000\",e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e}(ac),Uc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$c=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:void 0!==n.scale?n.scale:1,rotation:void 0!==n.rotation?n.rotation:0,rotateWithView:void 0!==n.rotateWithView&&n.rotateWithView,displacement:void 0!==n.displacement?n.displacement:[0,0]})||this}return Uc(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(qc),Xc=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}(),Yc=\"Point\",Wc=\"LineString\",Hc=\"LinearRing\",Kc=\"Polygon\",Zc=\"MultiPoint\",Jc=\"MultiLineString\",Qc=\"MultiPolygon\",th=\"GeometryCollection\",eh=\"Circle\",nh=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}(),rh=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=ah,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&\"object\"==typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.setHitDetectionRenderer=function(t){this.hitDetectionRenderer_=t},t.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){\"function\"==typeof t?this.geometryFunction_=t:\"string\"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=ah,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();var ih=null;function oh(t,e){if(!ih){var n=new Xc({color:\"rgba(255,255,255,0.4)\"}),r=new nh({color:\"#3399CC\",width:1.25});ih=[new rh({image:new $c({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return ih}function sh(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t[Kc]=[new rh({fill:new Xc({color:[255,255,255,.5]})})],t[Qc]=t[Kc],t[Wc]=[new rh({stroke:new nh({color:e,width:5})}),new rh({stroke:new nh({color:n,width:3})})],t[Jc]=t[Wc],t[eh]=t[Kc].concat(t[Wc]),t[Yc]=[new rh({image:new $c({radius:6,fill:new Xc({color:n}),stroke:new nh({color:e,width:1.5})}),zIndex:1/0})],t[Zc]=t[Yc],t[th]=t[Kc].concat(t[Wc],t[Yc]),t}function ah(t){return t.getGeometry()}var uh=rh,lh=\"point\",ch=\"line\",hh=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=sc(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new Xc({color:\"#333\"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:lh,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){var e=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=sc(void 0!==t?t:1)},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}(),ph=\"fraction\",fh=\"pixels\",dh=\"bottom-left\",gh=\"bottom-right\",yh=\"top-left\",vh=\"top-right\",_h=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,n){var r=mh(t,e,n);return r in this.cache_?this.cache_[r]:null},t.prototype.set=function(t,e,n,r){var i=mh(t,e,n);this.cache_[i]=r,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}();function mh(t,e,n){return e+\":\"+t+\":\"+(n?cc(n):\"null\")}var bh=new _h,xh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wh=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.extent=e,o.pixelRatio_=r,o.resolution=n,o.state=i,o}return xh(e,t),e.prototype.changed=function(){this.dispatchEvent(qa)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return ru()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){ru()},e}(Va),Eh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Ch(t,e,n){var r=t,i=!0,o=!1,s=!1,a=[Oa(r,Ka,(function(){s=!0,o||e()}))];return r.src&&Pu?(o=!0,r.decode().then((function(){i&&e()})).catch((function(t){i&&(s?e():n())}))):a.push(Oa(r,Ua,n)),function(){i=!1,a.forEach(Pa)}}!function(t){function e(e,n,r,i,o,s){var a=t.call(this,e,n,r,ec)||this;return a.src_=i,a.image_=new Image,null!==o&&(a.image_.crossOrigin=o),a.unlisten_=null,a.state=ec,a.imageLoadFunction_=s,a}Eh(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=ic,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Cl(this.extent)/this.image_.height),this.state=rc,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=ec&&this.state!=ic||(this.state=nc,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Ch(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=Cl(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(wh);var Sh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oh=null,Ph=function(t){function e(e,n,r,i,o,s){var a=t.call(this)||this;return a.hitDetectionImage_=null,a.image_=e||new Image,null!==i&&(a.image_.crossOrigin=i),a.canvas_={},a.color_=s,a.unlisten_=null,a.imageState_=o,a.size_=r,a.src_=n,a.tainted_,a}return Sh(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===rc){Oh||(Oh=mc(1,1)),Oh.drawImage(this.image_,0,0);try{Oh.getImageData(0,0,1,1),this.tainted_=!1}catch(t){Oh=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(qa)},e.prototype.handleImageError_=function(){this.imageState_=ic,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=rc,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],n=mc(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==ec){this.imageState_=nc;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Ch(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]&&this.imageState_===rc){var e=document.createElement(\"canvas\");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var n=e.getContext(\"2d\");if(n.scale(t,t),n.drawImage(this.image_,0,0),n.globalCompositeOperation=\"multiply\",\"multiply\"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=cc(this.color_),n.fillRect(0,0,e.width/t,e.height/t),n.globalCompositeOperation=\"destination-in\",n.drawImage(this.image_,0,0);else{for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,o=this.color_[0]/255,s=this.color_[1]/255,a=this.color_[2]/255,u=this.color_[3],l=0,c=i.length;l<c;l+=4)i[l]*=o,i[l+1]*=s,i[l+2]*=a,i[l+3]*=u;n.putImageData(r,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(Va);var Ih=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Th=function(t){function e(e){var n=this,r=e||{},i=void 0!==r.opacity?r.opacity:1,o=void 0!==r.rotation?r.rotation:0,s=void 0!==r.scale?r.scale:1,a=void 0!==r.rotateWithView&&r.rotateWithView;(n=t.call(this,{opacity:i,rotation:o,scale:s,displacement:void 0!==r.displacement?r.displacement:[0,0],rotateWithView:a})||this).anchor_=void 0!==r.anchor?r.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==r.anchorOrigin?r.anchorOrigin:yh,n.anchorXUnits_=void 0!==r.anchorXUnits?r.anchorXUnits:ph,n.anchorYUnits_=void 0!==r.anchorYUnits?r.anchorYUnits:ph,n.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null;var u=void 0!==r.img?r.img:null;n.imgSize_=r.imgSize;var l=r.src;Au(!(void 0!==l&&u),4),Au(!u||u&&n.imgSize_,5),void 0!==l&&0!==l.length||!u||(l=u.src||ou(u)),Au(void 0!==l&&l.length>0,6);var c=void 0!==r.src?ec:rc;return n.color_=void 0!==r.color?gc(r.color):null,n.iconImage_=function(t,e,n,r,i,o){var s=bh.get(e,r,o);return s||(s=new Ph(t,e,n,r,i,o),bh.set(e,r,o,s)),s}(u,l,void 0!==n.imgSize_?n.imgSize_:null,n.crossOrigin_,c,n.color_),n.offset_=void 0!==r.offset?r.offset:[0,0],n.offsetOrigin_=void 0!==r.offsetOrigin?r.offsetOrigin:yh,n.origin_=null,n.size_=void 0!==r.size?r.size:null,n}return Ih(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var e=this.getSize();if(this.anchorXUnits_==ph||this.anchorYUnits_==ph){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==ph&&(t[0]*=e[0]),this.anchorYUnits_==ph&&(t[1]*=e[1])}if(this.anchorOrigin_!=yh){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=vh&&this.anchorOrigin_!=gh||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=dh&&this.anchorOrigin_!=gh||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}var n=this.getDisplacement();return[t[0]-n[0],t[1]+n[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=yh){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=vh&&this.offsetOrigin_!=gh||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=dh&&this.offsetOrigin_!=gh||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(qa,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(qa,t)},e}(ac),Mh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var Ah=function(t){function e(e){var n=t.call(this)||this;if(n.on,n.once,n.un,n.id_=void 0,n.geometryName_=\"geometry\",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addChangeListener(n.geometryName_,n.handleGeometryChanged_),e)if(\"function\"==typeof e.getSimplifiedGeometry){var r=e;n.setGeometry(r)}else{var i=e;n.setProperties(i)}return n}return Mh(e,t),e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Pa(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Sa(t,qa,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){if(\"function\"==typeof t)return t;var e;Array.isArray(t)?e=t:(Au(\"function\"==typeof t.getZIndex,41),e=[t]);return function(){return e}}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(uu),Lh=\"add\",Rh=\"remove\",Nh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fh=\"length\",jh=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.element=n,i.index=r,i}return Nh(e,t),e}(Ia),Dh=function(t){function e(e,n){var r=t.call(this)||this;r.on,r.once,r.un;var i=n||{};if(r.unique_=!!i.unique,r.array_=e||[],r.unique_)for(var o=0,s=r.array_.length;o<s;++o)r.assertUnique_(r.array_[o],o);return r.updateLength_(),r}return Nh(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(Fh)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new jh(Lh,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new jh(Rh,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new jh(Rh,r,t)),this.dispatchEvent(new jh(Lh,e,t))}else{for(var i=n;i<t;++i)this.insertAt(i,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(Fh,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new Mu(58)},e}(uu),kh=n(102),Gh=n.n(kh),Bh=function(){function t(t){this.rbush_=new Gh.a(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[ou(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),r=0,i=e.length;r<i;r++){var o=t[r],s=e[r],a={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:s};n[r]=a,this.items_[ou(s)]=a}this.rbush_.load(n)},t.prototype.remove=function(t){var e=ou(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[ou(e)];fl([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,r=0,i=t.length;r<i;r++)if(n=e(t[r]))return n;return n},t.prototype.isEmpty=function(){return Ca(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return ll(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),zh=\"undefined\",Vh=\"ready\",qh={RADIANS:\"radians\",DEGREES:\"degrees\",FEET:\"ft\",METERS:\"m\",PIXELS:\"pixels\",TILE_PIXELS:\"tile-pixels\",USFEET:\"us-ft\"};var Uh={};Uh[qh.RADIANS]=6370997/(2*Math.PI),Uh[qh.DEGREES]=2*Math.PI*6370997/360,Uh[qh.FEET]=.3048,Uh[qh.METERS]=1,Uh[qh.USFEET]=1200/3937;var $h=qh,Xh=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:\"enu\",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Uh[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),Yh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wh=6378137*Math.PI,Hh=[-Wh,-Wh,Wh,Wh],Kh=[-180,-85,180,85],Zh=6378137*Math.log(Math.tan(Math.PI/2)),Jh=function(t){function e(e){return t.call(this,{code:e,units:$h.METERS,extent:Hh,global:!0,worldExtent:Kh,getPointResolution:function(t,e){return t/Rl(e[1]/6378137)}})||this}return Yh(e,t),e}(Xh),Qh=[new Jh(\"EPSG:3857\"),new Jh(\"EPSG:102100\"),new Jh(\"EPSG:102113\"),new Jh(\"EPSG:900913\"),new Jh(\"http://www.opengis.net/def/crs/EPSG/0/3857\"),new Jh(\"http://www.opengis.net/gml/srs/epsg.xml#3857\")];function tp(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var s=0;s<r;s+=i){o[s]=Wh*t[s]/180;var a=6378137*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));a>Zh?a=Zh:a<-Zh&&(a=-Zh),o[s+1]=a}return o}function ep(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var s=0;s<r;s+=i)o[s]=180*t[s]/Wh,o[s+1]=360*Math.atan(Math.exp(t[s+1]/6378137))/Math.PI-90;return o}var np=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rp=[-180,-90,180,90],ip=6378137*Math.PI/180,op=function(t){function e(e,n){return t.call(this,{code:e,units:$h.DEGREES,extent:rp,axisOrientation:n,global:!0,metersPerUnit:ip,worldExtent:rp})||this}return np(e,t),e}(Xh),sp=[new op(\"CRS:84\"),new op(\"EPSG:4326\",\"neu\"),new op(\"urn:ogc:def:crs:OGC:1.3:CRS84\"),new op(\"urn:ogc:def:crs:OGC:2:84\"),new op(\"http://www.opengis.net/def/crs/OGC/1.3/CRS84\"),new op(\"http://www.opengis.net/gml/srs/epsg.xml#4326\",\"neu\"),new op(\"http://www.opengis.net/def/crs/EPSG/0/4326\",\"neu\")],ap={};var up={};function lp(t,e,n){var r=t.getCode(),i=e.getCode();r in up||(up[r]={}),up[r][i]=n}function cp(t,e,n){var r=n||6371008.8,i=Dl(t[1]),o=Dl(e[1]),s=(o-i)/2,a=Dl(e[0]-t[0])/2,u=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(i)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}var hp=!0;function pp(t){hp=!(void 0===t||t)}function fp(t,e,n){var r;if(void 0!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];r=e}else r=t.slice();return r}function dp(t,e,n){if(void 0!==e&&t!==e){for(var r=0,i=t.length;r<i;++r)e[r]=t[r];t=e}return t}function gp(t){!function(t,e){ap[t]=e}(t.getCode(),t),lp(t,t,fp)}function yp(t){return\"string\"==typeof t?ap[e=t]||ap[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\\w+)$/,\"EPSG:$3\")]||null:t||null;var e}function vp(t,e,n,r){var i,o=(t=yp(t)).getPointResolutionFunc();if(o){if(i=o(e,n),r&&r!==t.getUnits())(a=t.getMetersPerUnit())&&(i=i*a/Uh[r])}else{var s=t.getUnits();if(s==$h.DEGREES&&!r||r==$h.DEGREES)i=e;else{var a,u=xp(t,yp(\"EPSG:4326\"));if(u===dp&&s!==$h.DEGREES)i=e*t.getMetersPerUnit();else{var l=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];i=(cp((l=u(l,l,2)).slice(0,2),l.slice(2,4))+cp(l.slice(4,6),l.slice(6,8)))/2}void 0!==(a=r?Uh[r]:t.getMetersPerUnit())&&(i/=a)}}return i}function _p(t){!function(t){t.forEach(gp)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&lp(e,t,fp)}))}))}function mp(t,e){return t?\"string\"==typeof t?yp(t):t:yp(e)}function bp(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||xp(t,e)===fp)&&n}function xp(t,e){var n=function(t,e){var n;return t in up&&e in up[t]&&(n=up[t][e]),n}(t.getCode(),e.getCode());return n||(n=dp),n}function wp(t,e){return xp(yp(t),yp(e))}function Ep(t,e,n){return wp(e,n)(t,void 0,t.length)}function Cp(t,e,n,r){return Al(t,wp(e,n),void 0,r)}var Sp,Op,Pp,Ip=null;function Tp(){return Ip}function Mp(t,e){return Ip?Ep(t,e,Ip):t}function Ap(t,e){return Ip?Ep(t,Ip,e):(hp&&!Ul(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(hp=!1,console.warn(\"Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.\")),t)}function Lp(t,e){return Ip?Cp(t,e,Ip):t}function Rp(t,e){return Ip?Cp(t,Ip,e):t}function Np(t,e){if(!Ip)return t;var n=yp(e).getUnits(),r=Ip.getUnits();return n&&r?t*Uh[n]/Uh[r]:t}_p(Qh),_p(sp),Sp=Qh,Op=tp,Pp=ep,sp.forEach((function(t){Sp.forEach((function(e){lp(t,e,Op),lp(e,t,Pp)}))}));var Fp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function jp(t){return t?Array.isArray(t)?function(e){return t}:\"function\"==typeof t?t:function(e){return[t]}:null}var Dp=function(t){function e(e){var n=t.call(this)||this;n.projection=yp(e.projection),n.attributions_=jp(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:Vh,n.wrapX_=void 0!==e.wrapX&&e.wrapX,n.interpolate_=!!e.interpolate,n.viewResolver=null,n.viewRejector=null;var r=n;return n.viewPromise_=new Promise((function(t,e){r.viewResolver=t,r.viewRejector=e})),n}return Fp(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return ru()},e.prototype.getView=function(){return this.viewPromise_},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getInterpolate=function(){return this.interpolate_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=jp(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(uu),kp=\"addfeature\",Gp=\"changefeature\",Bp=\"clear\",zp=\"removefeature\",Vp=\"featuresloadstart\",qp=\"featuresloadend\",Up=\"featuresloaderror\";function $p(t,e){return[[-1/0,-1/0,1/0,1/0]]}var Xp=\"arraybuffer\",Yp=\"json\",Wp=\"text\",Hp=\"xml\",Kp=!1;function Zp(t,e){return function(n,r,i,o,s){var a=this;!function(t,e,n,r,i,o,s){var a=new XMLHttpRequest;a.open(\"GET\",\"function\"==typeof t?t(n,r,i):t,!0),e.getType()==Xp&&(a.responseType=\"arraybuffer\"),a.withCredentials=Kp,a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){var r=e.getType(),u=void 0;r==Yp||r==Wp?u=a.responseText:r==Hp?(u=a.responseXML)||(u=(new DOMParser).parseFromString(a.responseText,\"application/xml\")):r==Xp&&(u=a.response),u?o(e.readFeatures(u,{extent:n,featureProjection:i}),e.readProjection(u)):s()}else s()},a.onerror=s,a.send()}(t,e,n,r,i,(function(t,e){a.addFeatures(t),void 0!==o&&o(t)}),s||Ga)}}var Jp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qp=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.feature=n,i.features=r,i}return Jp(e,t),e}(Ia),tf=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{attributions:r.attributions,interpolate:!0,projection:void 0,state:Vh,wrapX:void 0===r.wrapX||r.wrapX})||this).on,n.once,n.un,n.loader_=Ga,n.format_=r.format,n.overlaps_=void 0===r.overlaps||r.overlaps,n.url_=r.url,void 0!==r.loader?n.loader_=r.loader:void 0!==n.url_&&(Au(n.format_,7),n.loader_=Zp(n.url_,n.format_)),n.strategy_=void 0!==r.strategy?r.strategy:$p;var i,o,s=void 0===r.useSpatialIndex||r.useSpatialIndex;return n.featuresRtree_=s?new Bh:null,n.loadedExtentsRtree_=new Bh,n.loadingExtentsCount_=0,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(r.features)?o=r.features:r.features&&(o=(i=r.features).getArray()),s||void 0!==i||(i=new Dh(o)),void 0!==o&&n.addFeaturesInternal(o),void 0!==i&&n.bindFeaturesCollection_(i),n}return Jp(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=ou(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new Qp(kp,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Sa(e,qa,this.handleFeatureChange_,this),Sa(e,Ta,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,r=e.getId();return void 0!==r&&(r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=e),n&&(Au(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],r=[],i=0,o=t.length;i<o;i++){var s=ou(u=t[i]);this.addToIndex_(s,u)&&n.push(u)}i=0;for(var a=n.length;i<a;i++){var u;s=ou(u=n[i]);this.setupChangeEvents_(s,u);var l=u.getGeometry();if(l){var c=l.getExtent();e.push(c),r.push(u)}else this.nullGeometryFeatures_[s]=u}if(this.featuresRtree_&&this.featuresRtree_.load(e,r),this.hasListener(kp)){i=0;for(var h=n.length;i<h;i++)this.dispatchEvent(new Qp(kp,n[i]))}},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(kp,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener(zp,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener(Lh,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(Rh,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(Pa)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var n=function(t){this.removeFeatureInternal(t)}.bind(this);for(var r in this.featuresRtree_.forEach(n),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var i=new Qp(Bp);this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(n){if(n.getGeometry().intersectsExtent(t)){var r=e(n);if(r)return r}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Ca(this.nullGeometryFeatures_)||Fa(t,Ea(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],r=t[1],i=null,o=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],u=e||Da;return this.featuresRtree_.forEachInExtent(a,(function(t){if(u(t)){var e=t.getGeometry(),l=s;if((s=e.closestPointXY(n,r,o,s))<l){i=t;var c=Math.sqrt(s);a[0]=n-c,a[1]=r-c,a[2]=n+c,a[3]=r+c}}})),i},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=ou(e),r=e.getGeometry();if(r){var i=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(i,e)):this.featuresRtree_&&this.featuresRtree_.update(i,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var o=e.getId();if(void 0!==o){var s=o.toString();this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new Qp(Gp,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:ou(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Ca(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()},e.prototype.loadFeatures=function(t,e,n){for(var r=this.loadedExtentsRtree_,i=this.strategy_(t,e,n),o=function(t,o){var a=i[t];r.forEachInExtent(a,(function(t){return ol(t.extent,a)}))||(++s.loadingExtentsCount_,s.dispatchEvent(new Qp(Vp)),s.loader_.call(s,a,e,n,function(t){--this.loadingExtentsCount_,this.dispatchEvent(new Qp(qp,void 0,t))}.bind(s),function(){--this.loadingExtentsCount_,this.dispatchEvent(new Qp(Up))}.bind(s)),r.insert(a,{extent:a.slice()}))},s=this,a=0,u=i.length;a<u;++a)o(a);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(n){if(fl(n.extent,t))return e=n,!0})),e&&n.remove(e)},e.prototype.removeFeature=function(t){if(t){var e=ou(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t)&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var e=ou(t),n=this.featureChangeKeys_[e];if(n){n.forEach(Pa),delete this.featureChangeKeys_[e];var r=t.getId();return void 0!==r&&delete this.idIndex_[r.toString()],delete this.uidIndex_[e],this.dispatchEvent(new Qp(zp,t)),t}},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){Au(this.format_,7),this.url_=t,this.setLoader(Zp(t,this.format_))},e}(Dp),ef=\"opacity\",nf=\"visible\",rf=\"extent\",of=\"zIndex\",sf=\"maxResolution\",af=\"minResolution\",uf=\"maxZoom\",lf=\"minZoom\",cf=\"source\",hf=\"map\",pf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ff=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un,n.background_=e.background;var r=xa({},e);return\"object\"==typeof e.properties&&(delete r.properties,xa(r,e.properties)),r[ef]=void 0!==e.opacity?e.opacity:1,Au(\"number\"==typeof r[ef],64),r[nf]=void 0===e.visible||e.visible,r[of]=e.zIndex,r[sf]=void 0!==e.maxResolution?e.maxResolution:1/0,r[af]=void 0!==e.minResolution?e.minResolution:0,r[lf]=void 0!==e.minZoom?e.minZoom:-1/0,r[uf]=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==r.className?r.className:\"ol-layer\",delete r.className,n.setProperties(r),n.state_=null,n}return pf(e,t),e.prototype.getBackground=function(){return this.background_},e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=Ll(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return ru()},e.prototype.getLayerStatesArray=function(t){return ru()},e.prototype.getExtent=function(){return this.get(rf)},e.prototype.getMaxResolution=function(){return this.get(sf)},e.prototype.getMinResolution=function(){return this.get(af)},e.prototype.getMinZoom=function(){return this.get(lf)},e.prototype.getMaxZoom=function(){return this.get(uf)},e.prototype.getOpacity=function(){return this.get(ef)},e.prototype.getSourceState=function(){return ru()},e.prototype.getVisible=function(){return this.get(nf)},e.prototype.getZIndex=function(){return this.get(of)},e.prototype.setBackground=function(t){this.background_=t,this.changed()},e.prototype.setExtent=function(t){this.set(rf,t)},e.prototype.setMaxResolution=function(t){this.set(sf,t)},e.prototype.setMinResolution=function(t){this.set(af,t)},e.prototype.setMaxZoom=function(t){this.set(uf,t)},e.prototype.setMinZoom=function(t){this.set(lf,t)},e.prototype.setOpacity=function(t){Au(\"number\"==typeof t,64),this.set(ef,t)},e.prototype.setVisible=function(t){this.set(nf,t)},e.prototype.setZIndex=function(t){this.set(of,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(uu),df=\"prerender\",gf=\"postrender\",yf=\"precompose\",vf=\"postcompose\",_f=\"rendercomplete\",mf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function bf(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}var xf=function(t){function e(e){var n=this,r=xa({},e);delete r.source,(n=t.call(this,r)||this).on,n.once,n.un,n.mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,n.rendered=!1,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addChangeListener(cf,n.handleSourcePropertyChange_);var i=e.source?e.source:null;return n.setSource(i),n}return mf(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(cf)||null},e.prototype.getRenderSource=function(){return this.getSource()},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():zh},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Pa(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Sa(t,qa,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise((function(t){return t([])}))},e.prototype.getData=function(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return this.rendered=!0,n.renderFrame(t,e)},e.prototype.unrender=function(){this.rendered=!1},e.prototype.setMapInternal=function(t){t||this.unrender(),this.set(hf,t)},e.prototype.getMapInternal=function(){return this.get(hf)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Pa(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Pa(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Sa(t,yf,(function(t){var e=t.frameState.layerStatesArray,n=this.getLayerState(!1);Au(!e.some((function(t){return t.layer===n.layer})),67),e.push(n)}),this),this.mapRenderKey_=Sa(this,qa,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(cf,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),t.prototype.disposeInternal.call(this)},e}(ff),wf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ef=\"renderOrder\",Cf=function(t){function e(e){var n=this,r=e||{},i=xa({},r);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,(n=t.call(this,i)||this).declutter_=void 0!==r.declutter&&r.declutter,n.renderBuffer_=void 0!==r.renderBuffer?r.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(r.style),n.updateWhileAnimating_=void 0!==r.updateWhileAnimating&&r.updateWhileAnimating,n.updateWhileInteracting_=void 0!==r.updateWhileInteracting&&r.updateWhileInteracting,n}return wf(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(Ef)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new Gh.a(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(Ef,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:oh,this.styleFunction_=null===t?void 0:function(t){var e;if(\"function\"==typeof t)e=t;else{var n;if(Array.isArray(t))n=t;else Au(\"function\"==typeof t.getZIndex,41),n=[t];e=function(){return n}}return e}(this.style_),this.changed()},e}(xf),Sf={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Of=[Sf.FILL],Pf=[Sf.STROKE],If=[Sf.BEGIN_PATH],Tf=[Sf.CLOSE_PATH],Mf=Sf,Af=function(){function t(){}return t.prototype.drawCustom=function(t,e,n,r){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}();function Lf(t,e,n,r,i){for(var o=void 0!==i?i:[],s=0,a=e;a<n;a+=r)o[s++]=t.slice(a,a+r);return o.length=s,o}function Rf(t,e,n,r,i){for(var o=void 0!==i?i:[],s=0,a=0,u=n.length;a<u;++a){var l=n[a];o[s++]=Lf(t,e,l,r,o[s]),e=l}return o.length=s,o}function Nf(t,e,n,r,i){for(var o=void 0!==i?i:[],s=0,a=0,u=n.length;a<u;++a){var l=n[a];o[s++]=Rf(t,e,l,r,o[s]),e=l[l.length-1]}return o.length=s,o}var Ff=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jf=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=n,o.pixelRatio=i,o.maxLineWidth=0,o.resolution=r,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return Ff(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var n=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,i=this.coordinates,o=i.length,s=0,a=t.length;s<a;s+=e)r[0]=t[s],r[1]=t[s+1],il(n,r)&&(i[o++]=r[0],i[o++]=r[1]);return o},e.prototype.appendFlatLineCoordinates=function(t,e,n,r,i,o){var s=this.coordinates,a=s.length,u=this.getBufferedMaxExtent();o&&(e+=r);var l,c,h,p=t[e],f=t[e+1],d=this.tmpCoordinate_,g=!0;for(l=e+r;l<n;l+=r)d[0]=t[l],d[1]=t[l+1],(h=al(u,d))!==c?(g&&(s[a++]=p,s[a++]=f,g=!1),s[a++]=d[0],s[a++]=d[1]):h===Hu?(s[a++]=d[0],s[a++]=d[1],g=!1):g=!0,p=d[0],f=d[1],c=h;return(i&&g||l===e+r)&&(s[a++]=p,s[a++]=f),a},e.prototype.drawCustomCoordinates_=function(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o){var a=n[o],u=this.appendFlatLineCoordinates(t,e,a,r,!1,!1);i.push(u),e=a}return e},e.prototype.drawCustom=function(t,e,n,r){this.beginGeometry(t,e);var i,o,s,a,u,l=t.getType(),c=t.getStride(),h=this.coordinates.length;switch(l){case Qc:i=t.getOrientedFlatCoordinates(),a=[];var p=t.getEndss();u=0;for(var f=0,d=p.length;f<d;++f){var g=[];u=this.drawCustomCoordinates_(i,u,p[f],c,g),a.push(g)}this.instructions.push([Mf.CUSTOM,h,a,t,n,Nf]),this.hitDetectionInstructions.push([Mf.CUSTOM,h,a,t,r||n,Nf]);break;case Kc:case Jc:s=[],i=l==Kc?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),u=this.drawCustomCoordinates_(i,0,t.getEnds(),c,s),this.instructions.push([Mf.CUSTOM,h,s,t,n,Rf]),this.hitDetectionInstructions.push([Mf.CUSTOM,h,s,t,r||n,Rf]);break;case Wc:case eh:i=t.getFlatCoordinates(),o=this.appendFlatLineCoordinates(i,0,i.length,c,!1,!1),this.instructions.push([Mf.CUSTOM,h,o,t,n,Lf]),this.hitDetectionInstructions.push([Mf.CUSTOM,h,o,t,r||n,Lf]);break;case Zc:i=t.getFlatCoordinates(),(o=this.appendFlatPointCoordinates(i,c))>h&&(this.instructions.push([Mf.CUSTOM,h,o,t,n,Lf]),this.hitDetectionInstructions.push([Mf.CUSTOM,h,o,t,r||n,Lf]));break;case Yc:i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),o=this.coordinates.length,this.instructions.push([Mf.CUSTOM,h,o,t,n]),this.hitDetectionInstructions.push([Mf.CUSTOM,h,o,t,r||n])}this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Mf.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Mf.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,r,i=e.length,o=-1;for(t=0;t<i;++t)(r=(n=e[t])[0])==Mf.END_GEOMETRY?o=t:r==Mf.BEGIN_GEOMETRY&&(n[2]=t,Na(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var r=t.getColor();n.fillStyle=_c(r||\"#000\")}else n.fillStyle=void 0;if(e){var i=e.getColor();n.strokeStyle=_c(i||\"#000\");var o=e.getLineCap();n.lineCap=void 0!==o?o:\"round\";var s=e.getLineDash();n.lineDash=s?s.slice():Tc;var a=e.getLineDashOffset();n.lineDashOffset=a||0;var u=e.getLineJoin();n.lineJoin=void 0!==u?u:\"round\";var l=e.getWidth();n.lineWidth=void 0!==l?l:1;var c=e.getMiterLimit();n.miterLimit=void 0!==c?c:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[Mf.SET_FILL_STYLE,e];return\"string\"!=typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[Mf.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;\"string\"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,r=t.lineCap,i=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,u=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=r||i!=t.currentLineDash&&!ja(t.currentLineDash,i)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=u)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=r,t.currentLineDash=i,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=u)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[Mf.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=nl(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;el(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(Af),Df=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kf=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterImageWithText_=void 0,o}return Df(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.appendFlatPointCoordinates(n,r);this.instructions.push([Mf.DRAW_IMAGE,i,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Mf.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.appendFlatPointCoordinates(n,r);this.instructions.push([Mf.DRAW_IMAGE,i,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Mf.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),r=t.getSize(),i=t.getHitDetectionImage(),o=t.getImage(this.pixelRatio),s=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=i,this.image_=o,this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=s[0]*this.imagePixelRatio_,this.originY_=s[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterImageWithText_=e},e}(jf),Gf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bf=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return Gf(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,r){var i=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,n,r,!1,!1),s=[Mf.MOVE_TO_LINE_TO,i,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n},e.prototype.drawLineString=function(t,e){var n=this.state,r=n.strokeStyle,i=n.lineWidth;if(void 0!==r&&void 0!==i){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Mf.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Tc,0],If);var o=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push(Pf),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,r=n.strokeStyle,i=n.lineWidth;if(void 0!==r&&void 0!==i){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Mf.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],If);for(var o=t.getEnds(),s=t.getFlatCoordinates(),a=t.getStride(),u=0,l=0,c=o.length;l<c;++l)u=this.drawFlatCoordinates_(s,u,o[l],a);this.hitDetectionInstructions.push(Pf),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Pf),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Pf),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(If)},e}(jf);function zf(t,e,n,r,i,o,s){var a=(n-e)/r;if(a<3){for(;e<n;e+=r)o[s++]=t[e],o[s++]=t[e+1];return s}var u=new Array(a);u[0]=1,u[a-1]=1;for(var l=[e,n-r],c=0;l.length>0;){for(var h=l.pop(),p=l.pop(),f=0,d=t[p],g=t[p+1],y=t[h],v=t[h+1],_=p+r;_<h;_+=r){var m=Fl(t[_],t[_+1],d,g,y,v);m>f&&(c=_,f=m)}f>i&&(u[(c-e)/r]=1,p+r<c&&l.push(p,c),c+r<h&&l.push(c,h))}for(_=0;_<a;++_)u[_]&&(o[s++]=t[e+_*r],o[s++]=t[e+_*r+1]);return s}function Vf(t,e,n,r,i,o,s,a){for(var u=0,l=n.length;u<l;++u){var c=n[u];s=zf(t,e,c,r,i,o,s),a.push(s),e=c}return s}function qf(t,e){return e*Math.round(t/e)}function Uf(t,e,n,r,i,o,s){if(e==n)return s;var a,u,l=qf(t[e],i),c=qf(t[e+1],i);e+=r,o[s++]=l,o[s++]=c;do{if(a=qf(t[e],i),u=qf(t[e+1],i),(e+=r)==n)return o[s++]=a,o[s++]=u,s}while(a==l&&u==c);for(;e<n;){var h=qf(t[e],i),p=qf(t[e+1],i);if(e+=r,h!=a||p!=u){var f=a-l,d=u-c,g=h-l,y=p-c;f*y==d*g&&(f<0&&g<f||f==g||f>0&&g>f)&&(d<0&&y<d||d==y||d>0&&y>d)?(a=h,u=p):(o[s++]=a,o[s++]=u,l=a,c=u,a=h,u=p)}}return o[s++]=a,o[s++]=u,s}function $f(t,e,n,r,i,o,s,a){for(var u=0,l=n.length;u<l;++u){var c=n[u];s=Uf(t,e,c,r,i,o,s),a.push(s),e=c}return s}var Xf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yf=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return Xf(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,r){var i=this.state,o=void 0!==i.fillStyle,s=void 0!==i.strokeStyle,a=n.length;this.instructions.push(If),this.hitDetectionInstructions.push(If);for(var u=0;u<a;++u){var l=n[u],c=this.coordinates.length,h=this.appendFlatLineCoordinates(t,e,l,r,!0,!s),p=[Mf.MOVE_TO_LINE_TO,c,h];this.instructions.push(p),this.hitDetectionInstructions.push(p),s&&(this.instructions.push(Tf),this.hitDetectionInstructions.push(Tf)),e=l}return o&&(this.instructions.push(Of),this.hitDetectionInstructions.push(Of)),s&&(this.instructions.push(Pf),this.hitDetectionInstructions.push(Pf)),e},e.prototype.drawCircle=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Mf.SET_FILL_STYLE,\"#000\"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Mf.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),s=t.getStride(),a=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,s,!1,!1);var u=[Mf.CIRCLE,a];this.instructions.push(If,u),this.hitDetectionInstructions.push(If,u),void 0!==n.fillStyle&&(this.instructions.push(Of),this.hitDetectionInstructions.push(Of)),void 0!==n.strokeStyle&&(this.instructions.push(Pf),this.hitDetectionInstructions.push(Pf)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Mf.SET_FILL_STYLE,\"#000\"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Mf.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getEnds(),s=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(s,0,o,a),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Mf.SET_FILL_STYLE,\"#000\"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Mf.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var o=t.getEndss(),s=t.getOrientedFlatCoordinates(),a=t.getStride(),u=0,l=0,c=o.length;l<c;++l)u=this.drawFlatCoordinatess_(s,u,o[l],a);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,r=0,i=n.length;r<i;++r)n[r]=qf(n[r],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(jf);function Wf(t,e,n,r,i){var o,s,a,u,l,c,h,p,f,d=n,g=n,y=0,v=0,_=n;for(o=n;o<r;o+=i){var m=e[o],b=e[o+1];void 0!==u&&(p=m-u,f=b-l,a=Math.sqrt(p*p+f*f),void 0!==c&&(v+=s,Math.acos((c*p+h*f)/(s*a))>t&&(v>y&&(y=v,d=_,g=o),v=0,_=o-i)),s=a,c=p,h=f),u=m,l=b}return(v+=a)>y?[_,o]:[d,g]}var Hf,Kf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zf={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Jf={Circle:Yf,Default:jf,Image:kf,LineString:Bf,Polygon:Yf,Text:function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.labels_=null,o.text_=\"\",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_=\"\",o.fillKey_=\"\",o.strokeKey_=\"\",o.declutterImageWithText_=void 0,o}return Kf(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textFillState_,r=this.textStrokeState_,i=this.textState_;if(\"\"!==this.text_&&i&&(n||r)){var o=this.coordinates,s=o.length,a=t.getType(),u=null,l=t.getStride();if(i.placement!==ch||a!=Wc&&a!=Jc&&a!=Kc&&a!=Qc){var c=i.overflow?null:[];switch(a){case Yc:case Zc:u=t.getFlatCoordinates();break;case Wc:u=t.getFlatMidpoint();break;case eh:u=t.getCenter();break;case Jc:u=t.getFlatMidpoints(),l=2;break;case Kc:u=t.getFlatInteriorPoint(),i.overflow||c.push(u[2]/this.resolution),l=3;break;case Qc:var h=t.getFlatInteriorPoints();u=[];for(w=0,E=h.length;w<E;w+=3)i.overflow||c.push(h[w+2]/this.resolution),u.push(h[w],h[w+1]);if(0===u.length)return;l=2}if((M=this.appendFlatPointCoordinates(u,l))===s)return;if(c&&(M-s)/2!=u.length/l){var p=s/2;c=c.filter((function(t,e){var n=o[2*(p+e)]===u[e*l]&&o[2*(p+e)+1]===u[e*l+1];return n||--p,n}))}this.saveTextStates_(),(i.backgroundFill||i.backgroundStroke)&&(this.setFillStrokeStyle(i.backgroundFill,i.backgroundStroke),i.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),i.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var f=i.padding;if(f!=Mc&&(i.scale[0]<0||i.scale[1]<0)){var d=i.padding[0],g=i.padding[1],y=i.padding[2],v=i.padding[3];i.scale[0]<0&&(g=-g,v=-v),i.scale[1]<0&&(d=-d,y=-y),f=[d,g,y,v]}var _=this.pixelRatio;this.instructions.push([Mf.DRAW_IMAGE,s,M,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,f==Mc?Mc:f.map((function(t){return t*_})),!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]);var m=1/_;this.hitDetectionInstructions.push([Mf.DRAW_IMAGE,s,M,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[m,m],NaN,this.declutterImageWithText_,f,!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]),this.endGeometry(e)}else{if(!Tl(this.getBufferedMaxExtent(),t.getExtent()))return;var b=void 0;if(u=t.getFlatCoordinates(),a==Wc)b=[u.length];else if(a==Jc)b=t.getEnds();else if(a==Kc)b=t.getEnds().slice(0,1);else if(a==Qc){var x=t.getEndss();b=[];for(var w=0,E=x.length;w<E;++w)b.push(x[w][0])}this.beginGeometry(t,e);for(var C=i.textAlign,S=0,O=void 0,P=0,I=b.length;P<I;++P){if(null==C){var T=Wf(i.maxAngle,u,S,b[P],l);S=T[0],O=T[1]}else O=b[P];for(var w=S;w<O;w+=l)o.push(u[w],u[w+1]);var M=o.length;S=b[P],this.drawChars_(s,M),s=M}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var i=this.textKey_;i in this.textStates||(this.textStates[i]={font:e.font,textAlign:e.textAlign||\"center\",textBaseline:e.textBaseline||\"middle\",scale:e.scale});var o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e){var n=this.textStrokeState_,r=this.textState_,i=this.strokeKey_,o=this.textKey_,s=this.fillKey_;this.saveTextStates_();var a=this.pixelRatio,u=Zf[r.textBaseline],l=this.textOffsetY_*a,c=this.text_,h=n?n.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([Mf.DRAW_CHARS,t,e,u,r.overflow,s,r.maxAngle,a,l,i,h*a,c,o,1]),this.hitDetectionInstructions.push([Mf.DRAW_CHARS,t,e,u,r.overflow,s,r.maxAngle,1,l,i,h,c,o,1/a])},e.prototype.setTextStyle=function(t,e){var n,r,i;if(t){var o=t.getFill();o?((r=this.textFillState_)||(r={},this.textFillState_=r),r.fillStyle=_c(o.getColor()||\"#000\")):(r=null,this.textFillState_=r);var s=t.getStroke();if(s){(i=this.textStrokeState_)||(i={},this.textStrokeState_=i);var a=s.getLineDash(),u=s.getLineDashOffset(),l=s.getWidth(),c=s.getMiterLimit();i.lineCap=s.getLineCap()||\"round\",i.lineDash=a?a.slice():Tc,i.lineDashOffset=void 0===u?0:u,i.lineJoin=s.getLineJoin()||\"round\",i.lineWidth=void 0===l?1:l,i.miterLimit=void 0===c?10:c,i.strokeStyle=_c(s.getColor()||\"#000\")}else i=null,this.textStrokeState_=i;n=this.textState_;var h=t.getFont()||\"10px sans-serif\";jc(h);var p=t.getScaleArray();n.overflow=t.getOverflow(),n.font=h,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||\"middle\",n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||Mc,n.scale=void 0===p?[1,1]:p;var f=t.getOffsetX(),d=t.getOffsetY(),g=t.getRotateWithView(),y=t.getRotation();this.text_=t.getText()||\"\",this.textOffsetX_=void 0===f?0:f,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===y?0:y,this.strokeKey_=i?(\"string\"==typeof i.strokeStyle?i.strokeStyle:ou(i.strokeStyle))+i.lineCap+i.lineDashOffset+\"|\"+i.lineWidth+i.lineJoin+i.miterLimit+\"[\"+i.lineDash.join()+\"]\":\"\",this.textKey_=n.font+n.scale+(n.textAlign||\"?\")+(n.textBaseline||\"?\"),this.fillKey_=r?\"string\"==typeof r.fillStyle?r.fillStyle:\"|\"+ou(r.fillStyle):\"\"}else this.text_=\"\";this.declutterImageWithText_=e},e}(jf)},Qf=function(){function t(t,e,n,r){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var r in n){var i=n[r].finish();t[e][r]=i}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():\"0\",r=this.buildersByZIndex_[n];void 0===r&&(r={},this.buildersByZIndex_[n]=r);var i=r[e];void 0===i&&(i=new(0,Jf[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=i);return i},t}(),td=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ed=function(t){function e(e){var n=t.call(this)||this;return n.ready=!0,n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return td(e,t),e.prototype.getFeatures=function(t){return ru()},e.prototype.getData=function(t){return null},e.prototype.prepareFrame=function(t){return ru()},e.prototype.renderFrame=function(t,e){return ru()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(r,i){var o=this.loadedTileCallback.bind(this,n,r);return t.forEachLoadedTile(e,r,i,o)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){},e.prototype.getDataAtPixel=function(t,e,n){return null},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===rc&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=rc&&e!=ic&&t.addEventListener(qa,this.boundHandleImageChange_),e==ec&&(t.load(),e=t.getState()),e==rc},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==Vh&&t.changed()},e.prototype.disposeInternal=function(){delete this.layer_,t.prototype.disposeInternal.call(this)},e}(nu),nd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rd=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.inversePixelTransform=n,o.frameState=r,o.context=i,o}return nd(e,t),e}(Ia);new Array(6);function id(t,e,n,r,i,o,s){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=s,t}function od(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function sd(t,e,n,r,i,o,s,a){var u=Math.sin(o),l=Math.cos(o);return t[0]=r*l,t[1]=i*u,t[2]=-r*u,t[3]=i*l,t[4]=s*r*l-a*r*u+e,t[5]=s*i*u+a*i*l+n,t}function ad(t,e){var n,r=(n=e)[0]*n[3]-n[1]*n[2];Au(0!==r,32);var i=e[0],o=e[1],s=e[2],a=e[3],u=e[4],l=e[5];return t[0]=a/r,t[1]=-o/r,t[2]=-s/r,t[3]=i/r,t[4]=(s*l-a*u)/r,t[5]=-(i*l-o*u)/r,t}function ud(t){var e=\"matrix(\"+t.join(\", \")+\")\";if(Ou)return e;var n=Hf||(Hf=document.createElement(\"div\"));return n.style.transform=e,n.style.transform}var ld=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cd=null;var hd=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n.pixelContext_=null,n.frameState=null,n}return ld(e,t),e.prototype.getImageData=function(t,e,n){var r,i;cd||((r=document.createElement(\"canvas\")).width=1,r.height=1,cd=r.getContext(\"2d\")),cd.clearRect(0,0,1,1);try{cd.drawImage(t,e,n,1,1,0,0,1,1),i=cd.getImageData(0,0,1,1).data}catch(t){return null}return i},e.prototype.getBackground=function(t){var e=this.getLayer().getBackground();return\"function\"==typeof e&&(e=e(t.viewState.resolution)),e||void 0},e.prototype.useContainer=function(t,e,n,r){var i,o,s=this.getLayer().getClassName();t&&t.className===s&&\"\"===t.style.opacity&&1===n&&(!r||t.style.backgroundColor&&ja(gc(t.style.backgroundColor),gc(r)))&&((u=t.firstElementChild)instanceof HTMLCanvasElement&&(o=u.getContext(\"2d\")));if(o&&o.canvas.style.transform===e?(this.container=t,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(i=document.createElement(\"div\")).className=s;var a=i.style;a.position=\"absolute\",a.width=\"100%\",a.height=\"100%\",r&&(a.backgroundColor=r);var u=(o=mc()).canvas;i.appendChild(u),(a=u.style).position=\"absolute\",a.left=\"0\",a.transformOrigin=\"top left\",this.container=i,this.context=o}},e.prototype.clipUnrotated=function(t,e,n){var r=Ol(n),i=Pl(n),o=bl(n),s=ml(n);od(e.coordinateToPixelTransform,r),od(e.coordinateToPixelTransform,i),od(e.coordinateToPixelTransform,o),od(e.coordinateToPixelTransform,s);var a=this.inversePixelTransform;od(a,r),od(a,i),od(a,o),od(a,s),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){var i=new rd(t,this.inversePixelTransform,n,e);r.dispatchEvent(i)}},e.prototype.preRender=function(t,e){this.frameState=e,this.dispatchRenderEvent_(df,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(gf,t,e)},e.prototype.getRenderTransform=function(t,e,n,r,i,o,s){var a=i/2,u=o/2,l=r/e,c=-l,h=-t[0]+s,p=-t[1];return sd(this.tempTransform,a,u,l,c,-n,h,p)},e.prototype.getDataAtPixel=function(t,e,n){var r=od(this.inversePixelTransform,t.slice()),i=this.context,o=this.getLayer().getExtent();if(o&&!il(o,od(e.pixelToCoordinateTransform,t.slice())))return null;var s,a=Math.round(r[0]),u=Math.round(r[1]),l=this.pixelContext_;if(!l){var c=document.createElement(\"canvas\");c.width=1,c.height=1,l=c.getContext(\"2d\"),this.pixelContext_=l}l.clearRect(0,0,1,1);try{l.drawImage(i.canvas,a,u,1,1,0,0,1,1),s=l.getImageData(0,0,1,1).data}catch(t){return\"SecurityError\"===t.name?(this.pixelContext_=null,new Uint8Array):s}return 0===s[3]?null:s},e.prototype.disposeInternal=function(){delete this.frameState,t.prototype.disposeInternal.call(this)},e}(ed),pd=\"Circle\",fd=\"Default\",dd=\"Image\",gd=\"LineString\",yd=\"Polygon\",vd=\"Text\";function _d(t,e,n,r,i,o){for(var s=o||[],a=0,u=e;u<n;u+=r){var l=t[u],c=t[u+1];s[a++]=i[0]*l+i[2]*c+i[4],s[a++]=i[1]*l+i[3]*c+i[5]}return o&&s.length!=a&&(s.length=a),s}function md(t,e,n,r,i,o,s){for(var a=s||[],u=Math.cos(i),l=Math.sin(i),c=o[0],h=o[1],p=0,f=e;f<n;f+=r){var d=t[f]-c,g=t[f+1]-h;a[p++]=c+d*u-g*l,a[p++]=h+d*l+g*u;for(var y=f+2;y<f+r;++y)a[p++]=t[y]}return s&&a.length!=p&&(a.length=p),a}function bd(t,e,n,r,i,o,s){for(var a=s||[],u=0,l=e;l<n;l+=r){a[u++]=t[l]+i,a[u++]=t[l+1]+o;for(var c=l+2;c<l+r;++c)a[u++]=t[c]}return s&&a.length!=u&&(a.length=u),a}function xd(t,e,n,r,i,o,s,a,u,l,c,h){var p=t[e],f=t[e+1],d=0,g=0,y=0,v=0;function _(){d=p,g=f,p=t[e+=r],f=t[e+1],v+=y,y=Math.sqrt((p-d)*(p-d)+(f-g)*(f-g))}do{_()}while(e<n-r&&v+y<o);for(var m=0===y?0:(o-v)/y,b=Gl(d,p,m),x=Gl(g,f,m),w=e-r,E=v,C=o+a*u(l,i,c);e<n-r&&v+y<C;)_();var S,O=Gl(d,p,m=0===y?0:(C-v)/y),P=Gl(g,f,m);if(h){var I=[b,x,O,P];md(I,0,4,2,h,I,I),S=I[0]>I[2]}else S=b>O;var T,M=Math.PI,A=[],L=w+r===e;if(y=0,v=E,p=t[e=w],f=t[e+1],L){_(),T=Math.atan2(f-g,p-d),S&&(T+=T>0?-M:M);var R=(O+b)/2,N=(P+x)/2;return A[0]=[R,N,(C-o)/2,T,i],A}for(var F=0,j=i.length;F<j;){_();var D=Math.atan2(f-g,p-d);if(S&&(D+=D>0?-M:M),void 0!==T){var k=D-T;if(k+=k>M?-2*M:k<-M?2*M:0,Math.abs(k)>s)return null}T=D;for(var G=F,B=0;F<j;++F){var z=a*u(l,i[S?j-F-1:F],c);if(e+r<n&&v+y<o+B+z/2)break;B+=z}if(F!==G){var V=S?i.substring(j-G,j-F):i.substring(G,F);R=Gl(d,p,m=0===y?0:(o+B/2-v)/y),N=Gl(g,f,m);A.push([R,N,B/2,D,V]),o+=B}}return A}function wd(t,e,n,r){for(var i=t[e],o=t[e+1],s=0,a=e+r;a<n;a+=r){var u=t[a],l=t[a+1];s+=Math.sqrt((u-i)*(u-i)+(l-o)*(l-o)),i=u,o=l}return s}var Ed=[1/0,1/0,-1/0,-1/0],Cd=[],Sd=[],Od=[],Pd=[];function Id(t){return t[3].declutterBox}var Td=new RegExp(\"[\"+String.fromCharCode(1425)+\"-\"+String.fromCharCode(2303)+String.fromCharCode(64285)+\"-\"+String.fromCharCode(65023)+String.fromCharCode(65136)+\"-\"+String.fromCharCode(65276)+String.fromCharCode(67584)+\"-\"+String.fromCharCode(69631)+String.fromCharCode(124928)+\"-\"+String.fromCharCode(126975)+\"]\");function Md(t,e){return\"start\"!==e&&\"end\"!==e||Td.test(t)||(e=\"start\"===e?\"left\":\"right\"),Zf[e]}function Ad(t,e,n){return n>0&&t.push(\"\\n\",\"\"),t.push(e,\"\"),t}var Ld=function(){function t(t,e,n,r){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,n,r){var i=t+e+n+r;if(this.labels_[i])return this.labels_[i];var o=r?this.strokeStates[r]:null,s=n?this.fillStates[n]:null,a=this.textStates[e],u=this.pixelRatio,l=[a.scale[0]*u,a.scale[1]*u],c=Array.isArray(t),h=Md(c?t[0]:t,a.textAlign||\"center\"),p=r&&o.lineWidth?o.lineWidth:0,f=c?t:t.split(\"\\n\").reduce(Ad,[]),d=function(t,e){for(var n=[],r=[],i=[],o=0,s=0,a=0,u=0,l=0,c=e.length;l<=c;l+=2){var h=e[l];if(\"\\n\"!==h&&l!==c){var p=e[l+1]||t.font,f=Gc(p,h);n.push(f),s+=f;var d=Dc(p);r.push(d),u=Math.max(u,d)}else o=Math.max(o,s),i.push(s),s=0,a+=u}return{width:o,height:a,widths:n,heights:r,lineWidths:i}}(a,f),g=d.width,y=d.height,v=d.widths,_=d.heights,m=d.lineWidths,b=g+p,x=[],w=(b+2)*l[0],E=(y+p)*l[1],C={width:w<0?Math.floor(w):Math.ceil(w),height:E<0?Math.floor(E):Math.ceil(E),contextInstructions:x};(1==l[0]&&1==l[1]||x.push(\"scale\",l),r)&&(x.push(\"strokeStyle\",o.strokeStyle),x.push(\"lineWidth\",p),x.push(\"lineCap\",o.lineCap),x.push(\"lineJoin\",o.lineJoin),x.push(\"miterLimit\",o.miterLimit),(Ou?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(x.push(\"setLineDash\",[o.lineDash]),x.push(\"lineDashOffset\",o.lineDashOffset)));n&&x.push(\"fillStyle\",s.fillStyle),x.push(\"textBaseline\",\"middle\"),x.push(\"textAlign\",\"center\");for(var S,O=.5-h,P=h*b+O*p,I=[],T=[],M=0,A=0,L=0,R=0,N=0,F=f.length;N<F;N+=2){var j=f[N];if(\"\\n\"!==j){var D=f[N+1]||a.font;D!==S&&(r&&I.push(\"font\",D),n&&T.push(\"font\",D),S=D),M=Math.max(M,_[L]);var k=[j,P+O*v[L]+h*(v[L]-m[R]),.5*(p+M)+A];P+=v[L],r&&I.push(\"strokeText\",k),n&&T.push(\"fillText\",k),++L}else A+=M,M=0,P=h*b+O*p,++R}return Array.prototype.push.apply(x,I),Array.prototype.push.apply(x,T),this.labels_[i]=C,C},t.prototype.replayTextBackground_=function(t,e,n,r,i,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,n,r,i,o,s,a,u,l,c,h,p,f,d,g){var y,v=n-(s*=h[0]),_=r-(a*=h[1]),m=i+u>t?t-u:i,b=o+l>e?e-l:o,x=f[3]+m*h[0]+f[1],w=f[0]+b*h[1]+f[2],E=v-f[3],C=_-f[0];return(d||0!==c)&&(Cd[0]=E,Pd[0]=E,Cd[1]=C,Sd[1]=C,Sd[0]=E+x,Od[0]=Sd[0],Od[1]=C+w,Pd[1]=Od[1]),0!==c?(od(y=sd([1,0,0,1,0,0],n,r,1,1,c,-n,-r),Cd),od(y,Sd),od(y,Od),od(y,Pd),ll(Math.min(Cd[0],Sd[0],Od[0],Pd[0]),Math.min(Cd[1],Sd[1],Od[1],Pd[1]),Math.max(Cd[0],Sd[0],Od[0],Pd[0]),Math.max(Cd[1],Sd[1],Od[1],Pd[1]),Ed)):ll(Math.min(E,E+x),Math.min(C,C+w),Math.max(E,E+x),Math.max(C,C+w),Ed),p&&(v=Math.round(v),_=Math.round(_)),{drawImageX:v,drawImageY:_,drawImageW:m,drawImageH:b,originX:u,originY:l,declutterBox:{minX:Ed[0],minY:Ed[1],maxX:Ed[2],maxY:Ed[3],value:g},canvasTransform:y,scale:h}},t.prototype.replayImageOrLabel_=function(t,e,n,r,i,o,s){var a=!(!o&&!s),u=r.declutterBox,l=t.canvas,c=s?s[2]*r.scale[0]/2:0;return u.minX-c<=l.width/e&&u.maxX+c>=0&&u.minY-c<=l.height/e&&u.maxY+c>=0&&(a&&this.replayTextBackground_(t,Cd,Sd,Od,Pd,o,s),zc(t,r.canvasTransform,i,n,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=od(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,n,r){var i=this.textStates[e],o=this.createLabel(t,e,r,n),s=this.strokeStates[n],a=this.pixelRatio,u=Md(Array.isArray(t)?t[0]:t,i.textAlign||\"center\"),l=Zf[i.textBaseline||\"middle\"],c=s&&s.lineWidth?s.lineWidth:0;return{label:o,anchorX:u*(o.width/a-2*i.scale[0])+2*(.5-u)*c,anchorY:l*o.height/a+2*(.5-l)*c}},t.prototype.execute_=function(t,e,n,r,i,o,s,a){var u,l,c;this.pixelCoordinates_&&ja(n,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=_d(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),l=this.renderedTransform_,c=n,l[0]=c[0],l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5]);for(var h,p,f,d,g,y,v,_,m,b,x,w,E,C,S,O,P=0,I=r.length,T=0,M=0,A=0,L=null,R=null,N=this.coordinateCache_,F=this.viewRotation_,j=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,D={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:F},k=this.instructions!=r||this.overlaps?0:200;P<I;){var G=r[P];switch(G[0]){case Mf.BEGIN_GEOMETRY:E=G[1],O=G[3],E.getGeometry()?void 0===s||Tl(s,O.getExtent())?++P:P=G[2]+1:P=G[2];break;case Mf.BEGIN_PATH:M>k&&(this.fill_(t),M=0),A>k&&(t.stroke(),A=0),M||A||(t.beginPath(),d=NaN,g=NaN),++P;break;case Mf.CIRCLE:var B=u[T=G[1]],z=u[T+1],V=u[T+2]-B,q=u[T+3]-z,U=Math.sqrt(V*V+q*q);t.moveTo(B+U,z),t.arc(B,z,U,0,2*Math.PI,!0),++P;break;case Mf.CLOSE_PATH:t.closePath(),++P;break;case Mf.CUSTOM:T=G[1],h=G[2];var $=G[3],X=G[4],Y=6==G.length?G[5]:void 0;D.geometry=$,D.feature=E,P in N||(N[P]=[]);var W=N[P];Y?Y(u,T,h,2,W):(W[0]=u[T],W[1]=u[T+1],W.length=2),X(W,D),++P;break;case Mf.DRAW_IMAGE:T=G[1],h=G[2],_=G[3],p=G[4],f=G[5];var H=G[6],K=G[7],Z=G[8],J=G[9],Q=G[10],tt=G[11],et=G[12],nt=G[13],rt=G[14];if(!_&&G.length>=19){m=G[18],b=G[19],x=G[20],w=G[21];var it=this.drawLabelWithPointPlacement_(m,b,x,w);_=it.label,G[3]=_;var ot=G[22];p=(it.anchorX-ot)*this.pixelRatio,G[4]=p;var st=G[23];f=(it.anchorY-st)*this.pixelRatio,G[5]=f,H=_.height,G[6]=H,nt=_.width,G[13]=nt}var at=void 0;G.length>24&&(at=G[24]);var ut=void 0,lt=void 0,ct=void 0;G.length>16?(ut=G[15],lt=G[16],ct=G[17]):(ut=Mc,lt=!1,ct=!1),Q&&j?tt+=F:Q||j||(tt-=F);for(var ht=0;T<h;T+=2)if(!(at&&at[ht++]<nt/this.pixelRatio)){var pt=[t,e,_,Gt=this.calculateImageOrLabelDimensions_(_.width,_.height,u[T],u[T+1],nt,H,p,f,Z,J,tt,et,i,ut,lt||ct,E),K,lt?L:null,ct?R:null],ft=void 0,dt=void 0;if(a&&rt){var gt=h-T;if(!rt[gt]){rt[gt]=pt;continue}if(ft=rt[gt],delete rt[gt],dt=Id(ft),a.collides(dt))continue}a&&a.collides(Gt.declutterBox)||(ft&&(a&&a.insert(dt),this.replayImageOrLabel_.apply(this,ft)),a&&a.insert(Gt.declutterBox),this.replayImageOrLabel_.apply(this,pt))}++P;break;case Mf.DRAW_CHARS:var yt=G[1],vt=G[2],_t=G[3],mt=G[4];w=G[5];var bt=G[6],xt=G[7],wt=G[8];x=G[9];var Et=G[10];m=G[11],b=G[12];var Ct=[G[13],G[13]],St=this.textStates[b],Ot=St.font,Pt=[St.scale[0]*xt,St.scale[1]*xt],It=void 0;Ot in this.widths_?It=this.widths_[Ot]:(It={},this.widths_[Ot]=It);var Tt=wd(u,yt,vt,2),Mt=Math.abs(Pt[0])*Bc(Ot,m,It);if(mt||Mt<=Tt){var At=this.textStates[b].textAlign,Lt=xd(u,yt,vt,2,m,(Tt-Mt)*Zf[At],bt,Math.abs(Pt[0]),Bc,Ot,It,j?0:this.viewRotation_);t:if(Lt){var Rt=[],Nt=void 0,Ft=void 0,jt=void 0,Dt=void 0,kt=void 0;if(x)for(Nt=0,Ft=Lt.length;Nt<Ft;++Nt){jt=(kt=Lt[Nt])[4],Dt=this.createLabel(jt,b,\"\",x),p=kt[2]+(Pt[0]<0?-Et:Et),f=_t*Dt.height+2*(.5-_t)*Et*Pt[1]/Pt[0]-wt;var Gt=this.calculateImageOrLabelDimensions_(Dt.width,Dt.height,kt[0],kt[1],Dt.width,Dt.height,p,f,0,0,kt[3],Ct,!1,Mc,!1,E);if(a&&a.collides(Gt.declutterBox))break t;Rt.push([t,e,Dt,Gt,1,null,null])}if(w)for(Nt=0,Ft=Lt.length;Nt<Ft;++Nt){jt=(kt=Lt[Nt])[4],Dt=this.createLabel(jt,b,w,\"\"),p=kt[2],f=_t*Dt.height-wt;Gt=this.calculateImageOrLabelDimensions_(Dt.width,Dt.height,kt[0],kt[1],Dt.width,Dt.height,p,f,0,0,kt[3],Ct,!1,Mc,!1,E);if(a&&a.collides(Gt.declutterBox))break t;Rt.push([t,e,Dt,Gt,1,null,null])}a&&a.load(Rt.map(Id));for(var Bt=0,zt=Rt.length;Bt<zt;++Bt)this.replayImageOrLabel_.apply(this,Rt[Bt])}}++P;break;case Mf.END_GEOMETRY:if(void 0!==o){var Vt=o(E=G[1],O);if(Vt)return Vt}++P;break;case Mf.FILL:k?M++:this.fill_(t),++P;break;case Mf.MOVE_TO_LINE_TO:for(T=G[1],h=G[2],C=u[T],v=(S=u[T+1])+.5|0,(y=C+.5|0)===d&&v===g||(t.moveTo(C,S),d=y,g=v),T+=2;T<h;T+=2)y=(C=u[T])+.5|0,v=(S=u[T+1])+.5|0,T!=h-2&&y===d&&v===g||(t.lineTo(C,S),d=y,g=v);++P;break;case Mf.SET_FILL_STYLE:L=G,this.alignFill_=G[2],M&&(this.fill_(t),M=0,A&&(t.stroke(),A=0)),t.fillStyle=G[1],++P;break;case Mf.SET_STROKE_STYLE:R=G,A&&(t.stroke(),A=0),this.setStrokeStyle_(t,G),++P;break;case Mf.STROKE:k?A++:t.stroke(),++P;break;default:++P}}M&&this.fill_(t),A&&t.stroke()},t.prototype.execute=function(t,e,n,r,i,o){this.viewRotation_=r,this.execute_(t,e,n,this.instructions,i,void 0,void 0,o)},t.prototype.executeHitDetection=function(t,e,n,r,i){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,r,i)},t}(),Rd=[yd,pd,gd,dd,vd,fd],Nd=function(){function t(t,e,n,r,i,o){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(i)}return t.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);var r=t[e];for(var i in r){var o=r[i];n[i]=new Ld(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],r=0,i=t.length;r<i;++r)if(t[r]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o){var s=2*(r=Math.round(r))+1,a=sd(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=mc(s,s));var l,c=this.hitDetectionContext_;c.canvas.width!==s||c.canvas.height!==s?(c.canvas.width=s,c.canvas.height=s):u||c.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(dl(l=[1/0,1/0,-1/0,-1/0],t),el(l,e*(this.renderBuffer_+r),l));var h,p=function(t){if(void 0!==Fd[t])return Fd[t];for(var e=2*t+1,n=t*t,r=new Array(n+1),i=0;i<=t;++i)for(var o=0;o<=t;++o){var s=i*i+o*o;if(s>n)break;var a=r[s];a||(a=[],r[s]=a),a.push(4*((t+i)*e+(t+o))+3),i>0&&a.push(4*((t-i)*e+(t+o))+3),o>0&&(a.push(4*((t+i)*e+(t-o))+3),i>0&&a.push(4*((t-i)*e+(t-o))+3))}for(var u=[],l=(i=0,r.length);i<l;++i)r[i]&&u.push.apply(u,r[i]);return Fd[t]=u,u}(r);function f(t,e){for(var n=c.getImageData(0,0,s,s).data,a=0,u=p.length;a<u;a++)if(n[p[a]]>0){if(!o||h!==dd&&h!==vd||-1!==o.indexOf(t)){var l=(p[a]-3)/4,f=r-l%s,d=r-(l/s|0),g=i(t,e,f*f+d*d);if(g)return g}c.clearRect(0,0,s,s);break}}var d,g,y,v,_,m=Object.keys(this.executorsByZIndex_).map(Number);for(m.sort(Aa),d=m.length-1;d>=0;--d){var b=m[d].toString();for(y=this.executorsByZIndex_[b],g=Rd.length-1;g>=0;--g)if(void 0!==(v=y[h=Rd[g]])&&(_=v.executeHitDetection(c,a,n,f,l)))return _}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],r=e[1],i=e[2],o=e[3],s=[n,r,n,o,i,o,i,r];return _d(s,0,8,2,t,s),s},t.prototype.isEmpty=function(){return Ca(this.executorsByZIndex_)},t.prototype.execute=function(t,e,n,r,i,o,s){var a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(Aa),this.maxExtent_&&(t.save(),this.clip(t,n));var u,l,c,h,p,f,d=o||Rd;for(s&&a.reverse(),u=0,l=a.length;u<l;++u){var g=a[u].toString();for(p=this.executorsByZIndex_[g],c=0,h=d.length;c<h;++c){void 0!==(f=p[d[c]])&&f.execute(t,e,n,r,i,s)}}this.maxExtent_&&t.restore()},t}(),Fd={};var jd=Nd,Dd=0,kd=1,Gd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bd=[1,0,0,1,0,0],zd=function(t){function e(){var e,n,r,i,o,s=t.call(this)||this;return s.extent_=[1/0,1/0,-1/0,-1/0],s.extentRevision_=-1,s.simplifiedGeometryMaxMinSquaredTolerance=0,s.simplifiedGeometryRevision=0,s.simplifyTransformedInternal=(e=function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(e)},o=!1,function(){var t=Array.prototype.slice.call(arguments);return o&&this===i&&ja(t,r)||(o=!0,i=this,r=t,n=e.apply(this,arguments)),n}),s}return Gd(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return ru()},e.prototype.closestPointXY=function(t,e,n,r){return ru()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return ru()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&cl(e),this.extentRevision_=this.getRevision()}return function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){ru()},e.prototype.scale=function(t,e,n){ru()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return ru()},e.prototype.getType=function(){return ru()},e.prototype.applyTransform=function(t){ru()},e.prototype.intersectsExtent=function(t){return ru()},e.prototype.translate=function(t,e){ru()},e.prototype.transform=function(t,e){var n=yp(t),r=n.getUnits()==$h.TILE_PIXELS?function(t,r,i){var o=n.getExtent(),s=n.getWorldExtent(),a=Cl(s)/Cl(o);return sd(Bd,s[0],s[3],a,-a,0,0,0),_d(t,0,t.length,i,Bd,r),wp(n,e)(t,r,i)}:wp(n,e);return this.applyTransform(r),this},e}(uu),Vd=\"XY\",qd=\"XYZ\",Ud=\"XYM\",$d=\"XYZM\",Xd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Yd(t){var e;return t==Vd?e=2:t==qd||t==Ud?e=3:t==$d&&(e=4),e}var Wd=function(t){function e(){var e=t.call(this)||this;return e.layout=Vd,e.stride=2,e.flatCoordinates=null,e}return Xd(e,t),e.prototype.computeExtent=function(t){return pl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return ru()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=Yd(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){ru()},e.prototype.setLayout=function(t,e,n){var r;if(t)r=Yd(t);else{for(var i=0;i<n;++i){if(0===e.length)return this.layout=Vd,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=Vd:3==t?e=qd:4==t&&(e=$d);return e}(r=e.length)}this.layout=t,this.stride=r},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();md(n,0,n.length,r,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var r=e;void 0===r&&(r=t);var i=n;i||(i=xl(this.getExtent()));var o=this.getFlatCoordinates();if(o){var s=this.getStride();!function(t,e,n,r,i,o,s,a){for(var u=a||[],l=s[0],c=s[1],h=0,p=e;p<n;p+=r){var f=t[p]-l,d=t[p+1]-c;u[h++]=l+i*f,u[h++]=c+o*d;for(var g=p+2;g<p+r;++g)u[h++]=t[g]}a&&u.length!=h&&(u.length=h)}(o,0,o.length,s,t,r,i,o),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();bd(n,0,n.length,r,t,e,n),this.changed()}},e}(zd),Hd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kd=function(t){function e(e,n,r,i,o,s,a){var u=t.call(this)||this;return u.context_=e,u.pixelRatio_=n,u.extent_=r,u.transform_=i,u.viewRotation_=o,u.squaredTolerance_=s,u.userTransform_=a,u.contextFillState_=null,u.contextStrokeState_=null,u.contextTextState_=null,u.fillState_=null,u.strokeState_=null,u.image_=null,u.imageAnchorX_=0,u.imageAnchorY_=0,u.imageHeight_=0,u.imageOpacity_=0,u.imageOriginX_=0,u.imageOriginY_=0,u.imageRotateWithView_=!1,u.imageRotation_=0,u.imageScale_=[0,0],u.imageWidth_=0,u.text_=\"\",u.textOffsetX_=0,u.textOffsetY_=0,u.textRotateWithView_=!1,u.textRotation_=0,u.textScale_=[0,0],u.textFillState_=null,u.textStrokeState_=null,u.textState_=null,u.pixelCoordinates_=[],u.tmpLocalTransform_=[1,0,0,1,0,0],u}return Hd(e,t),e.prototype.drawImages_=function(t,e,n,r){if(this.image_){var i=_d(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);var u=this.imageRotation_;this.imageRotateWithView_&&(u+=this.viewRotation_);for(var l=0,c=i.length;l<c;l+=2){var h=i[l]-this.imageAnchorX_,p=i[l+1]-this.imageAnchorY_;if(0!==u||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var f=h+this.imageAnchorX_,d=p+this.imageAnchorY_;sd(s,f,d,1,1,u,-f,-d),o.setTransform.apply(o,s),o.translate(f,d),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,p,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=a)}},e.prototype.drawText_=function(t,e,n,r){if(this.textState_&&\"\"!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=_d(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<n;e+=r){var a=i[e]+this.textOffsetX_,u=i[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]){var l=sd(this.tmpLocalTransform_,a,u,1,1,s,-a,-u);o.setTransform.apply(o,l),o.translate(a,u),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&o.strokeText(this.text_,a,u),this.textFillState_&&o.fillText(this.text_,a,u)}}},e.prototype.moveToLineTo_=function(t,e,n,r,i){var o=this.context_,s=_d(t,e,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);var a=s.length;i&&(a-=2);for(var u=2;u<a;u+=2)o.lineTo(s[u],s[u+1]);return i&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)e=this.moveToLineTo_(t,e,n[i],r,!0);return e},e.prototype.drawCircle=function(t){if(Tl(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var r=t.getFlatCoordinates();if(r){var i=t.getStride();return _d(r,0,r.length,i,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],i=Math.sqrt(n*n+r*r),o=this.context_;o.beginPath(),o.arc(e[0],e[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}\"\"!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case Yc:this.drawPoint(t);break;case Wc:this.drawLineString(t);break;case Kc:this.drawPolygon(t);break;case Zc:this.drawMultiPoint(t);break;case Jc:this.drawMultiLineString(t);break;case Qc:this.drawMultiPolygon(t);break;case th:this.drawGeometryCollection(t);break;case eh:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Tl(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,r=e.length;n<r;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),\"\"!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),\"\"!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Tl(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(\"\"!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Tl(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,r=t.getFlatCoordinates(),i=0,o=t.getEnds(),s=t.getStride();n.beginPath();for(var a=0,u=o.length;a<u;++a)i=this.moveToLineTo_(r,i,o[a],s,!1);n.stroke()}if(\"\"!==this.text_){var l=t.getFlatMidpoints();this.drawText_(l,0,l.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Tl(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(\"\"!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Tl(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),r=0,i=t.getEndss(),o=t.getStride();e.beginPath();for(var s=0,a=i.length;s<a;++s){var u=i[s];r=this.drawRings_(n,r,u,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(\"\"!==this.text_){var l=t.getFlatInteriorPoints();this.drawText_(l,0,l.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(ja(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:\"center\";n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=r&&(n.textAlign=r,e.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){var n=this;if(t){var r=t.getColor();this.fillState_={fillStyle:_c(r||\"#000\")}}else this.fillState_=null;if(e){var i=e.getColor(),o=e.getLineCap(),s=e.getLineDash(),a=e.getLineDashOffset(),u=e.getLineJoin(),l=e.getWidth(),c=e.getMiterLimit(),h=s||Tc;this.strokeState_={lineCap:void 0!==o?o:\"round\",lineDash:1===this.pixelRatio_?h:h.map((function(t){return t*n.pixelRatio_})),lineDashOffset:(a||0)*this.pixelRatio_,lineJoin:void 0!==u?u:\"round\",lineWidth:(void 0!==l?l:1)*this.pixelRatio_,miterLimit:void 0!==c?c:10,strokeStyle:_c(i||\"#000\")}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){var e;if(t&&(e=t.getSize())){var n=t.getAnchor(),r=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*this.pixelRatio_,this.imageAnchorY_=n[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:_c(n||\"#000\")}}else this.textFillState_=null;var r=t.getStroke();if(r){var i=r.getColor(),o=r.getLineCap(),s=r.getLineDash(),a=r.getLineDashOffset(),u=r.getLineJoin(),l=r.getWidth(),c=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:\"round\",lineDash:s||Tc,lineDashOffset:a||0,lineJoin:void 0!==u?u:\"round\",lineWidth:void 0!==l?l:1,miterLimit:void 0!==c?c:10,strokeStyle:_c(i||\"#000\")}}else this.textStrokeState_=null;var h=t.getFont(),p=t.getOffsetX(),f=t.getOffsetY(),d=t.getRotateWithView(),g=t.getRotation(),y=t.getScaleArray(),v=t.getText(),_=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==h?h:\"10px sans-serif\",textAlign:void 0!==_?_:\"center\",textBaseline:void 0!==m?m:\"middle\"},this.text_=void 0!==v?Array.isArray(v)?v.reduce((function(t,e,n){return t+(n%2?\" \":e)}),\"\"):v:\"\",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==f?this.pixelRatio_*f:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==g?g:0,this.textScale_=[this.pixelRatio_*y[0],this.pixelRatio_*y[1]]}else this.text_=\"\"},e}(Af);var Zd={Point:function(t,e,n,r,i){var o,s=n.getImage(),a=n.getText();i&&(t=i,o=s&&a&&a.getText()?{}:void 0);if(s){if(s.getImageState()!=rc)return;var u=t.getBuilder(n.getZIndex(),dd);u.setImageStyle(s,o),u.drawPoint(e,r)}if(a&&a.getText()){var l=t.getBuilder(n.getZIndex(),vd);l.setTextStyle(a,o),l.drawText(e,r)}},LineString:function(t,e,n,r,i){var o=n.getStroke();if(o){var s=t.getBuilder(n.getZIndex(),gd);s.setFillStrokeStyle(null,o),s.drawLineString(e,r)}var a=n.getText();if(a&&a.getText()){var u=(i||t).getBuilder(n.getZIndex(),vd);u.setTextStyle(a),u.drawText(e,r)}},Polygon:function(t,e,n,r,i){var o=n.getFill(),s=n.getStroke();if(o||s){var a=t.getBuilder(n.getZIndex(),yd);a.setFillStrokeStyle(o,s),a.drawPolygon(e,r)}var u=n.getText();if(u&&u.getText()){var l=(i||t).getBuilder(n.getZIndex(),vd);l.setTextStyle(u),l.drawText(e,r)}},MultiPoint:function(t,e,n,r,i){var o,s=n.getImage(),a=n.getText();i&&(t=i,o=s&&a&&a.getText()?{}:void 0);if(s){if(s.getImageState()!=rc)return;var u=t.getBuilder(n.getZIndex(),dd);u.setImageStyle(s,o),u.drawMultiPoint(e,r)}if(a&&a.getText()){var l=(i||t).getBuilder(n.getZIndex(),vd);l.setTextStyle(a,o),l.drawText(e,r)}},MultiLineString:function(t,e,n,r,i){var o=n.getStroke();if(o){var s=t.getBuilder(n.getZIndex(),gd);s.setFillStrokeStyle(null,o),s.drawMultiLineString(e,r)}var a=n.getText();if(a&&a.getText()){var u=(i||t).getBuilder(n.getZIndex(),vd);u.setTextStyle(a),u.drawText(e,r)}},MultiPolygon:function(t,e,n,r,i){var o=n.getFill(),s=n.getStroke();if(s||o){var a=t.getBuilder(n.getZIndex(),yd);a.setFillStrokeStyle(o,s),a.drawMultiPolygon(e,r)}var u=n.getText();if(u&&u.getText()){var l=(i||t).getBuilder(n.getZIndex(),vd);l.setTextStyle(u),l.drawText(e,r)}},GeometryCollection:function(t,e,n,r,i){var o,s,a=e.getGeometriesArray();for(o=0,s=a.length;o<s;++o){(0,Zd[a[o].getType()])(t,a[o],n,r,i)}},Circle:function(t,e,n,r,i){var o=n.getFill(),s=n.getStroke();if(o||s){var a=t.getBuilder(n.getZIndex(),pd);a.setFillStrokeStyle(o,s),a.drawCircle(e,r)}var u=n.getText();if(u&&u.getText()){var l=(i||t).getBuilder(n.getZIndex(),vd);l.setTextStyle(u),l.drawText(e,r)}}};function Jd(t,e){return parseInt(ou(t),10)-parseInt(ou(e),10)}function Qd(t,e){return.5*t/e}function tg(t,e,n,r,i,o,s){var a=!1,u=n.getImage();if(u){var l=u.getImageState();l==rc||l==ic?u.unlistenImageChange(i):(l==ec&&u.load(),l=u.getImageState(),u.listenImageChange(i),a=!0)}return function(t,e,n,r,i,o){var s=n.getGeometryFunction()(e);if(!s)return;var a=s.simplifyTransformed(r,i);if(n.getRenderer())!function t(e,n,r,i){if(n.getType()==th){for(var o=n.getGeometries(),s=0,a=o.length;s<a;++s)t(e,o[s],r,i);return}e.getBuilder(r.getZIndex(),fd).drawCustom(n,i,r.getRenderer(),r.getHitDetectionRenderer())}(t,a,n,e);else{(0,Zd[a.getType()])(t,a,n,e,o)}}(t,e,n,r,o,s),a}var eg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ng=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=[1/0,1/0,-1/0,-1/0],n.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n}return eg(e,t),e.prototype.renderWorlds=function(t,e,n){var r=e.extent,i=e.viewState,o=i.center,s=i.resolution,a=i.projection,u=i.rotation,l=a.getExtent(),c=this.getLayer().getSource(),h=e.pixelRatio,p=e.viewHints,f=!(p[Dd]||p[kd]),d=this.context,g=Math.round(e.size[0]*h),y=Math.round(e.size[1]*h),v=c.getWrapX()&&a.canWrapX(),_=v?Il(l):null,m=v?Math.ceil((r[2]-l[2])/_)+1:1,b=v?Math.floor((r[0]-l[0])/_):0;do{var x=this.getRenderTransform(o,s,u,h,g,y,b*_);t.execute(d,1,x,u,f,void 0,n)}while(++b<m)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,r=t.layerStatesArray[t.layerIndex];!function(t,e,n){id(t,e,0,0,n,0,0)}(this.pixelTransform,1/n,1/n),ad(this.inversePixelTransform,this.pixelTransform);var i=ud(this.pixelTransform);this.useContainer(e,i,r.opacity,this.getBackground(t));var o=this.context,s=o.canvas,a=this.replayGroup_,u=this.declutterExecutorGroup;if((!a||a.isEmpty())&&(!u||u.isEmpty()))return null;var l=Math.round(t.size[0]*n),c=Math.round(t.size[1]*n);s.width!=l||s.height!=c?(s.width=l,s.height=c,s.style.transform!==i&&(s.style.transform=i)):this.containerReused||o.clearRect(0,0,l,c),this.preRender(o,t);var h=t.viewState,p=h.projection,f=!1,d=!0;if(r.extent&&this.clipping){var g=Rp(r.extent,p);(f=(d=Tl(g,t.extent))&&!ol(g,t.extent))&&this.clipUnrotated(o,t,g)}d&&this.renderWorlds(a,t),f&&o.restore(),this.postRender(o,t);var y=Ic(r.opacity),v=this.container;return y!==v.style.opacity&&(v.style.opacity=y),this.renderedRotation_!==h.rotation&&(this.renderedRotation_=h.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];od(this.pixelTransform,n);var r=this.renderedCenter_,i=this.renderedResolution_,o=this.renderedRotation_,s=this.renderedProjection_,a=this.wrappedRenderedExtent_,u=this.getLayer(),l=[],c=.5*n[0],h=.5*n[1];l.push(this.getRenderTransform(r,i,o,.5,c,h,0).slice());var p=u.getSource(),f=s.getExtent();if(p.getWrapX()&&s.canWrapX()&&!ol(f,a)){for(var d=a[0],g=Il(f),y=0,v=void 0;d<f[0];)v=g*--y,l.push(this.getRenderTransform(r,i,o,.5,c,h,v).slice()),d+=g;for(y=0,d=a[2];d>f[2];)v=g*++y,l.push(this.getRenderTransform(r,i,o,.5,c,h,v).slice()),d-=g}this.hitDetectionImageData_=function(t,e,n,r,i,o,s){var a=mc(.5*t[0],.5*t[1]);a.imageSmoothingEnabled=!1;for(var u=a.canvas,l=new Kd(a,.5,i,null,s),c=n.length,h=Math.floor(16777215/c),p={},f=1;f<=c;++f){var d=n[f-1],g=d.getStyleFunction()||r;if(r){var y=g(d,o);if(y){Array.isArray(y)||(y=[y]);for(var v=\"#\"+(\"000000\"+(f*h).toString(16)).slice(-6),_=0,m=y.length;_<m;++_){var b=y[_],x=b.getGeometryFunction()(d);if(x&&Tl(i,x.getExtent())){var w=b.clone(),E=w.getFill();E&&E.setColor(v);var C=w.getStroke();C&&(C.setColor(v),C.setLineDash(null)),w.setText(void 0);var S=b.getImage();if(S&&0!==S.getOpacity()){var O=S.getImageSize();if(!O)continue;var P=mc(O[0],O[1],void 0,{alpha:!1}),I=P.canvas;P.fillStyle=v,P.fillRect(0,0,I.width,I.height),w.setImage(new Th({img:I,imgSize:O,anchor:S.getAnchor(),anchorXUnits:fh,anchorYUnits:fh,offset:S.getOrigin(),opacity:1,size:S.getSize(),scale:S.getScale(),rotation:S.getRotation(),rotateWithView:S.getRotateWithView()}))}var T=w.getZIndex()||0;(L=p[T])||(L={},p[T]=L,L[Kc]=[],L[eh]=[],L[Wc]=[],L[Yc]=[]),L[x.getType().replace(\"Multi\",\"\")].push(x,w)}}}}}for(var M=Object.keys(p).map(Number).sort(Aa),A=(f=0,M.length);f<A;++f){var L=p[M[f]];for(var R in L){var N=L[R];for(_=0,m=N.length;_<m;_+=2){l.setStyle(N[_+1]);for(var F=0,j=e.length;F<j;++F)l.setTransform(e[F]),l.drawGeometry(N[_])}}}return a.getImageData(0,0,u.width,u.height)}(n,l,this.renderedFeatures_,u.getStyleFunction(),a,i,o)}e(function(t,e,n){var r=[];if(n){var i=Math.floor(.5*Math.round(t[0])),o=Math.floor(.5*Math.round(t[1])),s=4*(Ll(i,0,n.width-1)+Ll(o,0,n.height-1)*n.width),a=n.data[s],u=n.data[s+1],l=n.data[s+2]+256*(u+256*a),c=Math.floor(16777215/e.length);l&&l%c==0&&r.push(e[l/c-1])}return r}(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){var o=this;if(this.replayGroup_){var s,a=e.viewState.resolution,u=e.viewState.rotation,l=this.getLayer(),c={},h=function(t,e,n){var o=ou(t),s=c[o];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return c[o]=!0,i.splice(i.lastIndexOf(s),1),r(t,l,e);s.geometry=e,s.distanceSq=n}}else{if(0===n)return c[o]=!0,r(t,l,e);i.push(c[o]={feature:t,layer:l,geometry:e,distanceSq:n,callback:r})}},p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some((function(r){return s=r.forEachFeatureAtCoordinate(t,a,u,n,h,r===o.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map((function(t){return t.value})):null)})),s}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource();if(!n)return!1;var r=t.viewHints[Dd],i=t.viewHints[kd],o=e.getUpdateWhileAnimating(),s=e.getUpdateWhileInteracting();if(!this.dirty_&&!o&&r||!s&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var a=t.extent,u=t.viewState,l=u.projection,c=u.resolution,h=t.pixelRatio,p=e.getRevision(),f=e.getRenderBuffer(),d=e.getRenderOrder();void 0===d&&(d=Jd);var g=u.center.slice(),y=el(a,f*c),v=y.slice(),_=[y.slice()],m=l.getExtent();if(n.getWrapX()&&l.canWrapX()&&!ol(m,t.extent)){var b=Il(m),x=Math.max(Il(y)/2,b);y[0]=m[0]-x,y[2]=m[2]+x,Hl(g,l);var w=function(t,e){var n=e.getExtent(),r=xl(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){var i=Il(n),o=Math.floor((r[0]-n[0])/i)*i;t[0]-=o,t[2]-=o}return t}(_[0],l);w[0]<m[0]&&w[2]<m[2]?_.push([w[0]+b,w[1],w[2]+b,w[3]]):w[0]>m[0]&&w[2]>m[2]&&_.push([w[0]-b,w[1],w[2]-b,w[3]])}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==p&&this.renderedRenderOrder_==d&&ol(this.wrappedRenderedExtent_,y))return ja(this.renderedExtent_,v)||(this.hitDetectionImageData_=null,this.renderedExtent_=v),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var E,C=new Qf(Qd(c,h),y,c,h);this.getLayer().getDeclutter()&&(E=new Qf(Qd(c,h),y,c,h));var S,O=Tp();if(O){for(var P=0,I=_.length;P<I;++P){var T=Lp(_[P],l);n.loadFeatures(T,Np(c,l),O)}S=xp(O,l)}else for(P=0,I=_.length;P<I;++P)n.loadFeatures(_[P],c,l);var M=function(t,e){var n=Qd(t,e);return n*n}(c,h),A=function(t){var n,r=t.getStyleFunction()||e.getStyleFunction();if(r&&(n=r(t,c)),n){var i=this.renderFeature(t,M,n,C,S,E);this.dirty_=this.dirty_||i}}.bind(this),L=Lp(y,l),R=n.getFeaturesInExtent(L);d&&R.sort(d);for(P=0,I=R.length;P<I;++P)A(R[P]);this.renderedFeatures_=R;var N=C.finish(),F=new jd(y,c,h,n.getOverlaps(),N,e.getRenderBuffer());return E&&(this.declutterExecutorGroup=new jd(y,c,h,n.getOverlaps(),E.finish(),e.getRenderBuffer())),this.renderedResolution_=c,this.renderedRevision_=p,this.renderedRenderOrder_=d,this.renderedExtent_=v,this.wrappedRenderedExtent_=y,this.renderedCenter_=g,this.renderedProjection_=l,this.replayGroup_=F,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,r,i,o){if(!n)return!1;var s=!1;if(Array.isArray(n))for(var a=0,u=n.length;a<u;++a)s=tg(r,t,n[a],e,this.boundHandleStyleImageChange_,i,o)||s;else s=tg(r,t,n,e,this.boundHandleStyleImageChange_,i,o);return s},e}(hd),rg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ig=function(t){function e(e){return t.call(this,e)||this}return rg(e,t),e.prototype.createRenderer=function(){return new ng(this)},e}(Cf);function og(t,e,n,r,i,o,s){var a,u=t[e],l=t[e+1],c=t[n]-u,h=t[n+1]-l;if(0===c&&0===h)a=e;else{var p=((i-u)*c+(o-l)*h)/(c*c+h*h);if(p>1)a=n;else{if(p>0){for(var f=0;f<r;++f)s[f]=Gl(t[e+f],t[n+f],p);return void(s.length=r)}a=e}}for(f=0;f<r;++f)s[f]=t[a+f];s.length=r}function sg(t,e,n,r,i){var o=t[e],s=t[e+1];for(e+=r;e<n;e+=r){var a=t[e],u=t[e+1],l=jl(o,s,a,u);l>i&&(i=l),o=a,s=u}return i}function ag(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o){var a=n[o];i=sg(t,e,a,r,i),e=a}return i}function ug(t,e,n,r,i,o,s,a,u,l,c){if(e==n)return l;var h,p;if(0===i){if((p=jl(s,a,t[e],t[e+1]))<l){for(h=0;h<r;++h)u[h]=t[e+h];return u.length=r,p}return l}for(var f=c||[NaN,NaN],d=e+r;d<n;)if(og(t,d-r,d,r,s,a,f),(p=jl(s,a,f[0],f[1]))<l){for(l=p,h=0;h<r;++h)u[h]=f[h];u.length=r,d+=r}else d+=r*Math.max((Math.sqrt(p)-Math.sqrt(l))/i|0,1);if(o&&(og(t,n-r,e,r,s,a,f),(p=jl(s,a,f[0],f[1]))<l)){for(l=p,h=0;h<r;++h)u[h]=f[h];u.length=r}return l}function lg(t,e,n,r,i,o,s,a,u,l,c){for(var h=c||[NaN,NaN],p=0,f=n.length;p<f;++p){var d=n[p];l=ug(t,e,d,r,i,o,s,a,u,l,h),e=d}return l}function cg(t,e,n,r){for(var i=0,o=n.length;i<o;++i)t[e++]=n[i];return e}function hg(t,e,n,r){for(var i=0,o=n.length;i<o;++i)for(var s=n[i],a=0;a<r;++a)t[e++]=s[a];return e}function pg(t,e,n,r,i){for(var o=i||[],s=0,a=0,u=n.length;a<u;++a){var l=hg(t,e,n[a],r);o[s++]=l,e=l}return o.length=s,o}function fg(t,e,n,r,i){var o;for(e+=r;e<n;e+=r)if(o=i(t.slice(e-r,e),t.slice(e,e+r)))return o;return!1}function dg(t,e,n,r,i,o,s){var a,u,l=(n-e)/r;if(1===l)a=e;else if(2===l)a=e,u=i;else if(0!==l){for(var c=t[e],h=t[e+1],p=0,f=[0],d=e+r;d<n;d+=r){var g=t[d],y=t[d+1];p+=Math.sqrt((g-c)*(g-c)+(y-h)*(y-h)),f.push(p),c=g,h=y}var v=i*p,_=function(t,e,n){for(var r,i,o=n||Aa,s=0,a=t.length,u=!1;s<a;)(i=+o(t[r=s+(a-s>>1)],e))<0?s=r+1:(a=r,u=!i);return u?s:~s}(f,v);_<0?(u=(v-f[-_-2])/(f[-_-1]-f[-_-2]),a=e+(-_-2)*r):a=e+_*r}var m=s>1?s:2,b=o||new Array(m);for(d=0;d<m;++d)b[d]=void 0===a?NaN:void 0===u?t[a+d]:Gl(t[a+d],t[a+r+d],u);return b}function gg(t,e,n,r,i,o){if(n==e)return null;var s;if(i<t[e+r-1])return o?((s=t.slice(e,e+r))[r-1]=i,s):null;if(t[n-1]<i)return o?((s=t.slice(n-r,n))[r-1]=i,s):null;if(i==t[e+r-1])return t.slice(e,e+r);for(var a=e/r,u=n/r;a<u;){var l=a+u>>1;i<t[(l+1)*r-1]?u=l:a=l+1}var c=t[a*r-1];if(i==c)return t.slice((a-1)*r,(a-1)*r+r);var h=(i-c)/(t[(a+1)*r-1]-c);s=[];for(var p=0;p<r-1;++p)s.push(Gl(t[(a-1)*r+p],t[a*r+p],h));return s.push(i),s}function yg(t,e,n,r,i){return!vl(i,(function(i){return!vg(t,e,n,r,i[0],i[1])}))}function vg(t,e,n,r,i,o){for(var s=0,a=t[n-r],u=t[n-r+1];e<n;e+=r){var l=t[e],c=t[e+1];u<=o?c>o&&(l-a)*(o-u)-(i-a)*(c-u)>0&&s++:c<=o&&(l-a)*(o-u)-(i-a)*(c-u)<0&&s--,a=l,u=c}return 0!==s}function _g(t,e,n,r,i,o){if(0===n.length)return!1;if(!vg(t,e,n[0],r,i,o))return!1;for(var s=1,a=n.length;s<a;++s)if(vg(t,n[s-1],n[s],r,i,o))return!1;return!0}function mg(t,e,n,r,i){var o=gl([1/0,1/0,-1/0,-1/0],t,e,n,r);return!!Tl(i,o)&&(!!ol(i,o)||(o[0]>=i[0]&&o[2]<=i[2]||(o[1]>=i[1]&&o[3]<=i[3]||fg(t,e,n,r,(function(t,e){return function(t,e,n){var r=!1,i=al(t,e),o=al(t,n);if(i===Hu||o===Hu)r=!0;else{var s=t[0],a=t[1],u=t[2],l=t[3],c=e[0],h=e[1],p=n[0],f=n[1],d=(f-h)/(p-c),g=void 0,y=void 0;o&Ku&&!(i&Ku)&&(r=(g=p-(f-l)/d)>=s&&g<=u),r||!(o&Zu)||i&Zu||(r=(y=f-(p-u)*d)>=a&&y<=l),r||!(o&Ju)||i&Ju||(r=(g=p-(f-a)/d)>=s&&g<=u),r||!(o&Qu)||i&Qu||(r=(y=f-(p-s)*d)>=a&&y<=l)}return r}(i,t,e)})))))}function bg(t,e,n,r,i){if(!function(t,e,n,r,i){return!!mg(t,e,n,r,i)||(!!vg(t,e,n,r,i[0],i[1])||(!!vg(t,e,n,r,i[0],i[3])||(!!vg(t,e,n,r,i[2],i[1])||!!vg(t,e,n,r,i[2],i[3]))))}(t,e,n[0],r,i))return!1;if(1===n.length)return!0;for(var o=1,s=n.length;o<s;++o)if(yg(t,n[o-1],n[o],r,i)&&!mg(t,n[o-1],n[o],r,i))return!1;return!0}var xg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wg=function(t){function e(e,n){var r=t.call(this)||this;return r.flatMidpoint_=null,r.flatMidpointRevision_=-1,r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return xg(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?Fa(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){return r<rl(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(sg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ug(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.forEachSegment=function(t){return fg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=Ud&&this.layout!=$d)return null;var n=void 0!==e&&e;return gg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return Lf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return dg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},e.prototype.getLength=function(){return wd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=zf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,Vd)},e.prototype.getType=function(){return Wc},e.prototype.intersectsExtent=function(t){return mg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=hg(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Wd);function Eg(t,e,n,r){for(var i=0,o=t[n-r],s=t[n-r+1];e<n;e+=r){var a=t[e],u=t[e+1];i+=s*a-o*u,o=a,s=u}return i/2}function Cg(t,e,n,r){for(var i=0,o=0,s=n.length;o<s;++o){var a=n[o];i+=Eg(t,e,a,r),e=a}return i}var Sg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Og=function(t){function e(e,n){var r=t.call(this)||this;return r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return Sg(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){return r<rl(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(sg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ug(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.getArea=function(){return Eg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Lf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=zf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,Vd)},e.prototype.getType=function(){return Hc},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=hg(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Wd),Pg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ig=function(t){function e(e,n){var r=t.call(this)||this;return r.setCoordinates(e,n),r}return Pg(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){var i=this.flatCoordinates,o=jl(t,e,i[0],i[1]);if(o<r){for(var s=this.stride,a=0;a<s;++a)n[a]=i[a];return n.length=s,o}return r},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return hl(this.flatCoordinates,t)},e.prototype.getType=function(){return Yc},e.prototype.intersectsExtent=function(t){return sl(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=cg(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Wd);function Tg(t,e,n,r,i,o,s){for(var a,u,l,c,h,p,f,d=i[o+1],g=[],y=0,v=n.length;y<v;++y){var _=n[y];for(c=t[_-r],p=t[_-r+1],a=e;a<_;a+=r)h=t[a],f=t[a+1],(d<=p&&f<=d||p<=d&&d<=f)&&(l=(d-p)/(f-p)*(h-c)+c,g.push(l)),c=h,p=f}var m=NaN,b=-1/0;for(g.sort(Aa),c=g[0],a=1,u=g.length;a<u;++a){h=g[a];var x=Math.abs(h-c);x>b&&_g(t,e,n,r,l=(c+h)/2,d)&&(m=l,b=x),c=h}return isNaN(m)&&(m=i[o]),s?(s.push(m,d,b),s):[m,d,b]}function Mg(t,e,n,r){for(;e<n-r;){for(var i=0;i<r;++i){var o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}function Ag(t,e,n,r){for(var i=0,o=t[n-r],s=t[n-r+1];e<n;e+=r){var a=t[e],u=t[e+1];i+=(a-o)*(u+s),o=a,s=u}return 0===i?void 0:i>0}function Lg(t,e,n,r,i){for(var o=void 0!==i&&i,s=0,a=n.length;s<a;++s){var u=n[s],l=Ag(t,e,u,r);if(0===s){if(o&&l||!o&&!l)return!1}else if(o&&!l||!o&&l)return!1;e=u}return!0}function Rg(t,e,n,r,i){for(var o=void 0!==i&&i,s=0,a=n.length;s<a;++s){var u=n[s],l=Ag(t,e,u,r);(0===s?o&&l||!o&&!l:o&&!l||!o&&l)&&Mg(t,e,u,r),e=u}return e}function Ng(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o)e=Rg(t,e,n[o],r,i);return e}var Fg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jg=function(t){function e(e,n,r){var i=t.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,void 0!==n&&r?(i.setFlatCoordinates(n,e),i.ends_=r):i.setCoordinates(e,n),i}return Fg(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?Fa(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){return r<rl(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ag(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),lg(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return _g(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return Cg(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?Rg(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,Rf(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=xl(this.getExtent());this.flatInteriorPoint_=Tg(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new Ig(this.getFlatInteriorPoint(),Ud)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Og(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,r=[],i=0,o=0,s=n.length;o<s;++o){var a=n[o],u=new Og(e.slice(i,a),t);r.push(u),i=a}return r},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Lg(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Rg(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=$f(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,r),new e(n,Vd,r)},e.prototype.getType=function(){return Kc},e.prototype.intersectsExtent=function(t){return bg(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=pg(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(Wd),Dg=jg;function kg(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=[e,n,e,i,r,i,r,n,e,n];return new jg(o,Vd,[o.length])}function Gg(t,e,n){for(var r=e||32,i=t.getStride(),o=t.getLayout(),s=t.getCenter(),a=i*(r+1),u=new Array(a),l=0;l<a;l+=i){u[l]=0,u[l+1]=0;for(var c=2;c<i;c++)u[l+c]=s[c]}var h=[u.length],p=new jg(u,o,h);return Bg(p,s,t.getRadius(),n),p}function Bg(t,e,n,r){for(var i=t.getFlatCoordinates(),o=t.getStride(),s=i.length/o-1,a=r||0,u=0;u<=s;++u){var l=u*o,c=a+2*kl(u,s)*Math.PI/s;i[l]=e[0]+n*Math.cos(c),i[l+1]=e[1]+n*Math.sin(c)}t.changed()}var zg=\"postrender\",Vg=\"movestart\",qg=\"moveend\",Ug=\"loadstart\",$g=\"loadend\",Xg=\"bottom-left\",Yg=\"bottom-center\",Wg=\"bottom-right\",Hg=\"center-left\",Kg=\"center-center\",Zg=\"center-right\",Jg=\"top-left\",Qg=\"top-center\",ty=\"top-right\",ey=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ny=\"element\",ry=\"map\",iy=\"offset\",oy=\"position\",sy=\"positioning\",ay=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un,n.options=e,n.id=e.id,n.insertFirst=void 0===e.insertFirst||e.insertFirst,n.stopEvent=void 0===e.stopEvent||e.stopEvent,n.element=document.createElement(\"div\"),n.element.className=void 0!==e.className?e.className:\"ol-overlay-container ol-selectable\",n.element.style.position=\"absolute\",n.element.style.pointerEvents=\"auto\";var r=e.autoPan;return r&&\"object\"!=typeof r&&(r={animation:e.autoPanAnimation,margin:e.autoPanMargin}),n.autoPan=r||!1,n.rendered={transform_:\"\",visible:!0},n.mapPostrenderListenerKey=null,n.addChangeListener(ny,n.handleElementChanged),n.addChangeListener(ry,n.handleMapChanged),n.addChangeListener(iy,n.handleOffsetChanged),n.addChangeListener(oy,n.handlePositionChanged),n.addChangeListener(sy,n.handlePositioningChanged),void 0!==e.element&&n.setElement(e.element),n.setOffset(void 0!==e.offset?e.offset:[0,0]),n.setPositioning(void 0!==e.positioning?e.positioning:Jg),void 0!==e.position&&n.setPosition(e.position),n}return ey(e,t),e.prototype.getElement=function(){return this.get(ny)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(ry)||null},e.prototype.getOffset=function(){return this.get(iy)},e.prototype.getPosition=function(){return this.get(oy)},e.prototype.getPositioning=function(){return this.get(sy)},e.prototype.handleElementChanged=function(){Cc(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Ec(this.element),Pa(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Sa(t,zg,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(ny,t)},e.prototype.setMap=function(t){this.set(ry,t)},e.prototype.setOffset=function(t){this.set(iy,t)},e.prototype.setPosition=function(t){this.set(oy,t)},e.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},e.prototype.panIntoView=function(t){var e=this.getMap();if(e&&e.getTargetElement()&&this.get(oy)){var n=this.getRect(e.getTargetElement(),e.getSize()),r=this.getElement(),i=this.getRect(r,[bc(r),xc(r)]),o=t||{},s=void 0===o.margin?20:o.margin;if(!ol(n,i)){var a=i[0]-n[0],u=n[2]-i[2],l=i[1]-n[1],c=n[3]-i[3],h=[0,0];if(a<0?h[0]=a-s:u<0&&(h[0]=Math.abs(u)+s),l<0?h[1]=l-s:c<0&&(h[1]=Math.abs(c)+s),0!==h[0]||0!==h[1]){var p=e.getView().getCenterInternal(),f=e.getPixelFromCoordinateInternal(p);if(!f)return;var d=[f[0]+h[0],f[1]+h[1]],g=o.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(d),duration:g.duration,easing:g.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),r=n.left+window.pageXOffset,i=n.top+window.pageYOffset;return[r,i,r+e[0],i+e[1]]},e.prototype.setPositioning=function(t){this.set(sy,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?\"\":\"none\",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),r=t.getSize();this.updateRenderedPosition(n,r)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,r=this.getOffset(),i=this.getPositioning();this.setVisible(!0);var o=Math.round(t[0]+r[0])+\"px\",s=Math.round(t[1]+r[1])+\"px\",a=\"0%\",u=\"0%\";i==Wg||i==Zg||i==ty?a=\"-100%\":i!=Yg&&i!=Kg&&i!=Qg||(a=\"-50%\"),i==Xg||i==Yg||i==Wg?u=\"-100%\":i!=Hg&&i!=Kg&&i!=Zg||(u=\"-50%\");var l=\"translate(\".concat(a,\", \").concat(u,\") translate(\").concat(o,\", \").concat(s,\")\");this.rendered.transform_!=l&&(this.rendered.transform_=l,n.transform=l,n.msTransform=l)},e.prototype.getOptions=function(){return this.options},e}(uu),uy=n(28),ly=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cy=function(t){function e(e,n,r){var i=t.call(this)||this;if(void 0!==r&&void 0===n)i.setFlatCoordinates(r,e);else{var o=n||0;i.setCenterAndRadius(e,o,r)}return i}return ly(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){var i=this.flatCoordinates,o=t-i[0],s=e-i[1],a=o*o+s*s;if(a<r){if(0===a)for(var u=0;u<this.stride;++u)n[u]=i[u];else{var l=this.getRadius()/Math.sqrt(a);n[0]=i[0]+l*o,n[1]=i[1]+l*s;for(u=2;u<this.stride;++u)n[u]=i[u]}return n.length=this.stride,a}return r},e.prototype.containsXY=function(t,e){var n=this.flatCoordinates,r=t-n[0],i=e-n[1];return r*r+i*i<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,n=e[this.stride]-e[0];return ll(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return eh},e.prototype.intersectsExtent=function(t){if(Tl(t,this.getExtent())){var e=this.getCenter();return t[0]<=e[0]&&t[2]>=e[0]||(t[1]<=e[1]&&t[3]>=e[1]||vl(t,this.intersectsCoordinate.bind(this)))}return!1},e.prototype.setCenter=function(t){var e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],r=t.slice();r[e]=r[0]+n;for(var i=1;i<e;++i)r[e+i]=t[i];this.setFlatCoordinates(this.layout,r),this.changed()},e.prototype.setCenterAndRadius=function(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var r=this.flatCoordinates,i=cg(r,0,t,this.stride);r[i++]=r[0]+e;for(var o=1,s=this.stride;o<s;++o)r[i++]=r[o];r.length=i,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e.prototype.rotate=function(t,e){var n=this.getCenter(),r=this.getStride();this.setCenter(md(n,0,n.length,r,t,e,n)),this.changed()},e.prototype.translate=function(t,e){var n=this.getCenter(),r=this.getStride();this.setCenter(bd(n,0,n.length,r,t,e,n)),this.changed()},e}(Wd);cy.prototype.transform;var hy,py=cy;!function(t){t.ARC=\"arc\",t.ASSAULT_DIRECTION=\"assaultdirection\",t.ATTACK_ARROW=\"attackarrow\",t.CIRCLE=\"circle\",t.CLOSED_CURVE=\"closedcurve\",t.CURVE=\"curve\",t.DIAMOND=\"diamond\",t.DOUBLE_ARROW=\"doublearrow\",t.ELLIPSE=\"ellipse\",t.FINE_ARROW=\"finearrow\",t.FREEHAND_LINE=\"freehandline\",t.FREEHAND_POLYGON=\"freehandpolygon\",t.GATHERING_PLACE=\"gatheringplace\",t.LUNE=\"lune\",t.POINT=\"point\",t.POLYLINE=\"polyline\",t.POLYGON=\"polygon\",t.RECTANGLE=\"rectangle\",t.SECTOR=\"sector\",t.SQUAD_COMBAT=\"squadcombat\",t.STRAIGHT_ARROW=\"straightarrow\",t.TAILED_ATTACK_ARROW=\"tailedattackarrow\",t.TAILED_SQUAD_COMBAT=\"tailedsquadcombat\",t.TRIANGLE=\"triangle\",t.REGULARPOLYGON=\"regularpolygon\",t.STAR=\"star\"}(hy||(hy={}));var fy=hy;const dy={TWO_PI:2*Math.PI,HALF_PI:Math.PI/2,FITTING_COUNT:100,ZERO_TOLERANCE:1e-4};function gy(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function yy(t){let e=0;for(var n=0;n<t.length-1;n++)e+=gy(t[n],t[n+1]);return e}function vy(t){return Math.pow(yy(t),.99)}function _y(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}function my(t,e,n){var r=[(t[0]+e[0])/2,(t[1]+e[1])/2],i=[r[0]-t[1]+e[1],r[1]+t[0]-e[0]],o=[(t[0]+n[0])/2,(t[1]+n[1])/2];return function(t,e,n,r){if(t[1]==e[1]){var i=(r[0]-n[0])/(r[1]-n[1]),o=i*(t[1]-n[1])+n[0],s=t[1];return[o,s]}if(n[1]==r[1]){var a=(e[0]-t[0])/(e[1]-t[1]);return o=a*(n[1]-t[1])+t[0],s=n[1],[o,s]}return a=(e[0]-t[0])/(e[1]-t[1]),i=(r[0]-n[0])/(r[1]-n[1]),s=(a*t[1]-t[0]-i*n[1]+n[0])/(a-i),[o=a*s-a*t[1]+t[0],s]}(r,i,o,[o[0]-t[1]+n[1],o[1]+t[0]-n[0]])}function by(t,e){var n,r=Math.asin(Math.abs(e[1]-t[1])/gy(t,e));return e[1]>=t[1]&&e[0]>=t[0]?n=r+Math.PI:e[1]>=t[1]&&e[0]<t[0]?n=dy.TWO_PI-r:e[1]<t[1]&&e[0]<t[0]?n=r:e[1]<t[1]&&e[0]>=t[0]&&(n=Math.PI-r),n}function xy(t,e,n){var r=by(e,t)-by(e,n);return r<0?r+dy.TWO_PI:r}function wy(t,e,n){return(n[1]-t[1])*(e[0]-t[0])>(e[1]-t[1])*(n[0]-t[0])}function Ey(t,e,n,r,i){var o=1-(t=Math.max(Math.min(t,1),0)),s=t*t,a=s*t,u=o*o,l=u*o;return[l*e[0]+3*u*t*n[0]+3*o*s*r[0]+a*i[0],l*e[1]+3*u*t*n[1]+3*o*s*r[1]+a*i[1]]}function Cy(t,e,n,r,i=!0){var o=by(t,e),s=i?o+n:o-n,a=r*Math.cos(s),u=r*Math.sin(s);return[e[0]+a,e[1]+u]}function Sy(t,e,n,r){var i,o,s=[],a=r-n;a=a<0?a+dy.TWO_PI:a;for(var u=0;u<=dy.FITTING_COUNT;u++){var l=n+a*u/dy.FITTING_COUNT;i=t[0]+e*Math.cos(l),o=t[1]+e*Math.sin(l),s.push([i,o])}return s}function Oy(t,e,n,r){var i=Py(e,n,r),o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=i[0]/o,a=i[1]/o,u=gy(e,n),l=gy(n,r);if(o>dy.ZERO_TOLERANCE)if(wy(e,n,r)){var c=t*u,h=n[0]-c*a,p=n[1]+c*s,f=[h,p];c=t*l;var d=[h=n[0]+c*a,p=n[1]-c*s]}else c=t*u,f=[h=n[0]+c*a,p=n[1]-c*s],c=t*l,d=[h=n[0]-c*a,p=n[1]+c*s];else f=[h=n[0]+t*(e[0]-n[0]),p=n[1]+t*(e[1]-n[1])],d=[h=n[0]+t*(r[0]-n[0]),p=n[1]+t*(r[1]-n[1])];return[f,d]}function Py(t,e,n){var r=t[0]-e[0],i=t[1]-e[1],o=Math.sqrt(r*r+i*i);r/=o,i/=o;var s=n[0]-e[0],a=n[1]-e[1],u=Math.sqrt(s*s+a*a);return[r+(s/=u),i+(a/=u)]}function Iy(t,e){for(var n=[function(t,e=1){var n=t[0],r=t[1],i=t[2],o=Oy(0,n,r,i)[0],s=Py(n,r,i);if(Math.sqrt(s[0]*s[0]+s[1]*s[1])>dy.ZERO_TOLERANCE)var a=_y(n,r),u=n[0]-a[0],l=n[1]-a[1],c=2/gy(n,r),h=-c*l,p=c*u,f=h*h-p*p,d=2*h*p,g=p*p-h*h,y=o[0]-a[0],v=o[1]-a[1],_=a[0]+f*y+d*v,m=a[1]+d*y+g*v;else _=n[0]+e*(r[0]-n[0]),m=n[1]+e*(r[1]-n[1]);return[_,m]}(e)],r=0;r<e.length-2;r++){var i=Oy(t,e[r],e[r+1],e[r+2]);n=n.concat(i)}var o=function(t,e=1){var n=t.length,r=t[n-3],i=t[n-2],o=t[n-1],s=Oy(0,r,i,o)[1],a=Py(r,i,o);if(Math.sqrt(a[0]*a[0]+a[1]*a[1])>dy.ZERO_TOLERANCE)var u=_y(i,o),l=o[0]-u[0],c=o[1]-u[1],h=2/gy(i,o),p=-h*c,f=h*l,d=p*p-f*f,g=2*p*f,y=f*f-p*p,v=s[0]-u[0],_=s[1]-u[1],m=u[0]+d*v+g*_,b=u[1]+g*v+y*_;else m=o[0]+e*(i[0]-o[0]),b=o[1]+e*(i[1]-o[1]);return[m,b]}(e);n.push(o);var s=[];for(r=0;r<e.length-1;r++){let t=e[r],i=e[r+1];s.push(t);for(let e=0;e<dy.FITTING_COUNT;e++){var a=Ey(e/dy.FITTING_COUNT,t,n[2*r],n[2*r+1],i);s.push(a)}s.push(i)}return s}function Ty(t){if(t.length<=2)return t;let e=[],n=t.length-1;for(var r=0;r<=1;r+=.01){for(var i=0,o=0,s=0;s<=n;s++){var a=My(n,s),u=Math.pow(r,s),l=Math.pow(1-r,n-s);i+=a*u*l*t[s][0],o+=a*u*l*t[s][1]}e.push([i,o])}return e.push(t[n]),e}function My(t,e){return Ay(t)/(Ay(e)*Ay(t-e))}function Ay(t){if(t<=1)return 1;if(2==t)return 2;if(3==t)return 6;if(4==t)return 24;if(5==t)return 120;for(var e=1,n=1;n<=t;n++)e*=n;return e}function Ly(t){if(t.length<=2)return t;let e=[],n=t.length-2-1;e.push(t[0]);for(var r=0;r<=n;r++)for(var i=0;i<=1;i+=.05){for(var o=0,s=0,a=0;a<=2;a++){var u=Ry(a,i);o+=u*t[r+a][0],s+=u*t[r+a][1]}e.push([o,s])}return e.push(t[t.length-1]),e}function Ry(t,e){return 0==t?Math.pow(e-1,2)/2:1==t?(-2*Math.pow(e,2)+2*e+1)/2:2==t?Math.pow(e,2)/2:0}class Ny extends wg{constructor(t){super([]),Object.defineProperty(this,\"type\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"fixPointCount\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"points\",{enumerable:!0,configurable:!0,writable:!0,value:null}),this.type=fy.POLYLINE,this.setPoints(t)}generate(){this.getPointCount()<2||this.setCoordinates(this.points)}isPlot(){return!0}setPoints(t){this.points=t||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}updateLastPoint(t){this.updatePoint(t,this.points.length-1)}finishDrawing(){}}class Fy extends Ny{constructor(t){super([]),this.type=fy.ARC,this.fixPointCount=3,this.setPoints(t)}generate(){var t=this.getPointCount();if(!(t<2))if(2==t)this.setCoordinates(this.points);else{var e=this.points[0],n=this.points[1],r=this.points[2],i=my(e,n,r),o=gy(e,i),s=by(e,i),a=by(n,i);if(wy(e,n,r))var u=a,l=s;else u=s,l=a;this.setCoordinates(Sy(i,o,u,l))}}}class jy extends Dg{constructor(t){super([]),Object.defineProperty(this,\"type\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"fixPointCount\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"points\",{enumerable:!0,configurable:!0,writable:!0,value:null}),this.type=fy.POLYGON,this.setPoints(t)}generate(){this.getPointCount()<2||this.setCoordinates([this.points])}isPlot(){return!0}setPoints(t){this.points=t||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}updateLastPoint(t){this.updatePoint(t,this.points.length-1)}finishDrawing(){}}class Dy extends jy{constructor(t){super([]),Object.defineProperty(this,\"tailWidthFactor\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"neckWidthFactor\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"headWidthFactor\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"headAngle\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"neckAngle\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.type=fy.FINE_ARROW,this.tailWidthFactor=.15,this.neckWidthFactor=.2,this.headWidthFactor=.25,this.headAngle=Math.PI/8.5,this.neckAngle=Math.PI/13,this.fixPointCount=2,this.setPoints(t)}generate(){if(!(this.getPointCount()<2)){var t=this.getPoints(),e=t[0],n=t[1],r=vy(t),i=r*this.tailWidthFactor,o=r*this.neckWidthFactor,s=r*this.headWidthFactor,a=Cy(n,e,dy.HALF_PI,i,!0),u=Cy(n,e,dy.HALF_PI,i,!1),l=Cy(e,n,this.headAngle,s,!1),c=Cy(e,n,this.headAngle,s,!0),h=[a,Cy(e,n,this.neckAngle,o,!1),l,n,c,Cy(e,n,this.neckAngle,o,!0),u];this.setCoordinates([h])}}}class ky extends Dy{constructor(t){super([]),this.type=fy.ASSAULT_DIRECTION,this.tailWidthFactor=.2,this.neckWidthFactor=.25,this.headWidthFactor=.3,this.headAngle=Math.PI/4,this.neckAngle=.17741*Math.PI,this.setPoints(t)}}class Gy extends jy{constructor(t){super([]),Object.defineProperty(this,\"headHeightFactor\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"headWidthFactor\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"neckHeightFactor\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"neckWidthFactor\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"headTailFactor\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.type=fy.ATTACK_ARROW,this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.headTailFactor=.8,this.setPoints(t)}generate(){if(!(this.getPointCount()<2))if(2!=this.getPointCount()){var t=this.getPoints(),e=t[0],n=t[1];wy(t[0],t[1],t[2])&&(e=t[1],n=t[0]);var r=[_y(e,n)].concat(t.slice(2)),i=this.getArrowHeadPoints(r,e,n),o=i[0],s=i[4],a=gy(e,n)/vy(r),u=this.getArrowBodyPoints(r,o,s,a),l=u.length,c=[e].concat(u.slice(0,l/2));c.push(o);var h=[n].concat(u.slice(l/2,l));h.push(s),c=Ly(c),h=Ly(h),this.setCoordinates([c.concat(i,h.reverse())])}else this.setCoordinates([this.points])}getArrowHeadPoints(t,e,n){var r=vy(t),i=r*this.headHeightFactor,o=t[t.length-1];r=gy(o,t[t.length-2]);var s=gy(e,n);i>s*this.headTailFactor&&(i=s*this.headTailFactor);var a=i*this.headWidthFactor,u=i*this.neckWidthFactor,l=(i=i>r?r:i)*this.neckHeightFactor,c=Cy(t[t.length-2],o,0,i,!0),h=Cy(t[t.length-2],o,0,l,!0),p=Cy(o,c,dy.HALF_PI,a,!1),f=Cy(o,c,dy.HALF_PI,a,!0);return[Cy(o,h,dy.HALF_PI,u,!1),p,o,f,Cy(o,h,dy.HALF_PI,u,!0)]}getArrowBodyPoints(t,e,n,r){for(var i=yy(t),o=vy(t)*r,s=(o-gy(e,n))/2,a=0,u=[],l=[],c=1;c<t.length-1;c++){var h=xy(t[c-1],t[c],t[c+1])/2,p=(o/2-(a+=gy(t[c-1],t[c]))/i*s)/Math.sin(h),f=Cy(t[c-1],t[c],Math.PI-h,p,!0),d=Cy(t[c-1],t[c],h,p,!1);u.push(f),l.push(d)}return u.concat(l)}}class By extends jy{constructor(t){super([]),this.type=fy.CIRCLE,this.fixPointCount=2,this.setPoints(t)}generate(){if(!(this.getPointCount()<2)){var t=this.points[0],e=gy(t,this.points[1]);this.setCoordinates([this.generatePoints(t,e)])}}generatePoints(t,e){for(var n,r,i,o=[],s=0;s<=dy.FITTING_COUNT;s++)i=2*Math.PI*s/dy.FITTING_COUNT,n=t[0]+e*Math.cos(i),r=t[1]+e*Math.sin(i),o.push([n,r]);return o}}class zy extends jy{constructor(t){super([]),Object.defineProperty(this,\"t\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.type=fy.CLOSED_CURVE,this.t=.3,this.setPoints(t)}generate(){if(!((t=this.getPointCount())<2))if(2==t)this.setCoordinates([this.points]);else{var t,e=this.getPoints();e.push(e[0],e[1]);for(var n=[],r=0;r<e.length-2;r++){var i=Oy(this.t,e[r],e[r+1],e[r+2]);n=n.concat(i)}n=[n[(t=n.length)-1]].concat(n.slice(0,t-1));var o=[];for(r=0;r<e.length-2;r++){var s=e[r],a=e[r+1];o.push(s);for(var u=0;u<=dy.FITTING_COUNT;u++){var l=Ey(u/dy.FITTING_COUNT,s,n[2*r],n[2*r+1],a);o.push(l)}o.push(a)}this.setCoordinates([o])}}}class Vy extends Ny{constructor(t){super([]),Object.defineProperty(this,\"t\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.type=fy.CURVE,this.t=.3,this.setPoints(t)}generate(){var t=this.getPointCount();t<2||(2==t?this.setCoordinates(this.points):this.setCoordinates(Iy(this.t,this.points)))}}class qy extends jy{constructor(t){super([]),Object.defineProperty(this,\"headHeightFactor\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"headWidthFactor\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"neckHeightFactor\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"neckWidthFactor\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"connPoint\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"tempPoint4\",{enumerable:!0,configurable:!0,writable:!0,value:null}),this.type=fy.DOUBLE_ARROW,this.headHeightFactor=.25,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.connPoint=null,this.tempPoint4=null,this.fixPointCount=4,this.setPoints(t)}finishDrawing(){3==this.getPointCount()&&null!=this.tempPoint4&&this.points.push(this.tempPoint4),null!=this.connPoint&&this.points.push(this.connPoint)}generate(){if(!((o=this.getPointCount())<2))if(2!=o){var t,e,n=this.points[0],r=this.points[1],i=this.points[2],o=this.getPointCount();this.tempPoint4=3==o?this.getTempPoint4(n,r,i):this.points[3],this.connPoint=3==o||4==o?_y(n,r):this.points[4],wy(n,r,i)?(t=this.getArrowPoints(n,this.connPoint,this.tempPoint4,!1),e=this.getArrowPoints(this.connPoint,r,i,!0)):(t=this.getArrowPoints(r,this.connPoint,i,!1),e=this.getArrowPoints(this.connPoint,n,this.tempPoint4,!0));var s=t.length,a=(s-5)/2,u=t.slice(0,a),l=t.slice(a,a+5),c=t.slice(a+5,s),h=e.slice(0,a),p=e.slice(a,a+5),f=e.slice(a+5,s);h=Ty(h);var d=Ty(f.concat(u.slice(1)));c=Ty(c);var g=h.concat(p,d,l,c);this.setCoordinates([g])}else this.setCoordinates([this.points])}getArrowPoints(t,e,n,r){var i=_y(t,e),o=gy(i,n),s=Cy(n,i,0,.3*o,!0),a=Cy(n,i,0,.5*o,!0),u=[i,s=Cy(i,s,dy.HALF_PI,o/5,r),a=Cy(i,a,dy.HALF_PI,o/4,r),n],l=this.getArrowHeadPoints(u),c=l[0],h=l[4],p=gy(t,e)/vy(u)/2,f=this.getArrowBodyPoints(u,c,h,p),d=f.length,g=f.slice(0,d/2),y=f.slice(d/2,d);return g.push(c),y.push(h),(g=g.reverse()).push(e),(y=y.reverse()).push(t),g.reverse().concat(l,y)}getArrowHeadPoints(t){var e=vy(t)*this.headHeightFactor,n=t[t.length-1],r=e*this.headWidthFactor,i=e*this.neckWidthFactor,o=e*this.neckHeightFactor,s=Cy(t[t.length-2],n,0,e,!0),a=Cy(t[t.length-2],n,0,o,!0),u=Cy(n,s,dy.HALF_PI,r,!1),l=Cy(n,s,dy.HALF_PI,r,!0);return[Cy(n,a,dy.HALF_PI,i,!1),u,n,l,Cy(n,a,dy.HALF_PI,i,!0)]}getArrowBodyPoints(t,e,n,r){for(var i=yy(t),o=vy(t)*r,s=(o-gy(e,n))/2,a=0,u=[],l=[],c=1;c<t.length-1;c++){var h=xy(t[c-1],t[c],t[c+1])/2,p=(o/2-(a+=gy(t[c-1],t[c]))/i*s)/Math.sin(h),f=Cy(t[c-1],t[c],Math.PI-h,p,!0),d=Cy(t[c-1],t[c],h,p,!1);u.push(f),l.push(d)}return u.concat(l)}getTempPoint4(t,e,n){var r,i,o,s,a=_y(t,e),u=gy(a,n),l=xy(t,a,n);return l<dy.HALF_PI?(i=u*Math.sin(l),o=u*Math.cos(l),s=Cy(t,a,dy.HALF_PI,i,!1),r=Cy(a,s,dy.HALF_PI,o,!0)):l>=dy.HALF_PI&&l<Math.PI?(i=u*Math.sin(Math.PI-l),o=u*Math.cos(Math.PI-l),s=Cy(t,a,dy.HALF_PI,i,!1),r=Cy(a,s,dy.HALF_PI,o,!1)):l>=Math.PI&&l<1.5*Math.PI?(i=u*Math.sin(l-Math.PI),o=u*Math.cos(l-Math.PI),s=Cy(t,a,dy.HALF_PI,i,!0),r=Cy(a,s,dy.HALF_PI,o,!0)):(i=u*Math.sin(2*Math.PI-l),o=u*Math.cos(2*Math.PI-l),s=Cy(t,a,dy.HALF_PI,i,!0),r=Cy(a,s,dy.HALF_PI,o,!1)),r}}class Uy extends jy{constructor(t){super([]),this.type=fy.ELLIPSE,this.fixPointCount=2,this.setPoints(t)}generate(){if(!(this.getPointCount()<2)){var t=this.points[0],e=this.points[1],n=_y(t,e),r=Math.abs((t[0]-e[0])/2),i=Math.abs((t[1]-e[1])/2);this.setCoordinates([this.generatePoints(n,r,i)])}}generatePoints(t,e,n){for(var r,i,o,s=[],a=0;a<=dy.FITTING_COUNT;a++)o=2*Math.PI*a/dy.FITTING_COUNT,r=t[0]+e*Math.cos(o),i=t[1]+n*Math.sin(o),s.push([r,i]);return s}}class $y extends Ny{constructor(t){super([]),Object.defineProperty(this,\"freehand\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.type=fy.FREEHAND_LINE,this.freehand=!0,this.setPoints(t)}generate(){this.getPointCount()<2||this.setCoordinates(this.points)}}class Xy extends jy{constructor(t){super([]),Object.defineProperty(this,\"freehand\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.type=fy.FREEHAND_POLYGON,this.freehand=!0,this.setPoints(t)}generate(){this.getPointCount()<2||this.setCoordinates([this.points])}}class Yy extends jy{constructor(t){super([]),Object.defineProperty(this,\"t\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.type=fy.GATHERING_PLACE,this.t=.4,this.fixPointCount=3,this.setPoints(t)}generate(){var t=this.getPoints();if(!(t.length<2)){if(2==this.getPointCount()){var e=_y(t[0],t[1]),n=gy(t[0],e)/.9,r=Cy(t[0],e,dy.HALF_PI,n,!0);t=[t[0],r,t[1]]}e=_y(t[0],t[2]);t.push(e,t[0],t[1]);for(var i=[],o=0;o<t.length-2;o++){var s=t[o],a=t[o+1],u=t[o+2],l=Oy(this.t,s,a,u);i=i.concat(l)}var c=i.length;i=[i[c-1]].concat(i.slice(0,c-1));var h=[];for(o=0;o<t.length-2;o++){s=t[o],a=t[o+1],h.push(s);for(var p=0;p<=dy.FITTING_COUNT;p++){r=Ey(p/dy.FITTING_COUNT,s,i[2*o],i[2*o+1],a);h.push(r)}h.push(a)}this.setCoordinates([h])}}}class Wy extends jy{constructor(t){super([]),this.type=fy.LUNE,this.fixPointCount=3,this.setPoints(t)}generate(){if(!(this.getPointCount()<2)){var t=this.getPoints();if(2==this.getPointCount()){var e=_y(t[0],t[1]),n=gy(t[0],e),r=Cy(t[0],e,dy.HALF_PI,n);t.push(r)}var i=t[0],o=t[1],s=t[2],a=my(i,o,s),u=gy(i,a),l=by(i,a),c=by(o,a);if(wy(i,o,s))var h=c,p=l;else h=l,p=c;(t=Sy(a,u,h,p)).push(t[0]),this.setCoordinates([t])}}}class Hy extends Ig{constructor(t){super([0,0]),Object.defineProperty(this,\"type\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"fixPointCount\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"points\",{enumerable:!0,configurable:!0,writable:!0,value:null}),this.type=fy.POINT,this.fixPointCount=1,this.setPoints(t)}generate(){var t=this.points[0];this.setCoordinates(t)}isPlot(){return!0}setPoints(t){this.points=t||[],this.points.length>=1&&this.generate()}getPoints(){return this.points.slice(0)}getPointCount(){return this.points.length}updatePoint(t,e){e>=0&&e<this.points.length&&(this.points[e]=t,this.generate())}updateLastPoint(t){this.updatePoint(t,this.points.length-1)}finishDrawing(){}}class Ky extends jy{constructor(t){super([]),this.type=fy.RECTANGLE,this.fixPointCount=2,this.setPoints(t)}generate(){if(!(this.getPointCount()<2)){var t=this.points[0],e=this.points[1],n=Math.min(t[0],e[0]),r=Math.max(t[0],e[0]),i=Math.min(t[1],e[1]),o=Math.max(t[1],e[1]),s=[n,o],a=[r,o],u=[r,i],l=[n,i];this.setCoordinates([[s,a,u,l]])}}}class Zy extends jy{constructor(t){super([]),this.type=fy.SECTOR,this.fixPointCount=3,this.setPoints(t)}generate(){if(!(this.getPointCount()<2))if(2==this.getPointCount())this.setCoordinates([this.points]);else{var t=this.getPoints(),e=t[0],n=t[1],r=t[2],i=Sy(e,gy(n,e),by(n,e),by(r,e));i.push(e,i[0]),this.setCoordinates([i])}}}class Jy extends Gy{constructor(t){super([]),Object.defineProperty(this,\"tailWidthFactor\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.type=fy.SQUAD_COMBAT,this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.tailWidthFactor=.1,this.setPoints(t)}generate(){if(!((s=this.getPointCount())<2)){var t=this.getPoints(),e=this.getTailPoints(t),n=this.getArrowHeadPoints(t,e[0],e[1]),r=n[0],i=n[4],o=this.getArrowBodyPoints(t,r,i,this.tailWidthFactor),s=o.length,a=[e[0]].concat(o.slice(0,s/2));a.push(r);var u=[e[e.length-1]].concat(o.slice(s/2,s));u.push(i),a=Ly(a),u=Ly(u),this.setCoordinates([a.concat(n,u.reverse(),e.slice(1,e.length-1))])}}getTailPoints(t){var e=vy(t)*this.tailWidthFactor;return[Cy(t[1],t[0],dy.HALF_PI,e,!1),Cy(t[1],t[0],dy.HALF_PI,e,!0)]}}class Qy extends Ny{constructor(t){super([]),Object.defineProperty(this,\"maxArrowLength\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"arrowLengthScale\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"arrowAngle\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.type=fy.STRAIGHT_ARROW,this.fixPointCount=2,this.maxArrowLength=3e6,this.arrowLengthScale=5,this.arrowAngle=Math.PI/5,this.setPoints(t)}generate(){if(!(this.getPointCount()<2)){var t=this.getPoints(),e=t[0],n=t[1],r=gy(e,n)/this.arrowLengthScale;r=r>this.maxArrowLength?this.maxArrowLength:r;var i=Cy(e,n,this.arrowAngle,r,!1),o=Cy(e,n,this.arrowAngle,r,!0);this.setCoordinates([e,n,i,n,o])}}}class tv extends Gy{constructor(t){super([]),Object.defineProperty(this,\"tailWidthFactor\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"swallowTailFactor\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"swallowTailPnt\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.type=fy.TAILED_ATTACK_ARROW,this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.tailWidthFactor=.1,this.headTailFactor=.8,this.swallowTailFactor=1,this.swallowTailPnt=null,this.setPoints(t)}generate(){if(!((p=this.getPointCount())<2))if(2!=this.getPointCount()){var t=this.getPoints(),e=t[0],n=t[1];wy(t[0],t[1],t[2])&&(e=t[1],n=t[0]);var r=[_y(e,n)].concat(t.slice(2)),i=this.getArrowHeadPoints(r,e,n),o=i[0],s=i[4],a=gy(e,n),u=vy(r),l=u*this.tailWidthFactor*this.swallowTailFactor;this.swallowTailPnt=Cy(r[1],r[0],0,l,!0);var c=a/u,h=this.getArrowBodyPoints(r,o,s,c),p=h.length,f=[e].concat(h.slice(0,p/2));f.push(o);var d=[n].concat(h.slice(p/2,p));d.push(s),f=Ly(f),d=Ly(d),this.setCoordinates([f.concat(i,d.reverse(),[this.swallowTailPnt,f[0]])])}else this.setCoordinates([this.points])}}class ev extends Jy{constructor(t){super([]),Object.defineProperty(this,\"swallowTailFactor\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"swallowTailPnt\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.type=fy.TAILED_SQUAD_COMBAT,this.headHeightFactor=.18,this.headWidthFactor=.3,this.neckHeightFactor=.85,this.neckWidthFactor=.15,this.tailWidthFactor=.1,this.swallowTailFactor=1,this.swallowTailPnt=null,this.setPoints(t)}getTailPoints(t){var e=vy(t)*this.tailWidthFactor,n=Cy(t[1],t[0],dy.HALF_PI,e,!1),r=Cy(t[1],t[0],dy.HALF_PI,e,!0),i=e*this.swallowTailFactor;return[n,Cy(t[1],t[0],0,i,!0),r]}}class nv extends jy{constructor(t){super([]),Object.defineProperty(this,\"sideCount\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"lengthScale\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.type=fy.TRIANGLE,this.fixPointCount=2,this.sideCount=3,this.lengthScale=2,this.setPoints(t)}generate(){if(!(this.getPointCount()<2)){var t=this.points[0],e=this.points[1],n=n(t,e),r=n/this.lengthScale,i=Cy(t,e,Math.PI/2,r/2,!1),o=Cy(t,e,Math.PI/2,r/2,!0);this.setCoordinates([[i,o,t]])}}}class rv extends jy{constructor(t,e){super([]),Object.defineProperty(this,\"sideCount\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.type=fy.REGULARPOLYGON,this.fixPointCount=2,this.sideCount=5,e&&e.sideCount&&(this.sideCount=e.sideCount),this.setPoints(t)}generate(){if(!(this.getPointCount()<2)){var t=this.points[0],e=this.points[1],n=Math.PI*(this.sideCount-2)/this.sideCount,r=gy(t,e);let a;a=this.sideCount%2==0?r/Math.tan(n/2):Math.cos(n/2)*(r/(1+Math.sin(n/2)))*2;for(var i=[Cy(t,e,Math.PI/2,a/2,!1),Cy(t,e,Math.PI/2,a/2,!0)],o=0;o<this.sideCount-2;o++){var s=Cy(i[o],i[o+1],n,a,!0);i.push(s)}this.setCoordinates([i])}}}class iv extends jy{constructor(t){super([]),Object.defineProperty(this,\"sideCount\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"lengthScale\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.type=fy.DIAMOND,this.fixPointCount=2,this.sideCount=8,this.lengthScale=2,this.setPoints(t)}generate(){if(!(this.getPointCount()<2)){var t=this.points[0],e=this.points[1],n=n(t,e),r=Math.PI/this.sideCount,i=n*Math.cos(Math.PI/10)+n*Math.sin(r/2)/Math.tan(r),o=[t];o.push(Cy(e,t,r/2,i,!1));for(var s=0;s<this.sideCount-1;s++)o.push(Cy(o[s],o[s+1],r,i,!1));this.setCoordinates([o])}}}var ov=0;function sv(t){let e=\"_p_id_\";return t[e]=t[e]||ov++,t[e]}function av(t,e,n,r){let i=document.createElement(t);return i.className=e||\"\",r&&(i.id=r),n&&n.appendChild(i),i}function uv(t){return document.getElementById(t)}function lv(t,e,n){return\"_p_dom_event_\"+t+\"_\"+sv(e)+(n?\"_\"+sv(n):\"\")}function cv(t,e,n,r){var i=lv(e,n,r),o=t[i];return o||(o=function(e){return n.call(r||t,e)},t.addEventListener(e,o,!1),t[i]=o),this}function hv(t,e,n,r){var i=lv(e,n,r),o=t[i];return o?(t.removeEventListener(e,o,!1),t[i]=null,this):this}var pv=Object.freeze({__proto__:null,PlotDraw:class extends nu{constructor(t){super(),Object.defineProperty(this,\"points\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"plot\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"feature\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"plotType\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"plotParams\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"dblClickZoomInteraction\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"style\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"drawSource\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"drawLayer\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"map_\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"mapFirstClickHandlerKey\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"mapNextClickHandlerKey\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"mapDoubleClickHandlerKey\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"mapMouseMoveHandlerKey\",{enumerable:!0,configurable:!0,writable:!0,value:null});let e=Object.assign({map:null,style:new uh({fill:new Xc({color:\"rgba(0,0,0,0.4)\"}),stroke:new nh({color:\"#000000\",width:1.25})})},t);this.style=e.style,this.drawSource=new tf,this.drawLayer=new ig({source:this.drawSource}),this.drawLayer.setStyle(this.style),this.setMap(e.map)}setMap(t){this.map_=t}activate(t,e){this.deactivate(),this.deactivateMapTools(),this.mapFirstClickHandlerKey=this.map_.on(\"click\",this.mapFirstClickHandler.bind(this)),this.plotType=t,this.plotParams=e,this.map_.addLayer(this.drawLayer)}deactivate(){this.activateMapTools(),this.disconnectEventHandlers(),this.map_.removeLayer(this.drawLayer),this.drawSource.clear(),this.points=[],this.plot=null,this.feature=null,this.plotType=null,this.plotParams=null}isDrawing(){return null!=this.plotType}mapFirstClickHandler(t){this.points.push(t.coordinate),this.plot=function(t,e,n){switch(t){case fy.ARC:return new Fy(e);case fy.ELLIPSE:return new Uy(e);case fy.CURVE:return new Vy(e);case fy.CLOSED_CURVE:return new zy(e);case fy.LUNE:return new Wy(e);case fy.SECTOR:return new Zy(e);case fy.GATHERING_PLACE:return new Yy(e);case fy.STRAIGHT_ARROW:return new Qy(e);case fy.ASSAULT_DIRECTION:return new ky(e);case fy.ATTACK_ARROW:return new Gy(e);case fy.FINE_ARROW:return new Dy(e);case fy.CIRCLE:return new By(e);case fy.DOUBLE_ARROW:return new qy(e);case fy.TAILED_ATTACK_ARROW:return new tv(e);case fy.SQUAD_COMBAT:return new Jy(e);case fy.TAILED_SQUAD_COMBAT:return new ev(e);case fy.FREEHAND_LINE:return new $y(e);case fy.FREEHAND_POLYGON:return new Xy(e);case fy.POLYGON:return new jy(e);case fy.POINT:return new Hy(e);case fy.RECTANGLE:return new Ky(e);case fy.POLYLINE:return new Ny(e);case fy.TRIANGLE:return new nv(e);case fy.REGULARPOLYGON:return new rv(e,n);case fy.DIAMOND:return new iv(e)}return null}(this.plotType,this.points,this.plotParams),this.feature=new Ah(this.plot),this.drawSource.addFeature(this.feature),Pa(this.mapFirstClickHandlerKey),this.plot.fixPointCount!=this.plot.getPointCount()?(this.mapNextClickHandlerKey=this.map_.on(\"click\",this.mapNextClickHandler.bind(this)),this.plot.freehand||(this.mapDoubleClickHandlerKey=this.map_.on(\"dblclick\",this.mapDoubleClickHandler.bind(this))),this.mapMouseMoveHandlerKey=this.map_.on(\"pointermove\",this.mapMouseMoveHandler.bind(this))):this.mapDoubleClickHandler(t)}mapMouseMoveHandler(t){var e=t.coordinate;if(!(gy(e,this.points[this.points.length-1])<dy.ZERO_TOLERANCE))if(this.plot.freehand)this.points.push(e),this.plot.setPoints(this.points);else{var n=this.points.concat([e]);this.plot.setPoints(n)}}mapNextClickHandler(t){!this.plot.freehand&&gy(t.coordinate,this.points[this.points.length-1])<dy.ZERO_TOLERANCE||(this.points.push(t.coordinate),this.plot.setPoints(this.points),this.plot.fixPointCount!=this.plot.getPointCount()?this.plot&&this.plot.freehand&&this.mapDoubleClickHandler(t):this.mapDoubleClickHandler(t))}mapDoubleClickHandler(t){this.disconnectEventHandlers(),this.plot.finishDrawing(),t.preventDefault(),this.drawEnd()}disconnectEventHandlers(){Pa(this.mapFirstClickHandlerKey),Pa(this.mapNextClickHandlerKey),Pa(this.mapMouseMoveHandlerKey),Pa(this.mapDoubleClickHandlerKey)}drawEnd(){this.drawSource.removeFeature(this.feature),setTimeout(()=>{this.activateMapTools()},250),this.disconnectEventHandlers(),this.map_.removeLayer(this.drawLayer),this.points=[],this.plot=null,this.plotType=null,this.plotParams=null,this.dispatchEvent(\"draw_end\"),this.feature=null}deactivateMapTools(){for(var t=this.map_.getInteractions(),e=t.getLength(),n=0;n<e;n++){var r=t.item(n);if(r instanceof tc){this.dblClickZoomInteraction=r,r.setActive(!1);break}}}activateMapTools(){null!=this.dblClickZoomInteraction&&this.dblClickZoomInteraction.setActive(!0)}setStyle(t){this.style=t,this.drawLayer.setStyle(this.style)}},PlotEdit:class extends nu{constructor(t){super(),Object.defineProperty(this,\"map_\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"activePlot\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"startPoint\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"ghostControlPoints\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"controlPoints\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"mouseOver\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"elementTable\",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,\"activeControlPointId\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"mapDragPan\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"controlPointMouseMoveHandlerKey\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"controlPointMouseUpHandlerKey\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"plotMouseOverOutHandlerKey\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"plotMouseDownHandlerKey\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"plotMouseMoveHandlerKey\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"plotMouseUpHandlerKey\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"Constants\",{enumerable:!0,configurable:!0,writable:!0,value:{HELPER_HIDDEN_DIV:\"p-helper-hidden-div\",HELPER_CONTROL_POINT_DIV:\"p-helper-control-point-div\"}}),t&&this.setMap(t)}setMap(t){this.map_=t}initHelperDom(){if(this.map_&&this.activePlot){var t=this.getMapParentElement();if(t)for(var e=function(t,e,n){var r=document.createElement(t);return r.style.display=\"none\",n&&(r.id=n),e&&e.appendChild(r),r}(\"div\",t,this.Constants.HELPER_HIDDEN_DIV),n=this.getControlPoints(),r=0;r<n.length;r++){var i=this.Constants.HELPER_CONTROL_POINT_DIV+\"-\"+r;av(\"div\",this.Constants.HELPER_CONTROL_POINT_DIV,e,i),this.elementTable[i]=r}}}getMapParentElement(){var t=this.map_.getTargetElement();if(t)return t.parentNode}destroyHelperDom(){if(this.controlPoints){for(var t=0;t<this.controlPoints.length;t++){this.map_.removeOverlay(this.controlPoints[t]);var e=uv(this.Constants.HELPER_CONTROL_POINT_DIV+\"-\"+t);e&&(hv(e,\"mousedown\",this.controlPointMouseDownHandler,this),hv(e,\"mousemove\",this.controlPointMouseMoveHandler2,this))}this.controlPoints=null}var n=this.getMapParentElement(),r=uv(this.Constants.HELPER_HIDDEN_DIV);r&&n&&function(t,e){e&&t&&e.removeChild(t)}(r,n)}initControlPoints(){if(this.map_){this.controlPoints=[];for(var t=this.getControlPoints(),e=0;e<t.length;e++){var n=this.Constants.HELPER_CONTROL_POINT_DIV+\"-\"+e,r=uv(n),i=new ay({id:n,position:t[e],positioning:\"center-center\",element:r});this.controlPoints.push(i),this.map_.addOverlay(i),cv(r,\"mousedown\",this.controlPointMouseDownHandler,this),cv(r,\"mousemove\",this.controlPointMouseMoveHandler2,this)}}}controlPointMouseMoveHandler2(t){t.stopImmediatePropagation(t)}controlPointMouseDownHandler(t){var e=t.target.id;this.activeControlPointId=e,this.controlPointMouseMoveHandlerKey&&Pa(this.controlPointMouseMoveHandlerKey),this.controlPointMouseMoveHandlerKey=this.map_.on(\"pointermove\",this.controlPointMouseMoveHandler.bind(this)),this.controlPointMouseUpHandlerKey=cv(t.currentTarget,\"mouseup\",this.controlPointMouseUpHandler,this)}controlPointMouseMoveHandler(t){var e=t.coordinate;if(this.activeControlPointId){var n=this.activePlot.getGeometry(),r=this.elementTable[this.activeControlPointId];n.updatePoint(e,r),this.map_.getOverlayById(this.activeControlPointId).setPosition(e)}}controlPointMouseUpHandler(t){Pa(this.controlPointMouseMoveHandlerKey),hv(t.currentTarget,\"mouseup\",this.controlPointMouseUpHandler,this)}activate(t){t&&t instanceof Ah&&t!=this.activePlot&&(t.getGeometry().isPlot()&&(this.deactivate(),this.activePlot=t,this.plotMouseOverOutHandlerKey=this.map_.on(\"pointermove\",this.plotMouseOverOutHandler.bind(this)),this.initHelperDom(),this.initControlPoints()))}getControlPoints(){return this.activePlot?this.activePlot.getGeometry().getPoints():[]}plotMouseOverOutHandler(t){var e=this.map_.forEachFeatureAtPixel(t.pixel,(function(t,e){return t}));e&&e==this.activePlot?this.mouseOver||(this.mouseOver=!0,this.map_.getViewport().style.cursor=\"move\",this.plotMouseDownHandlerKey=cv(this.map_.getTargetElement(),\"mousedown\",this.plotMouseDownHandler,this)):this.mouseOver&&(this.mouseOver=!1,this.map_.getViewport().style.cursor=\"default\",Pa(this.plotMouseDownHandlerKey))}plotMouseDownHandler(t){this.ghostControlPoints=this.getControlPoints(),this.startPoint=this.map_.getCoordinateFromPixel([t.layerX,t.layerY]),this.disableMapDragPan(),hv(this.map_.getTargetElement(),\"mousedown\",this.plotMouseDownHandler,this),this.plotMouseMoveHandlerKey=this.map_.on(\"pointerdrag\",this.plotMouseMoveHandler.bind(this))}plotMouseMoveHandler(t){for(var e=t.coordinate,n=e[0]-this.startPoint[0],r=e[1]-this.startPoint[1],i=[],o=0;o<this.ghostControlPoints.length;o++){var s=this.ghostControlPoints[o],a=[s[0]+n,s[1]+r];i.push(a);var u=this.Constants.HELPER_CONTROL_POINT_DIV+\"-\"+o,l=this.map_.getOverlayById(u);l.setPosition(a),l.setPositioning(\"center-center\")}this.activePlot.getGeometry().setPoints(i)}plotMouseUpHandler(t){this.enableMapDragPan(),Pa(this.plotMouseUpHandlerKey),Pa(this.plotMouseMoveHandlerKey)}disconnectEventHandlers(){Pa(this.plotMouseOverOutHandlerKey),Pa(this.controlPointMouseMoveHandlerKey),Pa(this.controlPointMouseUpHandlerKey),Pa(this.plotMouseDownHandlerKey),Pa(this.plotMouseUpHandlerKey),Pa(this.plotMouseMoveHandlerKey)}deactivate(){this.activePlot=null,this.mouseOver=!1,this.destroyHelperDom(),this.disconnectEventHandlers(),this.elementTable={},this.activeControlPointId=null,this.startPoint=null}disableMapDragPan(){for(var t=this.map_.getInteractions(),e=t.getLength(),n=0;n<e;n++){var r=t.item(n);if(r instanceof Jl){this.mapDragPan=r,r.setActive(!1);break}}}enableMapDragPan(){null!=this.mapDragPan&&(this.mapDragPan.setActive(!0),this.mapDragPan=null)}}}),fv=Object.freeze({__proto__:null,PlotTypes:fy,tool:pv});const dv=2*Math.PI,gv=(Math.PI,100),yv=t=>t<=1?1:t*yv(t-1),vv=t=>parseFloat(t.toFixed(12)),_v=(t,e)=>{if(t===e)return!0;const[n,r]=t,[i,o]=e;return vv(n)===vv(i)&&vv(r)===vv(o)};function mv(t,e){var n,r,i,o=Math.asin(Math.abs(e[1]-t[1])/(r=t,i=e,Math.sqrt(Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2))));return e[1]>=t[1]&&e[0]>=t[0]?n=o+Math.PI:e[1]>=t[1]&&e[0]<t[0]?n=dv-o:e[1]<t[1]&&e[0]<t[0]?n=o:e[1]<t[1]&&e[0]>=t[0]&&(n=Math.PI-o),n}const bv=(t,e,n={units:\"degrees\"})=>{let r=uy.lineString(t);return((t,e,n={units:\"degrees\"})=>{var r=uy.lineString(t);return uy.along(r,e,n).geometry.coordinates})(t,uy.length(r,n)*e)},xv=(t,e,n,r={units:\"degrees\"})=>((t,e,n)=>{let r=uy.lineString(t),i=uy.point(e),o=uy.point(n);return uy.lineSlice(i,o,r).geometry.coordinates})(t,bv(t,e,r),bv(t,n,r)),wv=(t,e,n=0,r=90,i=.01)=>{const[o,s]=t,[a,u]=e,l=(o+a)/2,c=(s+u)/2,h=(s-u)/(o-a),p=r*Math.PI/180+Math.atan(h);return((t=[],e=.01)=>{if(t.length<=2||e<=0)return t;let n=0,r=0;const i=t.length-1,o=[];for(let s=0;s<1;s+=e){n=0,r=0;for(let e=0;e<=i;e++){const[o,a]=t[e];n+=yv(i)/(yv(e)*yv(i-e))*Math.pow(1-s,i-e)*Math.pow(s,e)*o,r+=yv(i)/(yv(e)*yv(i-e))*Math.pow(1-s,i-e)*Math.pow(s,e)*a}o.push([n,r])}return o.push(t[t.length-1]),o})([t,[l+n*Math.cos(p),c+n*Math.sin(p)],e],i)};function Ev(t,e,n,r){var i,o,s=[],a=r-n;a=a<0?a+dv:a;for(var u=0;u<=gv;u++){var l=n+a*u/gv;i=t[0]+e*Math.cos(l),o=t[1]+e*Math.sin(l),s.push([i,o])}return s}const Cv={fill:Xc,text:hh,stroke:nh,circle:$c,icon:Th,regularShape:qc,backgroundFill:Xc,backgroundStroke:nh},Sv=[$c,Th,qc];function Ov(t){return\"object\"==typeof t}function Pv(t,e,n){if(null!=n)return t?[\"fill\",\"backgroundFill\"].includes(e)?function(t){const e=Ov(t)?t:{color:t};return new Xc(e)}(n):\"text\"===e?Ov(n)?Iv(n,t):n:Iv(n,t):n}function Iv(t,e){const n={};return Object.entries(t).forEach(([t,e])=>{const r=Cv[t];\"font\"===t&&(e+=\" sans-serif\"),n[Sv.includes(r)?\"image\":t]=Pv(r,t,e)}),new(e||uh)(n)}const Tv={src:\"data:image/svg+xml,%3c%3fxml version='1.0' standalone='no'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg t='1589093007551' class='icon' viewBox='0 0 1024 1024' version='1.1' xmlns='http://www.w3.org/2000/svg' p-id='1173' xmlns:xlink='http://www.w3.org/1999/xlink' width='200' height='200'%3e %3cpath d='M1004.87987695 512L33.95798397 34.76720507 282.15195014 510.65058287 33.95798397 989.23279493Z' fill='white'%3e%3c/path%3e%3c/svg%3e\",anchor:[.75,.5],rotateWithView:!0,rotation:0,color:\"#409eff\",scale:1};const Mv=(t,e,n={})=>{const r=e[0]-t[0],i=e[1]-t[1],o=Object.assign(Object.assign({},Tv),\"string\"==typeof n?{src:n}:n);return o.rotation=-Math.atan2(i,r),o.scale=16*o.scale/200,o.opacity=function(t=\"\"){if(\"transparent\"===t)return 0;const e=t.match(/\\.\\d*/);return e&&e[0]?parseFloat(e[0]):1}(o.color),Iv({geometry:new Ig(e),icon:o})};const Av=(t,e)=>{const n=t.length;let r=0;const i=t[n-1];let o=i;for(;o&&_v(o,i);)++r,o=t[n-r];return Mv(o||i,i,e)},Lv={coordinates:null,lineStyle:{stroke:{color:\"green\",width:8}},arrowStyle:{color:\"#ffffff\",src:\"data:image/svg+xml,%3csvg width='14' height='24' xmlns='http://www.w3.org/2000/svg'%3e %3ctitle%3e%e5%88%87%e7%89%87%3c/title%3e %3cg%3e %3ctitle%3ebackground%3c/title%3e %3crect x='-1' y='-1' width='16' height='26' id='canvas_background' fill='none'/%3e %3c/g%3e %3cg%3e %3ctitle%3eLayer 1%3c/title%3e %3cg fill-rule='evenodd' fill='none' id='%e9%a1%b5%e9%9d%a2-1' transform='translate(14%2c24)rotate(180)'%3e %3cg fill='white' id='%e9%a3%8e%e9%99%a9%e9%a2%84%e8%ad%a6%ef%bc%88%e9%a3%8e%e9%99%a9%e5%8c%ba%e8%af%a6%e6%83%85%ef%bc%89%e5%9c%b0%e5%9b%be%e8%af%a6%e6%83%85'%3e %3cg id='%e7%bc%96%e7%bb%84'%3e %3cg id='icon/%e8%b7%af%e6%a0%87%e7%ae%ad%e5%a4%b4%e5%a4%87%e4%bb%bd-7' %3e %3cpolygon points='7.855979919433594%2c6.407499313354492e-7 13.5625%2c6.407499313354492e-7 6.144020080566406%2c11.875000953674316 13.5625%2c23.75 7.855979919433594%2c23.75 0.4375%2c11.875000953674316 ' id='%e7%9f%a9%e5%bd%a2'/%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e\",scale:4.5,rotation:Math.PI/2},interval:20,source:null};const Rv={coordinates:null,outlineColor:\"#ff0000\",outlineWidth:8,innerlineColor:\"#ffffff\",innerlineWidth:6,innerlineDash:[0,12],innerlineDashOffset:0,source:null};const Nv={color:\"#409eff\"},Fv=(t,e)=>{const n=t.length;let r=0;const i=t[n-1];let o=i;for(;o&&_v(o,i);)++r,o=t[n-r];return Mv(o||i,i,e)},jv={from:null,to:null,radius:0,angle:90,loop:!0,space:.01,smooth:.01,endArrow:Nv,animationArrow:Nv,lineStyle:{stroke:{color:\"#409eff\",lineDash:[5],width:3}},lineAnimationStyle:{stroke:{width:3,color:\"#409eff\"}},pointAnimationStyle:{circle:{fill:\"#409eff\",radius:3}},source:null};const Dv={coordinate:null,innerRadius:10,outerRadius:50,innerOpacity:1,outerOpacity:0,loop:!0,source:null,centerStyle:{zIndex:10,circle:{fill:{color:\"#ff0000\"},radius:10,stroke:{width:2,color:\"#ffff0000\"}}},rippleStyle:{zIndex:10,circle:{fill:{color:\"#ff0000\"},stroke:{width:2,color:\"#ffff0000\"}}},period:1.5};class kv extends Ia{constructor(t,e,n){super(t),Object.defineProperty(this,\"coordinate\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"angle\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.coordinate=e,this.angle=n}}const Gv={coordinates:null,loop:!0,lineStyle:{stroke:{color:\"#409eff\",lineDash:[5],width:3}},lineAnimationStyle:{stroke:{width:3,color:\"#409eff\"}},pointAnimationStyle:{circle:{fill:\"#409eff\",radius:3}},source:null};const Bv={radius:10,center:[0,0],period:5,startAngle:0,arcAngle:1,loop:!0,source:null,centerStyle:{circle:{fill:\"#ff0000\",radius:3}},circleStyle:{stroke:{color:\"#ff0000\"},fill:{color:\"rgba(255,0,0,0.1)\"}},arcStyle:{fill:{color:\"rgba(255,0,0,0.01)\"},stroke:{color:\"rgba(0,0,0,0)\",width:2}}};var zv=Object.freeze({__proto__:null,ArrowLine:class{constructor(t){Object.defineProperty(this,\"coordinates_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"lineStyle_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"arrowStyle_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"interval_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"source_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"feature_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"timer_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"ready\",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,\"fraction\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"speed\",{enumerable:!0,configurable:!0,writable:!0,value:1});let e=Object.assign({},Lv,t);this.source_=e.source,this.coordinates_=e.coordinates,this.interval_=e.interval,this.setArrowStyle(e.arrowStyle),this.setLineStyle(e.lineStyle),this.init_(),this.ready=!0}dispose(){this.end(),this.source_.removeFeature(this.feature_)}init_(){this.feature_?this.feature_.getGeometry().setCoordinates(this.coordinates_):(this.feature_=new Ah({geometry:new wg(this.coordinates_)}),this.source_.addFeature(this.feature_)),this.feature_.setStyle(this.getStyle_(0))}getStyle_(t){return(e,n)=>{var r=e.getGeometry(),i=r.getLength(),o=this.interval_*n/i;let s=[];this.lineStyle_ instanceof Array?s=s.concat(this.lineStyle_):this.lineStyle_ instanceof Function&&(s=this.lineStyle_({target:this,feature:this.feature_}),s instanceof uh&&(s=[s]));for(var a=o*t/10;a<=1;a+=o){var u=r.getCoordinateAt(a);r.forEachSegment((t,e)=>{if(t[0]!=e[0]||t[1]!=e[1]){var n=e[0]-u[0],r=e[1]-u[1],i=u[0]-t[0],o=u[1]-t[1];if(Math.abs(1*n*o-1*i*r)<1e-4)if(this.arrowStyle_ instanceof Function){let t=this.arrowStyle_({target:this,feature:this.feature_});t instanceof Array?s.concat(t):s.push(t)}else s.push(Av([t,u],this.arrowStyle_))}})}return s}}start(){this.fraction=0,this.timer_=setInterval(()=>{this.fraction+=this.speed,this.fraction=this.fraction>=10?1:this.fraction;let t=this.fraction;this.feature_.setStyle(this.getStyle_(t))},150)}end(){this.timer_&&(clearInterval(this.timer_),this.timer_=null)}setCoordinates(t){this.coordinates_=t,this.init_()}setLineStyle(t){t instanceof uh?this.lineStyle_=[t]:t instanceof Function||t instanceof Array?this.lineStyle_=t:t instanceof Object&&(this.lineStyle_=[Iv(t)]),this.ready&&this.init_()}setArrowStyle(t){this.arrowStyle_=t,this.ready&&this.init_()}setInterval(t){this.interval_=t,this.ready&&this.init_()}setSource(t){this.source_&&this.feature_&&this.source_.removeFeature(this.feature_),this.source_=t,this.feature_&&t.addFeature(this.feature_)}getLineStyle(){return this.lineStyle_}getInterval(){return this.interval_}},DynamicLine:class{constructor(t){Object.defineProperty(this,\"coordinates_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"outlineColor_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"outlineWidth_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"innerlineColor_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"innerlineWidth_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"innerlineDash_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"innerlineDashOffset_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"source_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"feature_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"timer_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let e=Object.assign({},Rv,t);this.source_=e.source,this.coordinates_=e.coordinates,this.outlineColor_=e.outlineColor,this.outlineWidth_=e.outlineWidth,this.innerlineColor_=e.innerlineColor,this.innerlineWidth_=e.innerlineWidth,this.innerlineDash_=e.innerlineDash,this.innerlineDashOffset_=e.innerlineDashOffset,this.init_()}dispose(){this.end(),this.source_.removeFeature(this.feature_)}init_(){this.feature_?this.feature_.getGeometry().setCoordinates(this.coordinates_):(this.feature_=new Ah({geometry:new wg(this.coordinates_)}),this.source_.addFeature(this.feature_)),this.feature_.setStyle(this.getStyle_(this.innerlineDashOffset_))}getStyle_(t){return[new uh({stroke:new nh({color:this.outlineColor_,width:this.outlineWidth_})}),(()=>new uh({stroke:new nh({color:this.innerlineColor_,width:this.innerlineWidth_,lineDash:this.innerlineDash_,lineDashOffset:t})}))()]}start(){let t=this.innerlineDashOffset_;this.timer_=setInterval(()=>{t+=1,this.feature_.setStyle(this.getStyle_(t))},150)}end(){this.timer_&&(clearInterval(this.timer_),this.timer_=null)}setCoordinates(t){this.coordinates_=t,this.init_()}setOutlineColor(t){this.outlineColor_=t,this.init_()}setOutlineWidth(t){this.outlineWidth_=t,this.init_()}setInnerlineColor(t){this.innerlineColor_=t,this.init_()}setInnerlineWidth(t){this.innerlineWidth_=t,this.init_()}setInnerlineDash(t){this.innerlineDash_=t,this.init_()}setInnerlineDashOffset(t){this.innerlineDashOffset_=t,this.init_()}setSource(t){this.source_&&this.feature_&&this.source_.removeFeature(this.feature_),this.source_=t,this.feature_&&t.addFeature(this.feature_)}},Flight:class extends uu{constructor(t){super(),Object.defineProperty(this,\"from_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"to_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"radius_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"angle_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"loop_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"space_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"smooth_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"endArrow_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"animationArrow_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"lineStyle_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"lineAnimationStyle_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"pointAnimationStyle_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"feature_\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"lineAnimationFeature_\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"pointAnimationFeature_\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"source_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"fraction_\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"aId_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"ready\",{enumerable:!0,configurable:!0,writable:!0,value:!1});let e=Object.assign({},jv,t);this.setFrom(e.from),this.setTo(e.to),this.setRadius(e.radius),this.setAngle(e.angle),this.setLoop(e.loop),this.setSpace(e.space),this.setSmooth(e.smooth),this.setEndArrow(e.endArrow),this.setAnimationArrow(e.animationArrow),this.setLineStyle(e.lineStyle),this.setLineAnimationStyle(e.lineAnimationStyle),this.setPointAnimationStyle(e.pointAnimationStyle),this.setSource(e.source),this.init_(),this.ready=!0}start(){this.aId_||this.animation_()}stop(){this.aId_&&(window.cancelAnimationFrame(this.aId_),this.aId_=null)}end(){this.aId_&&window.cancelAnimationFrame(this.aId_),this.source_.removeFeature(this.lineAnimationFeature_),this.source_.removeFeature(this.pointAnimationFeature_),this.fraction_=0,this.pointAnimationFeature_=null,this.lineAnimationFeature_=null,this.aId_=null}init_(){if(this.initLineFeature_(),!this.feature_)return;let t=[];this.lineStyle_ instanceof Array?t=t.concat(this.lineStyle_):this.lineStyle_ instanceof Function&&(t=this.lineStyle_({target:this,feature:this.feature_}),t instanceof uh&&(t=[t])),this.endArrow_&&(this.endArrow_ instanceof Function?t.push(this.endArrow_({target:this,feature:this.feature_})):this.endArrow_ instanceof Boolean?t.push(Fv(this.feature_.getGeometry().getCoordinates(),{})):t.push(Fv(this.feature_.getGeometry().getCoordinates(),this.endArrow_))),this.feature_.setStyle(t)}initLineFeature_(){const t=this.createPoints_();if(this.feature_)this.feature_.getGeometry().setCoordinates(t);else{const e=new wg(t);this.feature_=new Ah({geometry:e}),this.source_.addFeature(this.feature_)}}createPoints_(){const t=this.radius_>0?wv(this.from_,this.to_,this.radius_,this.angle_,this.smooth_):[this.from_,this.to_];return this.space_?((t=[],e=.01)=>{const n=[];for(let r=0;r<t.length&&!(r>=t.length-1);r++){const[i,o]=t[r],[s,a]=t[r+1],u=Math.atan2(Math.abs(o-a),Math.abs(i-s))*(180/Math.PI);if(n.push([i,o]),u>45){const t=e*Math.sign(a-o);let r=o+t;for(;t>0?r<a:r>a;){const e=(r-o)*(s-i)/(a-o)+i;n.push([e,r]),r+=t}}else{const t=e*Math.sign(s-i);let r=i+t;for(;t>0?r<s:r>s;){const e=(a-o)/(s-i)*(r-i)+o;n.push([r,e]),r+=t}}n.push([s,a])}return[...new Set(n)]})(t,this.space_):t}animation_(){const t=()=>{let e=this.feature_.getGeometry().getCoordinates(),n=e.length;if(this.lineAnimationFeature_||(this.lineAnimationFeature_=new Ah(new wg([e[0]])),this.source_.addFeature(this.lineAnimationFeature_)),this.pointAnimationFeature_||(this.pointAnimationFeature_=new Ah(new Ig(e[0])),this.source_.addFeature(this.pointAnimationFeature_)),++this.fraction_,this.fraction_>=n){if(!this.loop_)return;this.fraction_=1}this.renderLine_(e,this.fraction_),this.renderPoint_(e,this.fraction_),this.aId_=window.requestAnimationFrame(t)};t()}renderLine_(t,e){const n=t.slice(0,e+1),r=new wg(n);this.lineAnimationFeature_.setGeometry(r);let i=[];this.lineAnimationStyle_ instanceof Array?i=i.concat(this.lineAnimationStyle_):this.lineAnimationStyle_ instanceof Function&&(i=this.lineAnimationStyle_({feature:this.lineAnimationFeature_,fraction:e,target:this}),i instanceof uh&&(i=[i])),this.animationArrow_&&(this.animationArrow_ instanceof Function?i.push(this.animationArrow_({target:this,feature:this.feature_})):this.animationArrow_ instanceof Boolean?i.push(Fv(n,{})):i.push(Fv(n,this.animationArrow_))),this.lineAnimationFeature_.setStyle(i)}renderPoint_(t,e){const n=t[e],r=new Ig(n);this.pointAnimationFeature_.setGeometry(r);let i=[];this.pointAnimationStyle_ instanceof Array?i=i.concat(this.pointAnimationStyle_):this.pointAnimationStyle_ instanceof Function&&(i=this.pointAnimationStyle_({feature:this.pointAnimationFeature_,fraction:e,target:this}),i instanceof uh&&(i=[i])),this.pointAnimationFeature_.setStyle(i)}setFrom(t){this.from_=t,this.ready&&this.init_()}setTo(t){this.to_=t,this.ready&&this.init_()}setRadius(t){this.radius_=t,this.ready&&this.init_()}setAngle(t){this.angle_=t,this.ready&&this.init_()}setSpace(t){this.space_=t,this.ready&&this.init_()}setSmooth(t){this.smooth_=t,this.ready&&this.init_()}setLoop(t){this.loop_=t}setEndArrow(t){this.endArrow_=t,this.ready&&this.init_()}setAnimationArrow(t){this.animationArrow_=t}setLineStyle(t){t instanceof uh?this.lineStyle_=[t]:t instanceof Function||t instanceof Array?this.lineStyle_=t:t instanceof Object&&(this.lineStyle_=[Iv(t)]),this.ready&&this.init_()}setLineAnimationStyle(t){t instanceof uh?this.lineAnimationStyle_=[t]:t instanceof Function||t instanceof Array?this.lineAnimationStyle_=t:t instanceof Object&&(this.lineAnimationStyle_=[Iv(t)])}setPointAnimationStyle(t){t instanceof uh?this.pointAnimationStyle_=[t]:t instanceof Function||t instanceof Array?this.pointAnimationStyle_=t:t instanceof Object&&(this.pointAnimationStyle_=[Iv(t)])}setSource(t){if(this.source_){let t=this.source_;this.feature_&&t.removeFeature(this.feature_),this.lineAnimationFeature_&&t.removeFeature(this.lineAnimationFeature_),this.pointAnimationFeature_&&t.removeFeature(this.pointAnimationFeature_)}this.source_=t,this.feature_&&t.addFeature(this.feature_),this.lineAnimationFeature_&&t.addFeature(this.lineAnimationFeature_),this.pointAnimationFeature_&&t.addFeature(this.pointAnimationFeature_)}setFraction(t){this.fraction_=t}getFrom(){return this.from_}getTo(){return this.to_}getRadius(){return this.radius_}getAngle(){return this.angle_}getLoop(){return this.loop_}getSpace(){return this.space_}getSmooth(){return this.smooth_}getEndArrow(){return this.endArrow_}getAnimationArrow(){return this.animationArrow_}getLineStyle(){return this.lineStyle_}getLineAnimationStyle(){return this.lineAnimationStyle_}getPointAnimationStyle(){return this.pointAnimationStyle_}getFeature(){return this.feature_}getLineAnimationFeature(){return this.lineAnimationFeature_}getPointAnimationFeature(){return this.pointAnimationFeature_}getSource(){return this.source_}getFraction_(){return this.fraction_}},Scatter:class extends uu{constructor(t){super(),Object.defineProperty(this,\"coordinate_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"innerRadius_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"outerRadius_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"innerOpacity_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"outerOpacity_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"loop_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"period_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"centerStyle_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"rippleStyle_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"feature_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"aId_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"source_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let e=Object.assign({},Dv,t);this.setCoordinate(e.coordinate),this.setInnerRadius(e.innerRadius),this.setOuterRadius(e.outerRadius),this.setInnerOpacity(e.innerOpacity),this.setOuterOpacity(e.outerOpacity),this.setLoop(e.loop),this.setSource(e.source),this.setCenterStyle(e.centerStyle),this.setRippleStyle(e.rippleStyle),this.setPeriod(e.period),this.init_()}init_(){let t=new Ig(this.coordinate_);if(!t)return;if(this.feature_=new Ah({geometry:t}),this.source_.addFeature(this.feature_),!this.feature_)return;let e=this.centerStyle_;this.feature_.setStyle(e)}start(){this.animation_()}end(){window.cancelAnimationFrame(this.aId_)}dispose(){this.end(),this.source_.removeFeature(this.feature_),this.feature_=null}animation_(){const t=this.period_,e=(new Date).getTime(),n=()=>{const r=((new Date).getTime()-e)/(1e3*t);if(r>1)return void(this.loop_&&this.animation_());const i=hu(r),o=this.innerRadius_+(this.outerRadius_-this.innerRadius_)*i,s=this.innerOpacity_-(this.innerOpacity_-this.outerOpacity_)*i;let a=[];this.centerStyle_ instanceof Array?a=a.concat(this.centerStyle_):this.centerStyle_ instanceof Function&&(a=this.centerStyle_({target:this,fraction:i}),a instanceof uh&&(a=[a]));let u=[];this.rippleStyle_ instanceof Array?(u=u.concat(this.rippleStyle_),u.forEach(t=>{t.getImage().setRadius(o),t.getImage().setOpacity(s)})):this.rippleStyle_ instanceof Function&&(u=this.rippleStyle_({target:this,radius:o,opacity:s,fraction:i}),u instanceof uh&&(u=[u])),this.feature_.setStyle(u.concat(a)),this.aId_=window.requestAnimationFrame(n)};n()}setCoordinate(t){this.coordinate_=t,this.feature_&&this.feature_.getGeometry().setCoordinates(this.coordinate_)}setInnerRadius(t){this.innerRadius_=t}setOuterRadius(t){this.outerRadius_=t}setInnerOpacity(t){this.innerOpacity_=t}setOuterOpacity(t){this.outerOpacity_=t}setLoop(t){this.loop_=t}setPeriod(t){this.period_=t}setCenterStyle(t){t instanceof uh?this.centerStyle_=[t]:t instanceof Function||t instanceof Array?this.centerStyle_=t:t instanceof Object&&(this.centerStyle_=[Iv(t)])}setRippleStyle(t){t instanceof uh?this.rippleStyle_=[t]:t instanceof Function||t instanceof Array?this.rippleStyle_=t:t instanceof Object&&(this.rippleStyle_=[Iv(t)])}setSource(t){this.source_&&this.feature_&&this.source_.removeFeature(this.feature_),this.source_=t,this.feature_&&this.source_.addFeature(this.feature_)}getCoordinate(){return this.coordinate_}getInnerRadius(){return this.innerRadius_}getOuterRadius(){return this.outerRadius_}getInnerOpacity(){return this.innerOpacity_}getOuterOpacity(){return this.outerOpacity_}getLoop(){return this.loop_}getPeriod(){return this.period_}getCenterStyle(){return this.centerStyle_}getRippleStyle(){return this.rippleStyle_}getSource(){return this.source_}getFeature(){return this.feature_}},Track:class extends uu{constructor(t){super(),Object.defineProperty(this,\"coordinates_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"loop_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"lineStyle_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"lineAnimationStyle_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"pointAnimationStyle_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"feature_\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"lineAnimationFeature_\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"pointAnimationFeature_\",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,\"source_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"fraction_\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"aId_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let e=Object.assign({},Gv,t);this.setCoordinates(e.coordinates),this.setLoop(e.loop),this.setLineStyle(e.lineStyle),this.setLineAnimationStyle(e.lineAnimationStyle),this.setPointAnimationStyle(e.pointAnimationStyle),this.setSource(e.source),this.init_()}start(){this.aId_||this.animation_()}stop(){this.aId_&&(window.cancelAnimationFrame(this.aId_),this.aId_=null)}end(){this.aId_&&window.cancelAnimationFrame(this.aId_),this.source_.removeFeature(this.lineAnimationFeature_),this.source_.removeFeature(this.pointAnimationFeature_),this.fraction_=0,this.pointAnimationFeature_=null,this.lineAnimationFeature_=null,this.aId_=null}init_(){const t=this.createPoints_(),e=new wg(t);if(!e)return;if(this.feature_=new Ah({geometry:e}),this.source_.addFeature(this.feature_),!this.feature_)return;let n=[];this.lineStyle_ instanceof Array?n=n.concat(this.lineStyle_):this.lineStyle_ instanceof Function&&(n=this.lineStyle_({target:this}),n instanceof uh&&(n=[n])),this.feature_.setStyle(n)}createPoints_(){return this.coordinates_}animation_(){let t,e;t||(t=this.feature_.getGeometry()),e||(e=t.getCoordinates()),this.lineAnimationFeature_||(this.lineAnimationFeature_=new Ah(new wg([e[0]])),this.source_.addFeature(this.lineAnimationFeature_)),this.pointAnimationFeature_||(this.pointAnimationFeature_=new Ah(new Ig(e[0])),this.source_.addFeature(this.pointAnimationFeature_));let n=(new Date).getTime();const r=()=>{let t=((new Date).getTime()-n)/1e4;if(t+=this.fraction_,t>1){if(this.fraction_=0,!this.loop_)return;n=(new Date).getTime()}const i=bv(e,t),o=mv(i,bv(e,t+1e-5));this.dispatchEvent(new kv(\"move\",i,o)),this.renderLine_(e,t,o),this.renderPoint_(e,t,o),this.aId_=window.requestAnimationFrame(r)};r()}renderLine_(t,e,n){const r=xv(t,0,e),i=new wg(r);this.lineAnimationFeature_.setGeometry(i);let o=[];this.lineAnimationStyle_ instanceof Array?o=o.concat(this.lineAnimationStyle_):this.lineAnimationStyle_ instanceof Function&&(o=this.lineAnimationStyle_({target:this,fraction:e}),o instanceof uh&&(o=[o])),this.lineAnimationFeature_.setStyle(o)}renderPoint_(t,e,n){const r=bv(t,e);bv(t,e+1e-5);const i=new Ig(r);this.pointAnimationFeature_.setGeometry(i);let o=[];this.pointAnimationStyle_ instanceof Array?o=o.concat(this.pointAnimationStyle_):this.pointAnimationStyle_ instanceof Function&&(o=this.pointAnimationStyle_({target:this,angle:n,fraction:e}),o instanceof uh&&(o=[o])),this.pointAnimationFeature_.setStyle(o)}setCoordinates(t){this.coordinates_=t,this.feature_&&this.feature_.getGeometry().setCoordinates(this.coordinates_)}setLoop(t){this.loop_=t}setLineStyle(t){t instanceof uh?this.lineStyle_=[t]:t instanceof Function||t instanceof Array?this.lineStyle_=t:t instanceof Object&&(this.lineStyle_=[Iv(t)])}setLineAnimationStyle(t){t instanceof uh?this.lineAnimationStyle_=[t]:t instanceof Function||t instanceof Array?this.lineAnimationStyle_=t:t instanceof Object&&(this.lineAnimationStyle_=[Iv(t)])}setPointAnimationStyle(t){t instanceof uh?this.pointAnimationStyle_=[t]:t instanceof Function||t instanceof Array?this.pointAnimationStyle_=t:t instanceof Object&&(this.pointAnimationStyle_=[Iv(t)])}setSource(t){if(this.source_){let t=this.source_;this.feature_&&t.removeFeature(this.feature_),this.lineAnimationFeature_&&t.removeFeature(this.lineAnimationFeature_),this.pointAnimationFeature_&&t.removeFeature(this.pointAnimationFeature_)}this.source_=t,this.feature_&&t.addFeature(this.feature_),this.lineAnimationFeature_&&t.addFeature(this.lineAnimationFeature_),this.pointAnimationFeature_&&t.addFeature(this.pointAnimationFeature_)}setFraction(t){this.fraction_=t}getCoordinate(){return this.coordinates_}getLoop(){return this.loop_}getLineStyle(){return this.lineStyle_}getLineAnimationStyle(){return this.lineAnimationStyle_}getPointAnimationStyle(){return this.pointAnimationStyle_}getFeature(){return this.feature_}getLineAnimationFeature(){return this.lineAnimationFeature_}getPointAnimationFeature(){return this.pointAnimationFeature_}getSource(){return this.source_}getFraction_(){return this.fraction_}},Radar:class extends uu{constructor(t){super(),Object.defineProperty(this,\"radius_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"center_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"startAngle_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"arcAngle_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"loop_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"period_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"source_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"centerStyle_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"circleStyle_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"arcStyle_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"centerFeature_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"circleFeature_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"arcFeatures_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"aId_\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"currentAngle_\",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,\"ready\",{enumerable:!0,configurable:!0,writable:!0,value:!1});let e=Object.assign({},Bv,t);this.source_=e.source,this.radius_=e.radius,this.center_=e.center,this.startAngle_=e.startAngle,this.arcAngle_=e.arcAngle,this.loop_=e.loop,this.period_=e.period,this.setCenterStyle(e.centerStyle),this.setCircleStyle(e.circleStyle),this.setArcStyle(e.arcStyle),this.init_(),this.ready=!0}init_(t=!1){this.renderArc_(t),this.renderCircle_(t),this.renderCenter_(t)}renderArc_(t=!1){if(!this.arcFeatures_){this.arcFeatures_=[];for(let t=0;t<100;t++){let e=Ev(this.center_,this.radius_,this.currentAngle_-.01*this.arcAngle_*(t+1),this.currentAngle_);e.push(this.center_),e.unshift(this.center_),this.arcFeatures_.push(new Ah({geometry:new Dg([e])}))}this.source_.addFeatures(this.arcFeatures_)}for(let e=0;e<this.arcFeatures_.length;e++){let n=this.arcFeatures_[e];if(t){let t=Ev(this.center_,this.radius_,this.currentAngle_-.01*this.arcAngle_*(e+1),this.currentAngle_);t.push(this.center_),t.unshift(this.center_),n.getGeometry().setCoordinates([t])}let r=[];this.arcStyle_ instanceof Array?r=r.concat(this.arcStyle_):this.arcStyle_ instanceof Function&&(r=this.arcStyle_({target:this,feature:n,index:e}),r instanceof uh&&(r=[r])),n.setStyle(r)}}renderCenter_(t=!1){this.centerFeature_||(this.centerFeature_=new Ah({geometry:new Ig(this.center_)}),this.source_.addFeature(this.centerFeature_)),t&&this.centerFeature_.getGeometry().setCoordinates(this.center_);let e=[];this.centerStyle_ instanceof Array?e=e.concat(this.centerStyle_):this.centerStyle_ instanceof Function&&(e=this.centerStyle_({target:this,feature:this.centerFeature_}),e instanceof uh&&(e=[e])),this.centerFeature_.setStyle(e)}renderCircle_(t=!1){this.circleFeature_||(this.circleFeature_=new Ah({geometry:new py(this.center_,this.radius_)}),this.source_.addFeature(this.circleFeature_)),t&&this.circleFeature_.getGeometry().setCenter(this.center_);let e=[];this.circleStyle_ instanceof Array?e=e.concat(this.circleStyle_):this.circleStyle_ instanceof Function&&(e=this.circleStyle_({target:this,feature:this.circleFeature_}),e instanceof uh&&(e=[e])),this.circleFeature_.setStyle(e)}start(){this.animation_()}end(){window.cancelAnimationFrame(this.aId_)}animation_(){const t=(new Date).getTime(),e=()=>{const n=((new Date).getTime()-t)/(1e3*this.period_);n>1?this.loop_&&this.animation_():(this.currentAngle_=this.startAngle_+n*Math.PI*2,this.init_(!0),this.aId_=window.requestAnimationFrame(e))};e()}setCenter(t){this.center_=t,this.ready&&this.init_(!0)}setRadius(t){this.radius_=t,this.ready&&this.init_(!0)}setStartAngle(t){this.startAngle_=t,this.ready&&this.init_(!0)}setArcAngle(t){this.arcAngle_=t,this.ready&&this.init_(!0)}setPeriod(t){this.period_=t}setLoop(t){this.loop_=t}setSource(t){if(this.source_){this.centerFeature_&&this.source_.removeFeature(this.centerFeature_),this.circleFeature_&&this.source_.removeFeature(this.circleFeature_);for(let t=this.arcFeatures_.length;t>=0;t--)this.arcFeatures_&&this.source_.removeFeature(this.arcFeatures_[t])}this.source_=t,this.centerFeature_&&this.source_.addFeature(this.centerFeature_),this.circleFeature_&&this.source_.addFeature(this.circleFeature_),this.arcFeatures_&&this.source_.addFeatures(this.arcFeatures_)}setCenterStyle(t){t instanceof uh?this.centerStyle_=[t]:t instanceof Function||t instanceof Array?this.centerStyle_=t:t instanceof Object&&(this.centerStyle_=[Iv(t)])}setCircleStyle(t){t instanceof uh?this.circleStyle_=[t]:t instanceof Function||t instanceof Array?this.circleStyle_=t:t instanceof Object&&(this.circleStyle_=[Iv(t)])}setArcStyle(t){t instanceof uh?this.arcStyle_=[t]:t instanceof Function||t instanceof Array?this.arcStyle_=t:t instanceof Object&&(this.arcStyle_=[Iv(t)])}getCenetr(){return this.center_}getRadius(){return this.radius_}getStartAngle(){return this.startAngle_}getArcAngle(){return this.arcAngle_}getLoop(){return this.loop_}getPeriod(){return this.period_}getSource(){return this.source_}getCenterStyle(){return this.centerStyle_}getCircleStyle(){return this.circleStyle_}getArcStyle(){return this.arcStyle_}getCenterFeature(){return this.centerFeature_}getCircleFeature(){return this.circleFeature_}getArcFeatures(){return this.arcFeatures_}getCurrentAngle(){return this.currentAngle_}}});var Vv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function qv(t,e){bh.expire()}var Uv=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n}return Vv(e,t),e.prototype.dispatchRenderEvent=function(t,e){ru()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;sd(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),ad(r,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,s,a){var u,l=e.viewState;function c(t,e,n,r){return i.call(o,e,t?n:null,r)}var h=l.projection,p=Hl(t.slice(),h),f=[[0,0]];if(h.canWrapX()&&r){var d=Il(h.getExtent());f.push([-d,0],[d,0])}for(var g=e.layerStatesArray,y=g.length,v=[],_=[],m=0;m<f.length;m++)for(var b=y-1;b>=0;--b){var x=g[b],w=x.layer;if(w.hasRenderer()&&bf(x,l)&&s.call(a,w)){var E=w.getRenderer(),C=w.getSource();if(E&&C){var S=C.getWrapX()?p:t,O=c.bind(null,x.managed);_[0]=S[0]+f[m][0],_[1]=S[1]+f[m][1],u=E.forEachFeatureAtCoordinate(_,e,n,O,v)}if(u)return u}}if(0!==v.length){var P=1/v.length;return v.forEach((function(t,e){return t.distanceSq+=e*P})),v.sort((function(t,e){return t.distanceSq-e.distanceSq})),v.some((function(t){return u=t.callback(t.feature,t.layer,t.geometry)})),u}},e.prototype.forEachLayerAtPixel=function(t,e,n,r,i){return ru()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,r,Da,this,i,o)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){ru()},e.prototype.scheduleExpireIconCache=function(t){bh.canExpireCache()&&t.postRenderFunctions.push(qv)},e}(Ma),$v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xv=function(t){function e(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=Sa(Ac,Ta,e.redrawText.bind(e)),n.element_=document.createElement(\"div\");var r=n.element_.style;r.position=\"absolute\",r.width=\"100%\",r.height=\"100%\",r.zIndex=\"0\",n.element_.className=\"ol-unselectable ol-layers\";var i=e.getViewport();return i.insertBefore(n.element_,i.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return $v(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var r=new rd(t,void 0,e);n.dispatchEvent(r)}},e.prototype.disposeInternal=function(){Pa(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(t){this.calculateMatrices2D(t),this.dispatchRenderEvent(yf,t);var e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),n=t.viewState;this.children_.length=0;for(var r=[],i=null,o=0,s=e.length;o<s;++o){var a=e[o];t.layerIndex=o;var u=a.layer,l=u.getSourceState();if(!bf(a,n)||l!=Vh&&l!=zh)u.unrender();else{var c=u.render(t,i);c&&(c!==i&&(this.children_.push(c),i=c),\"getDeclutter\"in u&&r.push(u))}}for(o=r.length-1;o>=0;--o)r[o].renderDeclutter(t);!function(t,e){for(var n=t.childNodes,r=0;;++r){var i=n[r],o=e[r];if(!i&&!o)break;i!==o&&(i?o?t.insertBefore(o,i):(t.removeChild(i),--r):t.appendChild(o))}}(this.element_,this.children_),this.dispatchRenderEvent(vf,t),this.renderedVisible_||(this.element_.style.display=\"\",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.element_.style.display=\"none\",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,r,i){for(var o=e.viewState,s=e.layerStatesArray,a=s.length-1;a>=0;--a){var u=s[a],l=u.layer;if(l.hasRenderer()&&bf(u,o)&&i(l)){var c=l.getRenderer().getDataAtPixel(t,e,n);if(c){var h=r(l,c);if(h)return h}}}},e}(Uv),Yv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wv=function(t){function e(e,n){var r=t.call(this,e)||this;return r.layer=n,r}return Yv(e,t),e}(Ia),Hv=\"layers\",Kv=function(t){function e(e){var n=this,r=e||{},i=xa({},r);delete i.layers;var o=r.layers;return(n=t.call(this,i)||this).on,n.once,n.un,n.layersListenerKeys_=[],n.listenerKeys_={},n.addChangeListener(Hv,n.handleLayersChanged_),o?Array.isArray(o)?o=new Dh(o.slice(),{unique:!0}):Au(\"function\"==typeof o.getArray,43):o=new Dh(void 0,{unique:!0}),n.setLayers(o),n}return Yv(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Pa),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Sa(t,Lh,this.handleLayersAdd_,this),Sa(t,Rh,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(Pa);wa(this.listenerKeys_);for(var n=t.getArray(),r=0,i=n.length;r<i;r++){var o=n[r];this.registerLayerListeners_(o),this.dispatchEvent(new Wv(\"addlayer\",o))}this.changed()},e.prototype.registerLayerListeners_=function(t){var n=[Sa(t,Ta,this.handleLayerChange_,this),Sa(t,qa,this.handleLayerChange_,this)];t instanceof e&&n.push(Sa(t,\"addlayer\",this.handleLayerGroupAdd_,this),Sa(t,\"removelayer\",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ou(t)]=n},e.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new Wv(\"addlayer\",t.layer))},e.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new Wv(\"removelayer\",t.layer))},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new Wv(\"addlayer\",e)),this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=ou(e);this.listenerKeys_[n].forEach(Pa),delete this.listenerKeys_[n],this.dispatchEvent(new Wv(\"removelayer\",e)),this.changed()},e.prototype.getLayers=function(){return this.get(Hv)},e.prototype.setLayers=function(t){var e=this.getLayers();if(e)for(var n=e.getArray(),r=0,i=n.length;r<i;++r)this.dispatchEvent(new Wv(\"removelayer\",n[r]));this.set(Hv,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));var r=this.getLayerState(),i=r.zIndex;t||void 0!==r.zIndex||(i=0);for(var o=n,s=e.length;o<s;o++){var a=e[o];a.opacity*=r.opacity,a.visible=a.visible&&r.visible,a.maxResolution=Math.min(a.maxResolution,r.maxResolution),a.minResolution=Math.max(a.minResolution,r.minResolution),a.minZoom=Math.max(a.minZoom,r.minZoom),a.maxZoom=Math.min(a.maxZoom,r.maxZoom),void 0!==r.extent&&(void 0!==a.extent?a.extent=Sl(a.extent,r.extent):a.extent=r.extent),void 0===a.zIndex&&(a.zIndex=i)}return e},e.prototype.getSourceState=function(){return Vh},e}(ff),Zv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jv=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.map=n,i.frameState=void 0!==r?r:null,i}return Zv(e,t),e}(Ia),Qv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),t_=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,o)||this;return s.originalEvent=r,s.pixel_=null,s.coordinate_=null,s.dragging=void 0!==i&&i,s}return Qv(e,t),Object.defineProperty(e.prototype,\"pixel\",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"coordinate\",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),\"preventDefault\"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),\"stopPropagation\"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(Jv),e_=\"pointermove\",n_=\"pointerdown\",r_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i_=function(t){function e(e,n){var r=t.call(this,e)||this;r.map_=e,r.clickTimeoutId_,r.emulateClicks_=!1,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=void 0===n?1:n,r.down_=null;var i=r.map_.getViewport();return r.activePointers_=0,r.trackedTouches_={},r.element_=i,r.pointerdownListenerKey_=Sa(i,n_,r.handlePointerDown_,r),r.originalPointerMoveEvent_,r.relayedListenerKey_=Sa(i,e_,r.relayEvent_,r),r.boundHandleTouchMove_=r.handleTouchMove_.bind(r),r.element_.addEventListener(Ja,r.boundHandleTouchMove_,!!Iu&&{passive:!1}),r}return r_(e,t),e.prototype.emulateClick_=function(t){var e=new t_(vu.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new t_(vu.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new t_(vu.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==vu.POINTERUP||e.type==vu.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==vu.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new t_(vu.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(Pa),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(t);var e=new t_(vu.POINTERDOWN,this.map_,t);for(var n in this.dispatchEvent(e),this.down_={},t){var r=t[n];this.down_[n]=\"function\"==typeof r?Ga:r}if(0===this.dragListenerKeys_.length){var i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Sa(i,vu.POINTERMOVE,this.handlePointerMove_,this),Sa(i,vu.POINTERUP,this.handlePointerUp_,this),Sa(this.element_,vu.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(Sa(this.element_.getRootNode(),vu.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new t_(vu.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new t_(t.type,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){var e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||\"boolean\"==typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Pa(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Ja,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Pa(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Pa),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(Va),o_=\"layergroup\",s_=\"size\",a_=\"target\",u_=\"view\",l_=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,wa(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(n);return delete this.queuedElements_[r],n},t.prototype.enqueue=function(t){Au(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,r=e.length,i=e[t],o=n[t],s=t;t<r>>1;){var a=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),l=u<r&&n[u]<n[a]?u:a;e[t]=e[l],n[t]=n[l],t=l}e[t]=i,n[t]=o,this.siftDown_(s,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,r=this.priorities_,i=n[e],o=r[e];e>t;){var s=this.getParentIndex_(e);if(!(r[s]>o))break;n[e]=n[s],r[e]=r[s],e=s}n[e]=i,r[e]=o},t.prototype.reprioritize=function(){var t,e,n,r=this.priorityFunction_,i=this.elements_,o=this.priorities_,s=0,a=i.length;for(e=0;e<a;++e)(n=r(t=i[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(o[s]=n,i[s++]=t);i.length=s,o.length=s,this.heapify_()},t}(),c_=0,h_=1,p_=2,f_=3,d_=4,g_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y_=function(t){function e(e,n){var r=t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()}))||this;return r.boundHandleTileChange_=r.handleTileChange.bind(r),r.tileChangeCallback_=n,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return g_(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);n&&e[0].addEventListener(qa,this.boundHandleTileChange_);return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===p_||n===f_||n===d_){e.removeEventListener(qa,this.boundHandleTileChange_);var r=e.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,r,i=0;this.tilesLoading_<t&&i<e&&this.getCount()>0;)r=(n=this.dequeue()[0]).getKey(),n.getState()!==c_||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++i,n.load())},e}(l_);var v_={CENTER:\"center\",RESOLUTION:\"resolution\",ROTATION:\"rotation\"};function __(t,e,n){return function(r,i,o,s,a){if(r){if(!i&&!e)return r;var u=e?0:o[0]*i,l=e?0:o[1]*i,c=a?a[0]:0,h=a?a[1]:0,p=t[0]+u/2+c,f=t[2]-u/2+c,d=t[1]+l/2+h,g=t[3]-l/2+h;p>f&&(f=p=(f+p)/2),d>g&&(g=d=(g+d)/2);var y=Ll(r[0],p,f),v=Ll(r[1],d,g);if(s&&n&&i){var _=30*i;y+=-_*Math.log(1+Math.max(0,p-r[0])/_)+_*Math.log(1+Math.max(0,r[0]-f)/_),v+=-_*Math.log(1+Math.max(0,d-r[1])/_)+_*Math.log(1+Math.max(0,r[1]-g)/_)}return[y,v]}}}function m_(t){return t}function b_(t,e,n,r){var i=Il(e)/n[0],o=Cl(e)/n[1];return r?Math.min(t,Math.max(i,o)):Math.min(t,Math.min(i,o))}function x_(t,e,n){var r=Math.min(t,e);return r*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/t-1))/50+1),Ll(r,n/2,2*e)}function w_(t,e,n,r,i){return function(o,s,a,u){if(void 0!==o){var l=r?b_(t,r,a,i):t;return(void 0===n||n)&&u?x_(o,l,e):Ll(o,e,l)}}}function E_(t){return void 0!==t?0:void 0}function C_(t){return void 0!==t?t:void 0}var S_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function O_(t,e){setTimeout((function(){t(e)}),0)}function P_(t){return!(t.sourceCenter&&t.targetCenter&&!Ul(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}function I_(t,e,n,r,i){var o=Math.cos(-i),s=Math.sin(-i),a=t[0]*o-t[1]*s,u=t[1]*o+t[0]*s;return[(a+=(e[0]/2-n[0])*r)*o-(u+=(n[1]-e[1]/2)*r)*(s=-s),u*o+a*s]}var T_=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var r=xa({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=mp(r.projection,\"EPSG:3857\"),n.viewportSize_=[100,100],n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.nextCenter_=null,n.nextResolution_,n.nextRotation_,n.cancelAnchor_=void 0,r.projection&&pp(),r.center&&(r.center=Ap(r.center,n.projection_)),r.extent&&(r.extent=Rp(r.extent,n.projection_)),n.applyOptions_(r),n}return S_(e,t),e.prototype.applyOptions_=function(t){var e=xa({},t);for(var n in v_)delete e[n];this.setProperties(e,!0);var r=function(t){var e,n,r,i=void 0!==t.minZoom?t.minZoom:0,o=void 0!==t.maxZoom?t.maxZoom:28,s=void 0!==t.zoomFactor?t.zoomFactor:2,a=void 0!==t.multiWorld&&t.multiWorld,u=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,l=void 0!==t.showFullExtent&&t.showFullExtent,c=mp(t.projection,\"EPSG:3857\"),h=c.getExtent(),p=t.constrainOnlyCenter,f=t.extent;a||f||!c.isGlobal()||(p=!1,f=h);if(void 0!==t.resolutions){var d=t.resolutions;n=d[i],r=void 0!==d[o]?d[o]:d[d.length-1],e=t.constrainResolution?function(t,e,n,r){return function(i,o,s,a){if(void 0!==i){var u=t[0],l=t[t.length-1],c=n?b_(u,n,s,r):u;if(a)return void 0===e||e?x_(i,c,l):Ll(i,l,c);var h=Math.min(c,i),p=Math.floor(Ra(t,h,o));return t[p]>c&&p<t.length-1?t[p+1]:t[p]}}}(d,u,!p&&f,l):w_(n,r,u,!p&&f,l)}else{var g=(h?Math.max(Il(h),Cl(h)):360*Uh[$h.DEGREES]/c.getMetersPerUnit())/256/Math.pow(2,0),y=g/Math.pow(2,28);void 0!==(n=t.maxResolution)?i=0:n=g/Math.pow(s,i),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(s,o):g/Math.pow(s,o):y),o=i+Math.floor(Math.log(n/r)/Math.log(s)),r=n/Math.pow(s,o-i),e=t.constrainResolution?function(t,e,n,r,i,o){return function(s,a,u,l){if(void 0!==s){var c=i?b_(e,i,u,o):e,h=void 0!==n?n:0;if(l)return void 0===r||r?x_(s,c,h):Ll(s,h,c);var p=Math.ceil(Math.log(e/c)/Math.log(t)-1e-9),f=-a*(.5-1e-9)+.5,d=Math.min(c,s),g=Math.floor(Math.log(e/d)/Math.log(t)+f),y=Math.max(p,g);return Ll(e/Math.pow(t,y),h,c)}}}(s,n,r,u,!p&&f,l):w_(n,r,u,!p&&f,l)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:i,zoomFactor:s}}(t);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=r.minZoom;var i=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return __(t.extent,t.constrainOnlyCenter,e)}var n=mp(t.projection,\"EPSG:3857\");if(!0!==t.multiWorld&&n.isGlobal()){var r=n.getExtent().slice();return r[0]=-1/0,r[2]=1/0,__(r,!1,!1)}return m_}(t),o=r.constraint,s=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(o=i||Dl(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=o?0:t:void 0}):!1===e?C_:\"number\"==typeof e?(n=e,r=2*Math.PI/n,function(t,e){return e?t:void 0!==t?t=Math.floor(t/r+.5)*r:void 0}):C_}return E_;var n,r;var i,o}(t);this.constraints_={center:i,resolution:o,rotation:s},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)},Object.defineProperty(e.prototype,\"padding\",{get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var n=this.getCenter();if(n){var r=t||[0,0,0,0];e=e||[0,0,0,0];var i=this.getResolution(),o=i/2*(r[3]-e[3]+e[1]-r[1]),s=i/2*(r[0]-e[0]+e[2]-r[2]);this.setCenterInternal([n[0]+o,n[1]-s])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),xa({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var r=arguments[n];r.center&&((r=xa({},r)).center=Ap(r.center,this.getProjection())),r.anchor&&((r=xa({},r)).anchor=Ap(r.anchor,this.getProjection())),e[n]=r}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;n>1&&\"function\"==typeof arguments[n-1]&&(e=arguments[n-1],--n);for(var r=0;r<n&&!this.isDef();++r){var i=arguments[r];i.center&&this.setCenterInternal(i.center),void 0!==i.zoom?this.setZoom(i.zoom):i.resolution&&this.setResolution(i.resolution),void 0!==i.rotation&&this.setRotation(i.rotation)}if(r!==n){for(var o=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,u=this.targetRotation_,l=[];r<n;++r){var c=arguments[r],h={start:o,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||pu,callback:e};if(c.center&&(h.sourceCenter=s,h.targetCenter=c.center.slice(),s=h.targetCenter),void 0!==c.zoom?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(c.zoom),a=h.targetResolution):c.resolution&&(h.sourceResolution=a,h.targetResolution=c.resolution,a=h.targetResolution),void 0!==c.rotation){h.sourceRotation=u;var p=kl(c.rotation-u+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=u+p,u=h.targetRotation}P_(h)?h.complete=!0:o+=h.duration,l.push(h)}this.animations_.push(l),this.setHint(Dd,1),this.updateAnimations_()}else e&&O_(e,!0)},e.prototype.getAnimating=function(){return this.hints_[Dd]>0},e.prototype.getInteracting=function(){return this.hints_[kd]>0},e.prototype.cancelAnimations=function(){var t;this.setHint(Dd,-this.hints_[Dd]);for(var e=0,n=this.animations_.length;e<n;++e){var r=this.animations_[e];if(r[0].callback&&O_(r[0].callback,!1),!t)for(var i=0,o=r.length;i<o;++i){var s=r[i];if(!s.complete){t=s.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var r=this.animations_[n],i=!0,o=0,s=r.length;o<s;++o){var a=r[o];if(!a.complete){var u=t-a.start,l=a.duration>0?u/a.duration:1;l>=1?(a.complete=!0,l=1):i=!1;var c=a.easing(l);if(a.sourceCenter){var h=a.sourceCenter[0],p=a.sourceCenter[1],f=a.targetCenter[0],d=a.targetCenter[1];this.nextCenter_=a.targetCenter;var g=h+c*(f-h),y=p+c*(d-p);this.targetCenter_=[g,y]}if(a.sourceResolution&&a.targetResolution){var v=1===c?a.targetResolution:a.sourceResolution+c*(a.targetResolution-a.sourceResolution);if(a.anchor){var _=this.getViewportSize_(this.getRotation()),m=this.constraints_.resolution(v,0,_,!0);this.targetCenter_=this.calculateCenterZoom(m,a.anchor)}this.nextResolution_=a.targetResolution,this.targetResolution_=v,this.applyTargetState_(!0)}if(void 0!==a.sourceRotation&&void 0!==a.targetRotation){var b=1===c?kl(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+c*(a.targetRotation-a.sourceRotation);if(a.anchor){var x=this.constraints_.rotation(b,!0);this.targetCenter_=this.calculateCenterRotate(x,a.anchor)}this.nextRotation_=a.targetRotation,this.targetRotation_=b}if(this.applyTargetState_(!0),e=!0,!a.complete)break}}if(i){this.animations_[n]=null,this.setHint(Dd,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var w=r[0].callback;w&&O_(w,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,r,i,o=this.getCenterInternal();return void 0!==o&&($l(n=[o[0]-e[0],o[1]-e[1]],t-this.getRotation()),i=e,(r=n)[0]+=+i[0],r[1]+=+i[1]),n},e.prototype.calculateCenterZoom=function(t,e){var n,r=this.getCenterInternal(),i=this.getResolution();void 0!==r&&void 0!==i&&(n=[e[0]-t*(e[0]-r[0])/i,e[1]-t*(e[1]-r[1])/i]);return n},e.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var n=e[0],r=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(r*Math.cos(t))]}return e},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?Mp(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(v_.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.get(\"constrainResolution\")},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){return Lp(this.calculateExtentInternal(t),this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSizeMinusPadding_(),n=this.getCenterInternal();Au(n,1);var r=this.getResolution();Au(void 0!==r,2);var i=this.getRotation();return Au(void 0!==i,3),El(n,r,i,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(v_.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(Rp(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getViewportSizeMinusPadding_(),r=Il(t)/n[0],i=Cl(t)/n[1];return Math.max(r,i)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(t){return n/Math.pow(e,t*i)}},e.prototype.getRotation=function(){return this.get(v_.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/e;return function(t){return Math.log(n/t)/e/i}},e.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e},e.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),n=this.getRotation(),r=this.getCenterInternal(),i=this.padding_;if(i){var o=this.getViewportSizeMinusPadding_();r=I_(r,this.getViewportSize_(),[o[0]/2+i[3],o[1]/2+i[0]],e,n)}return{center:r.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,r=this.minZoom_||0;if(this.resolutions_){var i=Ra(this.resolutions_,t,1);r=i,e=this.resolutions_[i],n=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=Ll(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,Ll(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n;if(Au(Array.isArray(t)||\"function\"==typeof t.getSimplifiedGeometry,24),Array.isArray(t))Au(!Ml(t),25),n=kg(r=Rp(t,this.getProjection()));else if(t.getType()===eh){var r;(n=kg(r=Rp(t.getExtent(),this.getProjection()))).rotate(this.getRotation(),xl(r))}else{var i=Tp();n=i?t.clone().transform(i,this.getProjection()):t}this.fitInternal(n,e)},e.prototype.rotatedExtentForGeometry=function(t){for(var e=this.getRotation(),n=Math.cos(e),r=Math.sin(-e),i=t.getFlatCoordinates(),o=t.getStride(),s=1/0,a=1/0,u=-1/0,l=-1/0,c=0,h=i.length;c<h;c+=o){var p=i[c]*n-i[c+1]*r,f=i[c]*r+i[c+1]*n;s=Math.min(s,p),a=Math.min(a,f),u=Math.max(u,p),l=Math.max(l,f)}return[s,a,u,l]},e.prototype.fitInternal=function(t,e){var n=e||{},r=n.size;r||(r=this.getViewportSizeMinusPadding_());var i,o=void 0!==n.padding?n.padding:[0,0,0,0],s=void 0!==n.nearest&&n.nearest;i=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;var a=this.rotatedExtentForGeometry(t),u=this.getResolutionForExtentInternal(a,[r[0]-o[1]-o[3],r[1]-o[0]-o[2]]);u=isNaN(u)?i:Math.max(u,i),u=this.getConstrainedResolution(u,s?0:1);var l=this.getRotation(),c=Math.sin(l),h=Math.cos(l),p=xl(a);p[0]+=(o[1]-o[3])/2*u,p[1]+=(o[0]-o[2])/2*u;var f=p[0]*h-p[1]*c,d=p[1]*h+p[0]*c,g=this.getConstrainedCenter([f,d],u),y=n.callback?n.callback:Ga;void 0!==n.duration?this.animateInternal({resolution:u,center:g,duration:n.duration,easing:n.easing},y):(this.targetResolution_=u,this.targetCenter_=g,this.applyTargetState_(!1,!0),O_(y,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(Ap(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){this.setCenterInternal(I_(t,e,n,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,e,n,r){var i,o=this.padding_;if(o&&t){var s=this.getViewportSizeMinusPadding_(-n),a=I_(t,r,[s[0]/2+o[3],s[1]/2+o[0]],e,n);i=[t[0]-a[0],t[1]-a[1]]}return i},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=Mp(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&Ap(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,r,n);e&&(this.targetCenter_=this.calculateCenterZoom(i,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=Ap(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(r,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(t?Ap(t,this.getProjection()):t)},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,r=this.constraints_.rotation(this.targetRotation_,n),i=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,i,n),s=this.constraints_.center(this.targetCenter_,o,i,n,this.calculateCenterShift(this.targetCenter_,o,r,i));this.get(v_.ROTATION)!==r&&this.set(v_.ROTATION,r),this.get(v_.RESOLUTION)!==o&&(this.set(v_.RESOLUTION,o),this.set(\"zoom\",this.getZoom(),!0)),s&&this.get(v_.CENTER)&&Ul(this.get(v_.CENTER),s)||this.set(v_.CENTER,s),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,e,n){var r=void 0!==t?t:200,i=e||0,o=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,i,s),u=this.constraints_.center(this.targetCenter_,a,s,!1,this.calculateCenterShift(this.targetCenter_,a,o,s));if(0===r&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=o,this.targetCenter_=u,void this.applyTargetState_();var l=n||(0===r?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===a&&this.getRotation()===o&&this.getCenterInternal()&&Ul(this.getCenterInternal(),u)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:u,resolution:a,duration:r,easing:hu,anchor:l}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(kd,1)},e.prototype.endInteraction=function(t,e,n){var r=n&&Ap(n,this.getProjection());this.endInteractionInternal(t,e,r)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(kd,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,r)},e}(uu),M_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function A_(t){t instanceof xf?t.setMapInternal(null):t instanceof Kv&&t.getLayers().forEach(A_)}var L_=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var r=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e=\"string\"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,r,i,o={},s=t.layers&&\"function\"==typeof t.layers.getLayers?t.layers:new Kv({layers:t.layers});o[o_]=s,o[a_]=t.target,o[u_]=t.view instanceof T_?t.view:new T_,void 0!==t.controls&&(Array.isArray(t.controls)?n=new Dh(t.controls.slice()):(Au(\"function\"==typeof t.controls.getArray,47),n=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?r=new Dh(t.interactions.slice()):(Au(\"function\"==typeof t.interactions.getArray,48),r=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?i=new Dh(t.overlays.slice()):(Au(\"function\"==typeof t.overlays.getArray,49),i=t.overlays):i=new Dh;return{controls:n,interactions:r,keyboardEventTarget:e,overlays:i,values:o}}(e);n.renderComplete_,n.loaded_=!0,n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:Su,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement(\"div\"),n.viewport_.className=\"ol-viewport\"+(\"ontouchstart\"in window?\" ol-touch\":\"\"),n.viewport_.style.position=\"relative\",n.viewport_.style.overflow=\"hidden\",n.viewport_.style.width=\"100%\",n.viewport_.style.height=\"100%\",n.overlayContainer_=document.createElement(\"div\"),n.overlayContainer_.style.position=\"absolute\",n.overlayContainer_.style.zIndex=\"0\",n.overlayContainer_.style.width=\"100%\",n.overlayContainer_.style.height=\"100%\",n.overlayContainer_.style.pointerEvents=\"none\",n.overlayContainer_.className=\"ol-overlaycontainer\",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement(\"div\"),n.overlayContainerStopEvent_.style.position=\"absolute\",n.overlayContainerStopEvent_.style.zIndex=\"0\",n.overlayContainerStopEvent_.style.width=\"100%\",n.overlayContainerStopEvent_.style.height=\"100%\",n.overlayContainerStopEvent_.style.pointerEvents=\"none\",n.overlayContainerStopEvent_.className=\"ol-overlaycontainer-stopevent\",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=r.keyboardEventTarget,n.targetChangeHandlerKeys_=null,n.controls=r.controls||new Dh,n.interactions=r.interactions||new Dh,n.overlays_=r.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new y_(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener(o_,n.handleLayerGroupChanged_),n.addChangeListener(u_,n.handleViewChanged_),n.addChangeListener(s_,n.handleSizeChanged_),n.addChangeListener(a_,n.handleTargetChanged_),n.setProperties(r.values);var i=n;return!e.view||e.view instanceof T_||e.view.then((function(t){i.setView(new T_(t))})),n.controls.addEventListener(Lh,function(t){t.element.setMap(this)}.bind(n)),n.controls.addEventListener(Rh,function(t){t.element.setMap(null)}.bind(n)),n.interactions.addEventListener(Lh,function(t){t.element.setMap(this)}.bind(n)),n.interactions.addEventListener(Rh,function(t){t.element.setMap(null)}.bind(n)),n.overlays_.addEventListener(Lh,function(t){this.addOverlayInternal_(t.element)}.bind(n)),n.overlays_.addEventListener(Rh,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(n)),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n}return M_(e,t),e.prototype.createRenderer=function(){throw new Error(\"Use a map type that has a createRenderer method\")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.handleLayerAdd_=function(t){!function t(e,n){if(e instanceof xf)e.setMapInternal(n);else if(e instanceof Kv)for(var r=e.getLayers().getArray(),i=0,o=r.length;i<o;++i)t(r[i],n)}(t.layer,this)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_&&this.renderer_){var r=this.getCoordinateFromPixelInternal(t),i=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,o=void 0!==n.layerFilter?n.layerFilter:Da,s=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,i,s,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n},e.prototype.getAllLayers=function(){var t=[];return function e(n){n.forEach((function(n){n instanceof Kv?e(n.getLayers()):t.push(n)}))}(this.getLayers()),t},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_&&this.renderer_){var r=n||{},i=void 0!==r.hitTolerance?r.hitTolerance:0,o=r.layerFilter||Da;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,i,e,o)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_||!this.renderer_)return!1;var n=this.getCoordinateFromPixelInternal(t),r=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:Da,i=void 0!==e.hitTolerance?e.hitTolerance:0,o=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,i,o,r,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n=\"changedTouches\"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(a_)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?\"string\"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return Mp(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?od(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(o_)},e.prototype.setLayers=function(t){var e=this.getLayerGroup();if(t instanceof Dh)e.setLayers(t);else{var n=e.getLayers();n.clear(),n.extend(t)}},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e];if(r.visible){var i=r.layer.getRenderer();if(i&&!i.ready)return!0;var o=r.layer.getSource();if(o&&o.loading)return!0}}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=Ap(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?od(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(s_)},e.prototype.getView=function(){return this.get(u_)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,e,n,r){return function(t,e,n,r,i){if(!t||!(n in t.wantedTiles))return 1/0;if(!t.wantedTiles[n][e.getKey()])return 1/0;var o=t.viewState.center,s=r[0]-o[0],a=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(s*s+a*a)/i}(this.frameState_,t,e,n,r)},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,r=new t_(n,this,t);this.handleMapBrowserEvent(r)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent,n=e.type;if(n===n_||n===Qa||n===Wa){var r=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():r,o=e.target;if(this.overlayContainerStopEvent_.contains(o)||!(i===r?r.documentElement:i).contains(o))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t))for(var s=this.getInteractions().getArray().slice(),a=s.length-1;a>=0;a--){var u=s[a];if(u.getMap()===this&&u.getActive()&&this.getTargetElement())if(!u.handleEvent(t)||t.propagationStopped)break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,r=n;if(t){var i=t.viewHints;if(i[Dd]||i[kd]){var o=Date.now()-t.time>8;n=o?0:8,r=o?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,r))}t&&this.renderer_&&!t.animate&&(!0===this.renderComplete_?(this.hasListener(_f)&&this.renderer_.dispatchRenderEvent(_f,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new Jv($g,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new Jv(Ug,this,t))));for(var s=this.postRenderFunctions_,a=0,u=s.length;a<u;++a)s[a](this,t);s.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)Pa(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener($a,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Qa,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Ec(this.viewport_)}var n=this.getTargetElement();if(n){for(var r in n.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new i_(this,this.moveTolerance_),vu)this.mapBrowserEventHandler_.addEventListener(vu[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener($a,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Qa,this.boundHandleBrowserEvent_,!!Iu&&{passive:!1});var i=this.getOwnerDocument().defaultView,o=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[Sa(o,Wa,this.handleBrowserEvent,this),Sa(o,Ha,this.handleBrowserEvent,this),Sa(i,Za,this.updateSize,this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Pa(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Pa(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Sa(t,Ta,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Sa(t,qa,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Pa),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Wv(\"addlayer\",t)),this.layerGroupPropertyListenerKeys_=[Sa(t,Ta,this.render,this),Sa(t,qa,this.render,this),Sa(t,\"addlayer\",this.handleLayerAdd_,this),Sa(t,\"removelayer\",this.handleLayerRemove_,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.handleLayerRemove_=function(t){A_(t.layer)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this,n=this.getSize(),r=this.getView(),i=this.frameState_,o=null;if(void 0!==n&&oc(n)&&r&&r.isDef()){var s=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=r.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:El(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:s,wantedTiles:{},mapId:ou(this),renderTargets:{}},a.nextCenter&&a.nextResolution){var u=isNaN(a.nextRotation)?a.rotation:a.nextRotation;o.nextExtent=El(a.nextCenter,a.nextResolution,u,n)}}if(this.frameState_=o,this.renderer_.renderFrame(o),o){if(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),i)(!this.previousExtent_||!Ml(this.previousExtent_)&&!fl(o.extent,this.previousExtent_))&&(this.dispatchEvent(new Jv(Vg,this,i)),this.previousExtent_=cl(this.previousExtent_));this.previousExtent_&&!o.viewHints[Dd]&&!o.viewHints[kd]&&!fl(o.extent,this.previousExtent_)&&(this.dispatchEvent(new Jv(qg,this,o)),nl(o.extent,this.previousExtent_))}this.dispatchEvent(new Jv(zg,this,o)),this.renderComplete_=this.hasListener(Ug)||this.hasListener($g)||this.hasListener(_f)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()}),0))},e.prototype.setLayerGroup=function(t){var e=this.getLayerGroup();e&&this.handleLayerRemove_(new Wv(\"removelayer\",e)),this.set(o_,t)},e.prototype.setSize=function(t){this.set(s_,t)},e.prototype.setTarget=function(t){this.set(a_,t)},e.prototype.setView=function(t){if(!t||t instanceof T_)this.set(u_,t);else{this.set(u_,new T_);var e=this;t.then((function(t){e.setView(new T_(t))}))}},e.prototype.updateSize=function(){var t=this.getTargetElement(),e=void 0;if(t){var n=getComputedStyle(t),r=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),i=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(r)||isNaN(i)||!oc(e=[r,i])&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn(\"No map visible because the map container's width or height are 0.\")}this.setSize(e),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}},e}(uu),R_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),N_=function(t){function e(e){var n=t.call(this)||this,r=e.element;return!r||e.target||r.style.pointerEvents||(r.style.pointerEvents=\"auto\"),n.element=r||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return R_(e,t),e.prototype.disposeInternal=function(){Ec(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Ec(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Pa(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,t)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Ga&&this.listenerKeys.push(Sa(t,zg,this.render,this)),t.render())},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_=\"string\"==typeof t?document.getElementById(t):t},e}(uu),F_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),j_=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{element:document.createElement(\"div\"),render:r.render,target:r.target})||this).ulElement_=document.createElement(\"ul\"),n.collapsed_=void 0===r.collapsed||r.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==r.collapsible,n.collapsible_=void 0===r.collapsible||r.collapsible,n.collapsible_||(n.collapsed_=!1);var i=void 0!==r.className?r.className:\"ol-attribution\",o=void 0!==r.tipLabel?r.tipLabel:\"Attributions\",s=void 0!==r.expandClassName?r.expandClassName:i+\"-expand\",a=void 0!==r.collapseLabel?r.collapseLabel:\"›\",u=void 0!==r.collapseClassName?r.collapseClassName:i+\"-collapse\";\"string\"==typeof a?(n.collapseLabel_=document.createElement(\"span\"),n.collapseLabel_.textContent=a,n.collapseLabel_.className=u):n.collapseLabel_=a;var l=void 0!==r.label?r.label:\"i\";\"string\"==typeof l?(n.label_=document.createElement(\"span\"),n.label_.textContent=l,n.label_.className=s):n.label_=l;var c=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_;n.toggleButton_=document.createElement(\"button\"),n.toggleButton_.setAttribute(\"type\",\"button\"),n.toggleButton_.setAttribute(\"aria-expanded\",String(!n.collapsed_)),n.toggleButton_.title=o,n.toggleButton_.appendChild(c),n.toggleButton_.addEventListener(Xa,n.handleClick_.bind(n),!1);var h=i+\" ol-unselectable ol-control\"+(n.collapsed_&&n.collapsible_?\" ol-collapsed\":\"\")+(n.collapsible_?\"\":\" ol-uncollapsible\"),p=n.element;return p.className=h,p.appendChild(n.toggleButton_),p.appendChild(n.ulElement_),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return F_(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],r=!0,i=t.layerStatesArray,o=0,s=i.length;o<s;++o){var a=i[o];if(bf(a,t.viewState)){var u=a.layer.getSource();if(u){var l=u.getAttributions();if(l){var c=l(t);if(c)if(r=r&&!1!==u.getAttributionsCollapsible(),Array.isArray(c))for(var h=0,p=c.length;h<p;++h)c[h]in e||(n.push(c[h]),e[c[h]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(r),n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?\"\":\"none\",this.renderedVisible_=n),!ja(e,this.renderedAttributions_)){Cc(this.ulElement_);for(var r=0,i=e.length;r<i;++r){var o=document.createElement(\"li\");o.innerHTML=e[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display=\"none\",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(\"ol-collapsed\"),this.collapsed_?wc(this.collapseLabel_,this.label_):wc(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute(\"aria-expanded\",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle(\"ol-uncollapsible\"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(N_),D_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k_=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement(\"div\"),render:r.render,target:r.target})||this;var i=void 0!==r.className?r.className:\"ol-rotate\",o=void 0!==r.label?r.label:\"⇧\",s=void 0!==r.compassClassName?r.compassClassName:\"ol-compass\";n.label_=null,\"string\"==typeof o?(n.label_=document.createElement(\"span\"),n.label_.className=s,n.label_.textContent=o):(n.label_=o,n.label_.classList.add(s));var a=r.tipLabel?r.tipLabel:\"Reset rotation\",u=document.createElement(\"button\");u.className=i+\"-reset\",u.setAttribute(\"type\",\"button\"),u.title=a,u.appendChild(n.label_),u.addEventListener(Xa,n.handleClick_.bind(n),!1);var l=i+\" ol-unselectable ol-control\",c=n.element;return c.className=l,c.appendChild(u),n.callResetNorth_=r.resetNorth?r.resetNorth:void 0,n.duration_=void 0!==r.duration?r.duration:250,n.autoHide_=void 0===r.autoHide||r.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(\"ol-hidden\"),n}return D_(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:hu}):t.setRotation(0))}},e.prototype.render=function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var r=\"rotate(\"+n+\"rad)\";if(this.autoHide_){var i=this.element.classList.contains(\"ol-hidden\");i||0!==n?i&&0!==n&&this.element.classList.remove(\"ol-hidden\"):this.element.classList.add(\"ol-hidden\")}this.label_.style.transform=r}this.rotation_=n}},e}(N_),G_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B_=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement(\"div\"),target:r.target})||this;var i=void 0!==r.className?r.className:\"ol-zoom\",o=void 0!==r.delta?r.delta:1,s=void 0!==r.zoomInClassName?r.zoomInClassName:i+\"-in\",a=void 0!==r.zoomOutClassName?r.zoomOutClassName:i+\"-out\",u=void 0!==r.zoomInLabel?r.zoomInLabel:\"+\",l=void 0!==r.zoomOutLabel?r.zoomOutLabel:\"–\",c=void 0!==r.zoomInTipLabel?r.zoomInTipLabel:\"Zoom in\",h=void 0!==r.zoomOutTipLabel?r.zoomOutTipLabel:\"Zoom out\",p=document.createElement(\"button\");p.className=s,p.setAttribute(\"type\",\"button\"),p.title=c,p.appendChild(\"string\"==typeof u?document.createTextNode(u):u),p.addEventListener(Xa,n.handleClick_.bind(n,o),!1);var f=document.createElement(\"button\");f.className=a,f.setAttribute(\"type\",\"button\"),f.title=h,f.appendChild(\"string\"==typeof l?document.createTextNode(l):l),f.addEventListener(Xa,n.handleClick_.bind(n,-o),!1);var d=i+\" ol-unselectable ol-control\",g=n.element;return g.className=d,g.appendChild(p),g.appendChild(f),n.duration_=void 0!==r.duration?r.duration:250,n}return G_(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var r=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:r,duration:this.duration_,easing:hu})):e.setZoom(r)}}},e}(N_);var z_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),V_=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,{stopDown:ka})||this).condition_=r.condition?r.condition:Ru,n.lastAngle_=void 0,n.duration_=void 0!==r.duration?r.duration:250,n}return z_(e,t),e.prototype.handleDragEvent=function(t){if(Vu(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==E_){var r=e.getSize(),i=t.pixel,o=Math.atan2(r[1]/2-i[1],i[0]-r[0]/2);if(void 0!==this.lastAngle_){var s=o-this.lastAngle_;n.adjustRotationInternal(-s)}this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){return!Vu(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!!Vu(t)&&(!(!ju(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},e}(bu),q_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),U_=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement(\"div\"),n.element_.style.position=\"absolute\",n.element_.style.pointerEvents=\"auto\",n.element_.className=\"ol-box \"+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return q_(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+\"px\",n.top=Math.min(t[1],e[1])+\"px\",n.width=Math.abs(e[0]-t[0])+\"px\",n.height=Math.abs(e[1]-t[1])+\"px\"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=\"inherit\",e.top=\"inherit\",e.width=\"inherit\",e.height=\"inherit\"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Dg([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(Ma),$_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),X_=\"boxstart\",Y_=\"boxdrag\",W_=\"boxend\",H_=\"boxcancel\",K_=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.coordinate=n,i.mapBrowserEvent=r,i}return $_(e,t),e}(Ia),Z_=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var r=e||{};return n.box_=new U_(r.className||\"ol-dragbox\"),n.minArea_=void 0!==r.minArea?r.minArea:64,r.onBoxEnd&&(n.onBoxEnd=r.onBoxEnd),n.startPixel_=null,n.condition_=r.condition?r.condition:ju,n.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:n.defaultBoxEndCondition,n}return $_(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var r=n[0]-e[0],i=n[1]-e[1];return r*r+i*i>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new K_(Y_,t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new K_(e?W_:H_,t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new K_(X_,t.coordinate,t)),!0)},e.prototype.onBoxEnd=function(t){},e}(bu),J_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Q_=function(t){function e(e){var n=this,r=e||{},i=r.condition?r.condition:Bu;return(n=t.call(this,{condition:i,className:r.className||\"ol-dragzoom\",minArea:r.minArea})||this).duration_=void 0!==r.duration?r.duration:200,n.out_=void 0!==r.out&&r.out,n}return J_(e,t),e.prototype.onBoxEnd=function(t){var e=this.getMap().getView(),n=this.getGeometry();if(this.out_){var r=e.rotatedExtentForGeometry(n),i=e.getResolutionForExtentInternal(r),o=e.getResolution()/i;(n=n.clone()).scale(o*o)}e.fitInternal(n,{duration:this.duration_,easing:hu})},e}(Z_),tm=37,em=38,nm=39,rm=40,im=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),om=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.defaultCondition_=function(t){return Gu(t)&&zu(t)},n.condition_=void 0!==r.condition?r.condition:n.defaultCondition_,n.duration_=void 0!==r.duration?r.duration:100,n.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128,n}return im(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==Wa){var n=t.originalEvent,r=n.keyCode;if(this.condition_(t)&&(r==rm||r==tm||r==nm||r==em)){var i=t.map.getView(),o=i.getResolution()*this.pixelDelta_,s=0,a=0;r==rm?a=-o:r==tm?s=-o:r==nm?s=o:a=o;var u=[s,a];$l(u,i.getRotation()),function(t,e,n){var r=t.getCenterInternal();if(r){var i=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:fu,center:t.getConstrainedCenter(i)})}}(i,u,this.duration_),n.preventDefault(),e=!0}}return!e},e}(yu),sm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),am=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.condition_=r.condition?r.condition:zu,n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:100,n}return sm(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==Wa||t.type==Ha){var n=t.originalEvent,r=n.charCode;if(this.condition_(t)&&(r==\"+\".charCodeAt(0)||r==\"-\".charCodeAt(0))){var i=t.map,o=r==\"+\".charCodeAt(0)?this.delta_:-this.delta_;gu(i.getView(),o,void 0,this.duration_),n.preventDefault(),e=!0}}return!e},e}(yu),um=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var r=this.points_[e+2]-this.points_[n+2];if(r<1e3/60)return!1;var i=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/r,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),lm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cm=\"trackpad\",hm=\"wheel\",pm=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,r)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==r.maxDelta?r.maxDelta:1,n.duration_=void 0!==r.duration?r.duration:250,n.timeout_=void 0!==r.timeout?r.timeout:80,n.useAnchor_=void 0===r.useAnchor||r.useAnchor,n.constrainResolution_=void 0!==r.constrainResolution&&r.constrainResolution;var i=r.condition?r.condition:Fu;return n.condition_=r.onFocusOnly?Lu(Nu,i):i,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.deltaPerZoom_=300,n}return lm(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==Qa)return!0;var e,n=t.map,r=t.originalEvent;if(r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==Qa&&(e=r.deltaY,wu&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=Su),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var i=Date.now();void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?cm:hm);var o=n.getView();if(this.mode_===cm&&!o.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=i,!1;this.totalDelta_+=e;var s=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),s),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=-Ll(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),gu(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(yu),fm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dm=function(t){function e(e){var n=this,r=e||{},i=r;return i.stopDown||(i.stopDown=ka),(n=t.call(this,i)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==r.threshold?r.threshold:.3,n.duration_=void 0!==r.duration?r.duration:250,n}return fm(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],r=this.targetPointers[1],i=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=i-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=i;var s=t.map,a=s.getView();if(a.getConstraints().rotation!==E_){var u=s.getViewport().getBoundingClientRect(),l=mu(this.targetPointers);l[0]-=u.left,l[1]-=u.top,this.anchor_=s.getCoordinateFromPixelInternal(l),this.rotating_&&(s.render(),a.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(bu),gm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ym=function(t){function e(e){var n=this,r=e||{},i=r;return i.stopDown||(i.stopDown=ka),(n=t.call(this,i)||this).anchor_=null,n.duration_=void 0!==r.duration?r.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return gm(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],r=this.targetPointers[1],i=n.clientX-r.clientX,o=n.clientY-r.clientY,s=Math.sqrt(i*i+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var a=t.map,u=a.getView();1!=e&&(this.lastScaleDelta_=e);var l=a.getViewport().getBoundingClientRect(),c=mu(this.targetPointers);c[0]-=l.left,c[1]-=l.top,this.anchor_=a.getCoordinateFromPixelInternal(c),a.render(),u.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(bu);var vm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_m=function(t){function e(e){return(e=xa({},e)).controls||(e.controls=function(t){var e=t||{},n=new Dh;return(void 0===e.zoom||e.zoom)&&n.push(new B_(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new k_(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new j_(e.attributionOptions)),n}()),e.interactions||(e.interactions=function(t){var e=t||{},n=new Dh,r=new um(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new V_),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new tc({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new Jl({onFocusOnly:e.onFocusOnly,kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new dm),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new ym({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new om),n.push(new am({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new pm({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new Q_({duration:e.zoomDuration})),n}({onFocusOnly:!0})),t.call(this,e)||this}return vm(e,t),e.prototype.createRenderer=function(){return new Xv(this)},e}(L_),mm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bm=function(t){function e(e,n,r){var i=t.call(this)||this;if(i.ends_=[],i.maxDelta_=-1,i.maxDeltaRevision_=-1,Array.isArray(e[0]))i.setCoordinates(e,n);else if(void 0!==n&&r)i.setFlatCoordinates(n,e),i.ends_=r;else{for(var o=i.getLayout(),s=e,a=[],u=[],l=0,c=s.length;l<c;++l){var h=s[l];0===l&&(o=h.getLayout()),Fa(a,h.getFlatCoordinates()),u.push(a.length)}i.setFlatCoordinates(o,a),i.ends_=u}return i}return mm(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?Fa(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){return r<rl(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ag(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),lg(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=Ud&&this.layout!=$d||0===this.flatCoordinates.length)return null;var r=void 0!==e&&e,i=void 0!==n&&n;return function(t,e,n,r,i,o,s){if(s)return gg(t,e,n[n.length-1],r,i,o);var a;if(i<t[r-1])return o?((a=t.slice(0,r))[r-1]=i,a):null;if(t[t.length-1]<i)return o?((a=t.slice(t.length-r))[r-1]=i,a):null;for(var u=0,l=n.length;u<l;++u){var c=n[u];if(e!=c){if(i<t[e+r-1])return null;if(i<=t[c-1])return gg(t,e,c,r,i,!1);e=c}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,r,i)},e.prototype.getCoordinates=function(){return Rf(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new wg(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,r=[],i=0,o=0,s=e.length;o<s;++o){var a=e[o],u=new wg(t.slice(i,a),n);r.push(u),i=a}return r},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,r=this.ends_,i=this.stride,o=0,s=r.length;o<s;++o){var a=r[o];Fa(t,dg(e,n,a,i,.5)),n=a}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=Vf(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,r),new e(n,Vd,r)},e.prototype.getType=function(){return Jc},e.prototype.intersectsExtent=function(t){return function(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o){if(mg(t,e,n[o],r,i))return!0;e=n[o]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=pg(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(Wd),xm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wm=function(t){function e(e,n){var r=t.call(this)||this;return n&&!Array.isArray(e[0])?r.setFlatCoordinates(n,e):r.setCoordinates(e,n),r}return xm(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?Fa(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){if(r<rl(this.getExtent(),t,e))return r;for(var i=this.flatCoordinates,o=this.stride,s=0,a=i.length;s<a;s+=o){var u=jl(t,e,i[s],i[s+1]);if(u<r){r=u;for(var l=0;l<o;++l)n[l]=i[s+l];n.length=o}}return r},e.prototype.getCoordinates=function(){return Lf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new Ig(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,r=[],i=0,o=t.length;i<o;i+=n){var s=new Ig(t.slice(i,i+n),e);r.push(s)}return r},e.prototype.getType=function(){return Zc},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,r=0,i=e.length;r<i;r+=n){if(sl(t,e[r],e[r+1]))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=hg(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Wd);var Em=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cm=function(t){function e(e,n,r){var i=t.call(this)||this;if(i.endss_=[],i.flatInteriorPointsRevision_=-1,i.flatInteriorPoints_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){for(var o=i.getLayout(),s=e,a=[],u=[],l=0,c=s.length;l<c;++l){var h=s[l];0===l&&(o=h.getLayout());for(var p=a.length,f=h.getEnds(),d=0,g=f.length;d<g;++d)f[d]+=p;Fa(a,h.getFlatCoordinates()),u.push(f)}n=o,e=a,r=u}return void 0!==n&&r?(i.setFlatCoordinates(n,e),i.endss_=r):i.setCoordinates(e,n),i}return Em(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;Fa(this.flatCoordinates,t.getFlatCoordinates());for(var r=0,i=(e=t.getEnds().slice()).length;r<i;++r)e[r]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),r=0;r<t;++r)n[r]=this.endss_[r].slice();var i=new e(this.flatCoordinates.slice(),this.layout,n);return i.applyProperties(this),i},e.prototype.closestPointXY=function(t,e,n,r){return r<rl(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o){var a=n[o];i=ag(t,e,a,r,i),e=a[a.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,r,i,o,s,a,u,l,c){for(var h=c||[NaN,NaN],p=0,f=n.length;p<f;++p){var d=n[p];l=lg(t,e,d,r,i,o,s,a,u,l,h),e=d[d.length-1]}return l}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return function(t,e,n,r,i,o){if(0===n.length)return!1;for(var s=0,a=n.length;s<a;++s){var u=n[s];if(_g(t,e,u,r,i,o))return!0;e=u[u.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return function(t,e,n,r){for(var i=0,o=0,s=n.length;o<s;++o){var a=n[o];i+=Cg(t,e,a,r),e=a[a.length-1]}return i}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?Ng(e=this.getOrientedFlatCoordinates().slice(),0,this.endss_,this.stride,t):e=this.flatCoordinates,Nf(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,n,r){for(var i=[],o=[1/0,1/0,-1/0,-1/0],s=0,a=n.length;s<a;++s){var u=n[s];o=pl(t,e,u[0],r),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=u[u.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=function(t,e,n,r,i){for(var o=[],s=0,a=n.length;s<a;++s){var u=n[s];o=Tg(t,e,u,r,i,2*s,o),e=u[u.length-1]}return o}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new wm(this.getFlatInteriorPoints().slice(),Ud)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;!function(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o){var a=n[o];if(!Lg(t,e,a,r,i))return!1;a.length&&(e=a[a.length-1])}return!0}(t,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Ng(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=function(t,e,n,r,i,o,s,a){for(var u=0,l=n.length;u<l;++u){var c=n[u],h=[];s=$f(t,e,c,r,i,o,s,h),a.push(h),e=c[c.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,r),new e(n,Vd,r)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var r=this.endss_[t].slice(),i=r[r.length-1];if(0!==e)for(var o=0,s=r.length;o<s;++o)r[o]-=e;return new Dg(this.flatCoordinates.slice(e,i),this.layout,r)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,r=[],i=0,o=0,s=n.length;o<s;++o){var a=n[o].slice(),u=a[a.length-1];if(0!==i)for(var l=0,c=a.length;l<c;++l)a[l]-=i;var h=new Dg(e.slice(i,u),t,a);r.push(h),i=u}return r},e.prototype.getType=function(){return Qc},e.prototype.intersectsExtent=function(t){return function(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o){var a=n[o];if(bg(t,e,a,r,i))return!0;e=a[a.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=function(t,e,n,r,i){for(var o=i||[],s=0,a=0,u=n.length;a<u;++a){var l=pg(t,e,n[a],r,o[s]);o[s++]=l,e=l[l.length-1]}return o.length=s,o}(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var r=n[n.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()},e}(Wd),Sm=\"preload\",Om=\"useInterimTilesOnError\",Pm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Im=function(t){function e(e){var n=this,r=e||{},i=xa({},r);return delete i.preload,delete i.useInterimTilesOnError,(n=t.call(this,i)||this).on,n.once,n.un,n.setPreload(void 0!==r.preload?r.preload:0),n.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),n}return Pm(e,t),e.prototype.getPreload=function(){return this.get(Sm)},e.prototype.setPreload=function(t){this.set(Sm,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(Om)},e.prototype.setUseInterimTilesOnError=function(t){this.set(Om,t)},e.prototype.getData=function(e){return t.prototype.getData.call(this,e)},e}(xf),Tm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mm=function(t){function e(e,n,r){var i=t.call(this)||this,o=r||{};return i.tileCoord=e,i.state=n,i.interimTile=null,i.key=\"\",i.transition_=void 0===o.transition?250:o.transition,i.transitionStarts_={},i.interpolate=!!o.interpolate,i}return Tm(e,t),e.prototype.changed=function(){this.dispatchEvent(qa)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+\"/\"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==p_)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==p_){t.interimTile=null;break}t.getState()==h_?e=t:t.getState()==c_?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==f_&&this.state>t)throw new Error(\"Tile load sequence violation\");this.state=t,this.changed()},e.prototype.load=function(){ru()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var r=e-n+1e3/60;return r>=this.transition_?1:cu(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(Va),Am=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var Lm,Rm=function(t){function e(e,n,r,i,o,s){var a=t.call(this,e,n,s)||this;return a.crossOrigin_=i,a.src_=r,a.key=r,a.image_=new Image,null!==i&&(a.image_.crossOrigin=i),a.unlisten_=null,a.tileLoadFunction_=o,a}return Am(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=p_,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){var t;this.state=f_,this.unlistenImage_(),this.image_=((t=mc(1,1)).fillStyle=\"rgba(0,0,0,0)\",t.fillRect(0,0,1,1),t.canvas),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=p_:this.state=d_,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==f_&&(this.state=c_,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==c_&&(this.state=h_,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Ch(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(Mm),Nm=function(){function t(t,e,n,r,i,o){this.sourceProj_=t,this.targetProj_=e;var s={},a=wp(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+\"/\"+t[1];return s[e]||(s[e]=a(t)),s[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Il(r)==Il(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Il(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Il(this.targetProj_.getExtent()):null;var u=Ol(n),l=Pl(n),c=bl(n),h=ml(n),p=this.transformInv_(u),f=this.transformInv_(l),d=this.transformInv_(c),g=this.transformInv_(h),y=10+(o?Math.max(0,Math.ceil(Nl(_l(n)/(o*o*256*256)))):0);if(this.addQuad_(u,l,c,h,p,f,d,g,y),this.wrapsXInSource_){var v=1/0;this.triangles_.forEach((function(t,e,n){v=Math.min(v,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-v>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-v>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-v>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-v>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}s={}}return t.prototype.addTriangle_=function(t,e,n,r,i,o){this.triangles_.push({source:[r,i,o],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,r,i,o,s,a,u){var l=tl([i,o,s,a]),c=this.sourceWorldWidth_?Il(l)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&c>.5&&c<1,f=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_)f=Il(tl([t,e,n,r]))/this.targetWorldWidth_>.25||f;!p&&this.sourceProj_.isGlobal()&&c&&(f=c>.25||f)}if(!(!f&&this.maxSourceExtent_&&isFinite(l[0])&&isFinite(l[1])&&isFinite(l[2])&&isFinite(l[3]))||Tl(l,this.maxSourceExtent_)){var d=0;if(!(f||isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])))if(u>0)f=!0;else if(1!=(d=(isFinite(i[0])&&isFinite(i[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1))&&2!=d&&4!=d&&8!=d)return;if(u>0){if(!f){var g=[(t[0]+n[0])/2,(t[1]+n[1])/2],y=this.transformInv_(g),v=void 0;if(p)v=(kl(i[0],h)+kl(s[0],h))/2-kl(y[0],h);else v=(i[0]+s[0])/2-y[0];var _=(i[1]+s[1])/2-y[1];f=v*v+_*_>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var m=[(e[0]+n[0])/2,(e[1]+n[1])/2],b=this.transformInv_(m),x=[(r[0]+t[0])/2,(r[1]+t[1])/2],w=this.transformInv_(x);this.addQuad_(t,e,m,x,i,o,b,w,u-1),this.addQuad_(x,m,n,r,w,b,s,a,u-1)}else{var E=[(t[0]+e[0])/2,(t[1]+e[1])/2],C=this.transformInv_(E),S=[(n[0]+r[0])/2,(n[1]+r[1])/2],O=this.transformInv_(S);this.addQuad_(t,E,S,r,i,C,O,a,u-1),this.addQuad_(E,e,n,S,C,o,s,O,u-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&d)&&this.addTriangle_(t,n,r,i,s,a),0==(14&d)&&this.addTriangle_(t,n,e,i,s,o),d&&(0==(13&d)&&this.addTriangle_(e,r,t,o,a,i),0==(7&d)&&this.addTriangle_(e,r,n,o,a,s))}},t.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach((function(e,n,r){var i=e.source;dl(t,i[0]),dl(t,i[1]),dl(t,i[2])})),t},t.prototype.getTriangles=function(){return this.triangles_},t}(),Fm={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},jm={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0};function Dm(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function km(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function Gm(t,e,n,r){var i=Ep(n,e,t),o=vp(e,r,n),s=e.getMetersPerUnit();void 0!==s&&(o*=s);var a=t.getMetersPerUnit();void 0!==a&&(o/=a);var u=t.getExtent();if(!u||il(u,i)){var l=vp(t,o,i)/o;isFinite(l)&&l>0&&(o/=l)}return o}function Bm(t,e,n,r,i,o,s,a,u,l,c,h){var p=mc(Math.round(n*t),Math.round(n*e));if(h||xa(p,Fm),0===u.length)return p.canvas;function f(t){return Math.round(t*n)/n}p.scale(n,n),p.globalCompositeOperation=\"lighter\";var d=[1/0,1/0,-1/0,-1/0];u.forEach((function(t,e,n){var r,i;r=d,(i=t.extent)[0]<r[0]&&(r[0]=i[0]),i[2]>r[2]&&(r[2]=i[2]),i[1]<r[1]&&(r[1]=i[1]),i[3]>r[3]&&(r[3]=i[3])}));var g=Il(d),y=Cl(d),v=mc(Math.round(n*g/r),Math.round(n*y/r));h||xa(v,Fm);var _=n/r;u.forEach((function(t,e,n){var r=t.extent[0]-d[0],i=-(t.extent[3]-d[3]),o=Il(t.extent),s=Cl(t.extent);t.image.width>0&&t.image.height>0&&v.drawImage(t.image,l,l,t.image.width-2*l,t.image.height-2*l,r*_,i*_,o*_,s*_)}));var m=Ol(s);return a.getTriangles().forEach((function(t,e,i){var s=t.source,a=t.target,u=s[0][0],l=s[0][1],c=s[1][0],g=s[1][1],y=s[2][0],_=s[2][1],b=f((a[0][0]-m[0])/o),x=f(-(a[0][1]-m[1])/o),w=f((a[1][0]-m[0])/o),E=f(-(a[1][1]-m[1])/o),C=f((a[2][0]-m[0])/o),S=f(-(a[2][1]-m[1])/o),O=u,P=l;u=0,l=0;var I=function(t){for(var e=t.length,n=0;n<e;n++){for(var r=n,i=Math.abs(t[n][n]),o=n+1;o<e;o++){var s=Math.abs(t[o][n]);s>i&&(i=s,r=o)}if(0===i)return null;var a=t[r];t[r]=t[n],t[n]=a;for(var u=n+1;u<e;u++)for(var l=-t[u][n]/t[n][n],c=n;c<e+1;c++)n==c?t[u][c]=0:t[u][c]+=l*t[n][c]}for(var h=new Array(e),p=e-1;p>=0;p--){h[p]=t[p][e]/t[p][p];for(var f=p-1;f>=0;f--)t[f][e]-=t[f][p]*h[p]}return h}([[c-=O,g-=P,0,0,w-b],[y-=O,_-=P,0,0,C-b],[0,0,c,g,E-x],[0,0,y,_,S-x]]);if(I){if(p.save(),p.beginPath(),function(){if(void 0===Lm){var t=document.createElement(\"canvas\").getContext(\"2d\");t.globalCompositeOperation=\"lighter\",t.fillStyle=\"rgba(210, 0, 0, 0.75)\",Dm(t,4,5,4,0),Dm(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;Lm=km(e,0)||km(e,4)||km(e,8)}return Lm}()||!h){p.moveTo(w,E);for(var T=b-w,M=x-E,A=0;A<4;A++)p.lineTo(w+f((A+1)*T/4),E+f(A*M/3)),3!=A&&p.lineTo(w+f((A+1)*T/4),E+f((A+1)*M/3));p.lineTo(C,S)}else p.moveTo(w,E),p.lineTo(b,x),p.lineTo(C,S);p.clip(),p.transform(I[0],I[2],I[1],I[3],b,x),p.translate(d[0]-O,d[3]-P),p.scale(r/n,-r/n),p.drawImage(v.canvas,0,0),p.restore()}})),c&&(p.save(),p.globalCompositeOperation=\"source-over\",p.strokeStyle=\"black\",p.lineWidth=1,a.getTriangles().forEach((function(t,e,n){var r=t.target,i=(r[0][0]-m[0])/o,s=-(r[0][1]-m[1])/o,a=(r[1][0]-m[0])/o,u=-(r[1][1]-m[1])/o,l=(r[2][0]-m[0])/o,c=-(r[2][1]-m[1])/o;p.beginPath(),p.moveTo(a,u),p.lineTo(i,s),p.lineTo(l,c),p.closePath(),p.stroke()})),p.restore()),p.canvas}var zm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vm=function(t){function e(e,n,r,i,o,s,a,u,l,c,h,p){var f=t.call(this,o,c_,{interpolate:!!p})||this;f.renderEdges_=void 0!==h&&h,f.pixelRatio_=a,f.gutter_=u,f.canvas_=null,f.sourceTileGrid_=n,f.targetTileGrid_=i,f.wrappedTileCoord_=s||o,f.sourceTiles_=[],f.sourcesListenerKeys_=null,f.sourceZ_=0;var d=i.getTileCoordExtent(f.wrappedTileCoord_),g=f.targetTileGrid_.getExtent(),y=f.sourceTileGrid_.getExtent(),v=g?Sl(d,g):d;if(0===_l(v))return f.state=d_,f;var _=e.getExtent();_&&(y=y?Sl(y,_):_);var m=i.getResolution(f.wrappedTileCoord_[0]),b=function(t,e,n,r){var i=xl(n),o=Gm(t,e,i,r);return(!isFinite(o)||o<=0)&&vl(n,(function(n){return o=Gm(t,e,n,r),isFinite(o)&&o>0})),o}(e,r,v,m);if(!isFinite(b)||b<=0)return f.state=d_,f;var x=void 0!==c?c:.5;if(f.triangulation_=new Nm(e,r,v,y,b*x,m),0===f.triangulation_.getTriangles().length)return f.state=d_,f;f.sourceZ_=n.getZForResolution(b);var w=f.triangulation_.calculateSourceExtent();if(y&&(e.canWrapX()?(w[1]=Ll(w[1],y[1],y[3]),w[3]=Ll(w[3],y[1],y[3])):w=Sl(w,y)),_l(w)){for(var E=n.getTileRangeForExtentAndZ(w,f.sourceZ_),C=E.minX;C<=E.maxX;C++)for(var S=E.minY;S<=E.maxY;S++){var O=l(f.sourceZ_,C,S,a);O&&f.sourceTiles_.push(O)}0===f.sourceTiles_.length&&(f.state=d_)}else f.state=d_;return f}return zm(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,r){e&&e.getState()==p_&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=f_;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),r=\"number\"==typeof n?n:n[0],i=\"number\"==typeof n?n:n[1],o=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Bm(r,i,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,a,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=p_}this.changed()},e.prototype.load=function(){if(this.state==c_){this.state=h_,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,r){var i=e.getState();if(i==c_||i==h_){t++;var o=Sa(e,qa,(function(n){var r=e.getState();r!=p_&&r!=f_&&r!=d_||(Pa(o),0===--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(o)}}.bind(this)),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(t,e,n){t.getState()==c_&&t.load()}))}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Pa),this.sourcesListenerKeys_=null},e}(Mm),qm=function(){function t(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function Um(t,e,n,r,i){return void 0!==i?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new qm(t,e,n,r)}var $m=qm,Xm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ym=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=[1/0,1/0,-1/0,-1/0],n.tmpTileRange_=new $m(0,0,0,0),n}return Xm(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),r=e.getUseInterimTilesOnError();return n==p_||n==d_||n==f_&&!r},e.prototype.getTile=function(t,e,n,r){var i=r.pixelRatio,o=r.viewState.projection,s=this.getLayer(),a=s.getSource().getTile(t,e,n,i,o);return a.getState()==f_&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(this.newTiles_=!0):a.setState(p_)),this.isDrawableTile(a)||(a=a.getInterimTile()),a},e.prototype.getData=function(t){var e=this.frameState;if(!e)return null;var n=this.getLayer(),r=od(e.pixelToCoordinateTransform,t.slice()),i=n.getExtent();if(i&&!il(i,r))return null;for(var o=e.pixelRatio,s=e.viewState.projection,a=e.viewState,u=n.getRenderSource(),l=u.getTileGridForProjection(a.projection),c=u.getTilePixelRatio(e.pixelRatio),h=l.getZForResolution(a.resolution);h>=l.getMinZoom();--h){var p=l.getTileCoordForCoordAndZ(r,h),f=u.getTile(h,p[1],p[2],o,s);if(!(f instanceof Rm||f instanceof Vm))return null;if(f.getState()===p_){var d=l.getOrigin(h),g=sc(l.getTileSize(h)),y=l.getResolution(h),v=Math.floor(c*((r[0]-d[0])/y-p[1]*g[0])),_=Math.floor(c*((d[1]-r[1])/y-p[2]*g[1]));return this.getImageData(f.getImage(),v,_)}}return null},e.prototype.loadedTileCallback=function(e,n,r){return!!this.isDrawableTile(r)&&t.prototype.loadedTileCallback.call(this,e,n,r)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],r=t.viewState,i=r.projection,o=r.resolution,s=r.center,a=r.rotation,u=t.pixelRatio,l=this.getLayer(),c=l.getSource(),h=c.getRevision(),p=c.getTileGridForProjection(i),f=p.getZForResolution(o,c.zDirection),d=p.getResolution(f),g=t.extent,y=n.extent&&Rp(n.extent,i);y&&(g=Sl(g,Rp(n.extent,i)));var v=c.getTilePixelRatio(u),_=Math.round(t.size[0]*v),m=Math.round(t.size[1]*v);if(a){var b=Math.round(Math.sqrt(_*_+m*m));_=b,m=b}var x=d*_/2/v,w=d*m/2/v,E=[s[0]-x,s[1]-w,s[0]+x,s[1]+w],C=p.getTileRangeForExtentAndZ(g,f),S={};S[f]={};var O=this.createLoadedTileFinder(c,i,S),P=this.tmpExtent,I=this.tmpTileRange_;this.newTiles_=!1;for(var T=C.minX;T<=C.maxX;++T)for(var M=C.minY;M<=C.maxY;++M){var A=this.getTile(f,T,M,t);if(this.isDrawableTile(A)){var L=ou(this);if(A.getState()==p_){S[f][A.tileCoord.toString()]=A;var R=A.inTransition(L);this.newTiles_||!R&&-1!==this.renderedTiles.indexOf(A)||(this.newTiles_=!0)}if(1===A.getAlpha(L,t.time))continue}var N=p.getTileCoordChildTileRange(A.tileCoord,I,P),F=!1;N&&(F=O(f+1,N)),F||p.forEachTileCoordParentTileRange(A.tileCoord,O,I,P)}var j=d/o;sd(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/v,1/v,a,-_/2,-m/2);var D=ud(this.pixelTransform);this.useContainer(e,D,n.opacity,this.getBackground(t));var k=this.context,G=k.canvas;ad(this.inversePixelTransform,this.pixelTransform),sd(this.tempTransform,_/2,m/2,j,j,0,-_/2,-m/2),G.width!=_||G.height!=m?(G.width=_,G.height=m):this.containerReused||k.clearRect(0,0,_,m),y&&this.clipUnrotated(k,t,y),c.getInterpolate()||xa(k,Fm),this.preRender(k,t),this.renderedTiles.length=0;var B,z,V,q=Object.keys(S).map(Number);q.sort(Aa),1!==n.opacity||this.containerReused&&!c.getOpaque(t.viewState.projection)?(B=[],z=[]):q=q.reverse();for(var U=q.length-1;U>=0;--U){var $=q[U],X=c.getTilePixelSize($,u,i),Y=p.getResolution($)/d,W=X[0]*Y*j,H=X[1]*Y*j,K=p.getTileCoordForCoordAndZ(Ol(E),$),Z=p.getTileCoordExtent(K),J=od(this.tempTransform,[v*(Z[0]-E[0])/d,v*(E[3]-Z[3])/d]),Q=v*c.getGutterForProjection(i),tt=S[$];for(var et in tt){var nt=(A=tt[et]).tileCoord,rt=K[1]-nt[1],it=Math.round(J[0]-(rt-1)*W),ot=K[2]-nt[2],st=Math.round(J[1]-(ot-1)*H),at=it-(T=Math.round(J[0]-rt*W)),ut=st-(M=Math.round(J[1]-ot*H)),lt=f===$,ct=!1;if(!(R=lt&&1!==A.getAlpha(ou(this),t.time)))if(B){V=[T,M,T+at,M,T+at,M+ut,T,M+ut];for(var ht=0,pt=B.length;ht<pt;++ht)if(f!==$&&$<z[ht]){var ft=B[ht];Tl([T,M,T+at,M+ut],[ft[0],ft[3],ft[4],ft[7]])&&(ct||(k.save(),ct=!0),k.beginPath(),k.moveTo(V[0],V[1]),k.lineTo(V[2],V[3]),k.lineTo(V[4],V[5]),k.lineTo(V[6],V[7]),k.moveTo(ft[6],ft[7]),k.lineTo(ft[4],ft[5]),k.lineTo(ft[2],ft[3]),k.lineTo(ft[0],ft[1]),k.clip())}B.push(V),z.push($)}else k.clearRect(T,M,at,ut);this.drawTileImage(A,t,T,M,at,ut,Q,lt),B&&!R?(ct&&k.restore(),this.renderedTiles.unshift(A)):this.renderedTiles.push(A),this.updateUsedTiles(t.usedTiles,c,A)}}this.renderedRevision=h,this.renderedResolution=d,this.extentChanged=!this.renderedExtent_||!fl(this.renderedExtent_,E),this.renderedExtent_=E,this.renderedPixelRatio=u,this.renderedProjection=i,this.manageTilePyramid(t,c,p,u,i,g,f,l.getPreload()),this.scheduleExpireCache(t,c),this.postRender(k,t),n.extent&&k.restore(),xa(k,jm),D!==G.style.transform&&(G.style.transform=D);var dt=Ic(n.opacity),gt=this.container;return dt!==gt.style.opacity&&(gt.style.opacity=dt),this.container},e.prototype.drawTileImage=function(t,e,n,r,i,o,s,a){var u=this.getTileImage(t);if(u){var l=ou(this),c=a?t.getAlpha(l,e.time):1,h=c!==this.context.globalAlpha;h&&(this.context.save(),this.context.globalAlpha=c),this.context.drawImage(u,s,s,u.width-2*s,u.height-2*s,n,r,i,o),h&&this.context.restore(),1!==c?e.animate=!0:a&&t.endTransition(l)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var r=ou(t);r in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var r=ou(e);r in t||(t[r]={}),t[r][n.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,n,r,i,o,s,a,u){var l=ou(e);l in t.wantedTiles||(t.wantedTiles[l]={});var c,h,p,f,d,g,y=t.wantedTiles[l],v=t.tileQueue,_=0;for(g=n.getMinZoom();g<=s;++g)for(h=n.getTileRangeForExtentAndZ(o,g,h),p=n.getResolution(g),f=h.minX;f<=h.maxX;++f)for(d=h.minY;d<=h.maxY;++d)s-g<=a?(++_,(c=e.getTile(g,f,d,r,i)).getState()==c_&&(y[c.getKey()]=!0,v.isKeyQueued(c.getKey())||v.enqueue([c,l,n.getTileCoordCenter(c.tileCoord),p])),void 0!==u&&u(c)):e.useTile(g,f,d,i);e.updateCacheSize(_,i)},e}(hd),Wm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hm=function(t){function e(e){return t.call(this,e)||this}return Wm(e,t),e.prototype.createRenderer=function(){return new Ym(this)},e}(Im),Km=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.expireCache=function(t){for(;this.canExpireCache();)this.pop()},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var n=this.entries_[t];return Au(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},t.prototype.remove=function(t){var e=this.entries_[t];return Au(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){Au(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}();function Zm(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function Jm(t,e,n){return t+\"/\"+e+\"/\"+n}function Qm(t){return Jm(t[0],t[1],t[2])}var tb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tb(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=function(t){return t.split(\"/\").map(Number)}(this.peekFirstKey())[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(Qm(e.tileCoord)),e.release())}.bind(this))}},e}(Km),nb=\"tileloadstart\",rb=\"tileloadend\",ib=\"tileloaderror\",ob=[0,0,0],sb=function(){function t(t){var e,n,r,i;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Au((e=this.resolutions_,n=!0,r=function(t,e){return e-t}||Aa,e.every((function(t,i){if(0===i)return!0;var o=r(e[i-1],t);return!(o>0||n&&0===o)}))),17),!t.origins)for(var o=0,s=this.resolutions_.length-1;o<s;++o)if(i){if(this.resolutions_[o]/this.resolutions_[o+1]!==i){i=void 0;break}}else i=this.resolutions_[o]/this.resolutions_[o+1];this.zoomFactor_=i,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Au(this.origins_.length==this.resolutions_.length,20));var a=t.extent;void 0===a||this.origin_||this.origins_||(this.origin_=Ol(a)),Au(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Au(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:256,Au(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){var n=new $m(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(a){var r=this.getTileRangeForExtentAndZ(a,e);n.minX=Math.max(r.minX,n.minX),n.maxX=Math.min(r.maxX,n.maxX),n.minY=Math.max(r.minY,n.minY),n.maxY=Math.min(r.maxY,n.maxY)}return n}),this):a&&this.calculateTileRanges_(a)}return t.prototype.forEachTileCoord=function(t,e,n){for(var r=this.getTileRangeForExtentAndZ(t,e),i=r.minX,o=r.maxX;i<=o;++i)for(var s=r.minY,a=r.maxY;s<=a;++s)n([e,i,s])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,r){var i,o,s=null,a=t[0]-1;for(2===this.zoomFactor_?(i=t[1],o=t[2]):s=this.getTileCoordExtent(t,r);a>=this.minZoom;){if(e(a,2===this.zoomFactor_?Um(i=Math.floor(i/2),i,o=Math.floor(o/2),o,n):this.getTileRangeForExtentAndZ(s,a,n)))return!0;--a}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],i=2*t[2];return Um(r,r+1,i,i+1,e)}var o=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},t.prototype.getTileRangeForTileCoordAndZ=function(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;var r=t[0],i=t[1],o=t[2];if(e===r)return Um(i,o,i,o,n);if(this.zoomFactor_){var s=Math.pow(this.zoomFactor_,e-r),a=Math.floor(i*s),u=Math.floor(o*s);return e<r?Um(a,a,u,u,n):Um(a,Math.floor(s*(i+1))-1,u,Math.floor(s*(o+1))-1,n)}var l=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(l,e,n)},t.prototype.getTileRangeExtent=function(t,e,n){var r=this.getOrigin(t),i=this.getResolution(t),o=sc(this.getTileSize(t),this.tmpSize_),s=r[0]+e.minX*o[0]*i,a=r[0]+(e.maxX+1)*o[0]*i;return ll(s,r[1]+e.minY*o[1]*i,a,r[1]+(e.maxY+1)*o[1]*i,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var r=ob;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,r);var i=r[1],o=r[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,r),Um(i,r[1],o,r[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=sc(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*n,e[1]-(t[2]+.5)*r[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=sc(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*i[0]*r,s=n[1]-(t[2]+1)*i[1]*r;return ll(o,s,o+i[0]*r,s+i[1]*r,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,r,i){var o=this.getZForResolution(n),s=n/this.getResolution(o),a=this.getOrigin(o),u=sc(this.getTileSize(o),this.tmpSize_),l=s*(t-a[0])/n/u[0],c=s*(a[1]-e)/n/u[1];return r?(l=Vl(l,5)-1,c=Vl(c,5)-1):(l=zl(l,5),c=zl(c,5)),Zm(o,l,c,i)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,r,i){var o=this.getOrigin(n),s=this.getResolution(n),a=sc(this.getTileSize(n),this.tmpSize_),u=(t-o[0])/s/a[0],l=(o[1]-e)/s/a[1];return r?(u=Vl(u,5)-1,l=Vl(l,5)-1):(u=zl(u,5),l=zl(l,5)),Zm(n,u,l,i)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},t.prototype.getZForResolution=function(t,e){return Ll(Ra(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),r=this.minZoom;r<e;++r)n[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=n},t}();function ab(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,r){return function(t,e,n,r){var i=void 0!==r?r:Xu,o=ub(t,e,n);return new sb({extent:t,origin:wl(t,i),resolutions:o,tileSize:n})}(lb(t),e,n,r)}(t),t.setDefaultTileGrid(e)),e}function ub(t,e,n,r){for(var i=void 0!==e?e:42,o=Cl(t),s=Il(t),a=sc(void 0!==n?n:256),u=r>0?r:Math.max(s/a[0],o/a[1]),l=i+1,c=new Array(l),h=0;h<l;++h)c[h]=u/Math.pow(2,h);return c}function lb(t){var e=(t=yp(t)).getExtent();if(!e){var n=180*Uh[$h.DEGREES]/t.getMetersPerUnit();e=ll(-n,-n,n,n)}return e}var cb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hb=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})||this;n.on,n.once,n.un,n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;return n.tileGrid&&sc(n.tileGrid.getTileSize(n.tileGrid.getMinZoom()),[256,256]),n.tileCache=new eb(e.cacheSize||0),n.tmpSize=[0,0],n.key_=e.key||\"\",n.tileOptions={transition:e.transition,interpolate:e.interpolate},n.zDirection=e.zDirection?e.zDirection:0,n}return cb(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,r){var i=this.getTileCacheForProjection(t);if(!i)return!1;for(var o,s,a,u=!0,l=n.minX;l<=n.maxX;++l)for(var c=n.minY;c<=n.maxY;++c)s=Jm(e,l,c),a=!1,i.containsKey(s)&&(a=(o=i.get(s)).getState()===p_)&&(a=!1!==r(o)),a||(u=!1);return u},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},e.prototype.getTile=function(t,e,n,r,i){return ru()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:ab(t)},e.prototype.getTileCacheForProjection=function(t){return Au(bp(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var r,i,o,s=this.getTileGridForProjection(n),a=this.getTilePixelRatio(e),u=sc(s.getTileSize(t),this.tmpSize);return 1==a?u:(r=u,i=a,void 0===(o=this.tmpSize)&&(o=[0,0]),o[0]=r[0]*i+.5|0,o[1]=r[1]*i+.5|0,o)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var r=e[0],i=t.getTileCoordCenter(e),o=lb(n);if(il(o,i))return e;var s=Il(o),a=Math.ceil((o[0]-i[0])/s);return i[0]+=s*a,t.getTileCoordForCoordAndZ(i,r)}(r,t,n)),function(t,e){var n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o=e.getFullTileRange(n);return!o||o.containsXY(r,i)}(t,r)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,e){var n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)},e.prototype.useTile=function(t,e,n,r){},e}(Dp),pb=function(t){function e(e,n){var r=t.call(this,e)||this;return r.tile=n,r}return cb(e,t),e}(Ia),fb=hb;function db(t,e){var n=/\\{z\\}/g,r=/\\{x\\}/g,i=/\\{y\\}/g,o=/\\{-y\\}/g;return function(s,a,u){return s?t.replace(n,s[0].toString()).replace(r,s[1].toString()).replace(i,s[2].toString()).replace(o,(function(){var t=s[0],n=e.getFullTileRange(t);return Au(n,55),(n.getHeight()-s[2]-1).toString()})):void 0}}function gb(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=db(t[i],e);return function(t){if(1===t.length)return t[0];return function(e,n,r){if(e){var i=kl(function(t){return(t[1]<<t[0])+t[2]}(e),t.length);return t[i](e,n,r)}}}(r)}var yb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vb=function(t){function e(n){var r=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tilePixelRatio:n.tilePixelRatio,wrapX:n.wrapX,transition:n.transition,interpolate:n.interpolate,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===e.prototype.tileUrlFunction,r.tileLoadFunction=n.tileLoadFunction,n.tileUrlFunction&&(r.tileUrlFunction=n.tileUrlFunction),r.urls=null,n.urls?r.setUrls(n.urls):n.url&&r.setUrl(n.url),r.tileLoadingKeys_={},r}return yb(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,r=ou(n),i=n.getState();i==h_?(this.tileLoadingKeys_[r]=!0,e=nb):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],e=i==f_?ib:i==p_?rb:void 0),null!=e&&this.dispatchEvent(new pb(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=function(t){var e=[],n=/\\{([a-z])-([a-z])\\}/.exec(t);if(n){var r=n[1].charCodeAt(0),i=n[2].charCodeAt(0),o=void 0;for(o=r;o<=i;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\\{(\\d+)-(\\d+)\\}/.exec(t)){for(var s=parseInt(n[2],10),a=parseInt(n[1],10);a<=s;a++)e.push(t.replace(n[0],a.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join(\"\\n\");this.generateTileUrlFunction_?this.setTileUrlFunction(gb(t,this.tileGrid),e):this.setKey(e)},e.prototype.tileUrlFunction=function(t,e,n){},e.prototype.useTile=function(t,e,n){var r=Jm(t,e,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(fb),_b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function mb(t,e){t.getImage().src=e}var bb=function(t){function e(e){var n=this,r=void 0===e.imageSmoothing||e.imageSmoothing;return void 0!==e.interpolate&&(r=e.interpolate),(n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:mb,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:r,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this).crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:Rm,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return _b(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var r in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var i=this.tileCacheForProjection[r];i.expireCache(i==n?e:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!bp(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){var e=t.prototype.getKey.call(this);return this.getInterpolate()||(e+=\":disable-interpolation\"),e},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!bp(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!bp(e,t)){var n=ou(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=ab(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||bp(e,t))return this.tileCache;var n=ou(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new eb(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,r,i,o){var s=[t,e,n],a=this.getTileCoordForTileUrlFunction(s,i),u=a?this.tileUrlFunction(a,r,i):void 0,l=new this.tileClass(s,void 0!==u?c_:d_,void 0!==u?u:\"\",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return l.key=o,l.addEventListener(qa,this.handleTileChange.bind(this)),l},e.prototype.getTile=function(t,e,n,r,i){var o=this.getProjection();if(o&&i&&!bp(o,i)){var s=this.getTileCacheForProjection(i),a=[t,e,n],u=void 0,l=Qm(a);s.containsKey(l)&&(u=s.get(l));var c=this.getKey();if(u&&u.key==c)return u;var h=this.getTileGridForProjection(o),p=this.getTileGridForProjection(i),f=this.getTileCoordForTileUrlFunction(a,i),d=new Vm(o,h,i,p,a,f,this.getTilePixelRatio(r),this.getGutter(),function(t,e,n,r){return this.getTileInternal(t,e,n,r,o)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return d.key=c,u?(d.interimTile=u,d.refreshInterimChain(),s.replace(l,d)):s.set(l,d),d}return this.getTileInternal(t,e,n,r,o||i)},e.prototype.getTileInternal=function(t,e,n,r,i){var o=null,s=Jm(t,e,n),a=this.getKey();if(this.tileCache.containsKey(s)){if((o=this.tileCache.get(s)).key!=a){var u=o;o=this.createTile_(t,e,n,r,i,a),u.getState()==c_?o.interimTile=u.interimTile:o.interimTile=u,o.refreshInterimChain(),this.tileCache.replace(s,o)}}else o=this.createTile_(t,e,n,r,i,a),this.tileCache.set(s,o);return o},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=yp(t);if(n){var r=ou(n);r in this.tileGridForProjection||(this.tileGridForProjection[r]=e)}},e}(vb),xb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wb=function(t){function e(e){var n=e||{},r=void 0===n.imageSmoothing||n.imageSmoothing;void 0!==n.interpolate&&(r=n.interpolate);var i=void 0!==n.projection?n.projection:\"EPSG:3857\",o=void 0!==n.tileGrid?n.tileGrid:function(t){var e=t||{},n=e.extent||yp(\"EPSG:3857\").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:ub(n,e.maxZoom,e.tileSize,e.maxResolution)};return new sb(r)}({extent:lb(i),maxResolution:n.maxResolution,maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,interpolate:r,opaque:n.opaque,projection:i,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this}return xb(e,t),e}(bb),Eb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cb='&#169; <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">OpenStreetMap</a> contributors.',Sb=function(t){function e(e){var n,r=e||{},i=void 0===r.imageSmoothing||r.imageSmoothing;void 0!==r.interpolate&&(i=r.interpolate),n=void 0!==r.attributions?r.attributions:[Cb];var o=void 0!==r.crossOrigin?r.crossOrigin:\"anonymous\",s=void 0!==r.url?r.url:\"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png\";return t.call(this,{attributions:n,attributionsCollapsible:!1,cacheSize:r.cacheSize,crossOrigin:o,interpolate:i,maxZoom:void 0!==r.maxZoom?r.maxZoom:19,opaque:void 0===r.opaque||r.opaque,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileLoadFunction:r.tileLoadFunction,transition:r.transition,url:s,wrapX:r.wrapX,zDirection:r.zDirection})||this}return Eb(e,t),e}(wb),Ob=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pb=['Map tiles by <a href=\"https://stamen.com/\" target=\"_blank\">Stamen Design</a>, under <a href=\"https://creativecommons.org/licenses/by/3.0/\" target=\"_blank\">CC BY 3.0</a>.',Cb],Ib={terrain:{extension:\"jpg\",opaque:!0},\"terrain-background\":{extension:\"jpg\",opaque:!0},\"terrain-labels\":{extension:\"png\",opaque:!1},\"terrain-lines\":{extension:\"png\",opaque:!1},\"toner-background\":{extension:\"png\",opaque:!0},toner:{extension:\"png\",opaque:!0},\"toner-hybrid\":{extension:\"png\",opaque:!1},\"toner-labels\":{extension:\"png\",opaque:!1},\"toner-lines\":{extension:\"png\",opaque:!1},\"toner-lite\":{extension:\"png\",opaque:!0},watercolor:{extension:\"jpg\",opaque:!0}},Tb={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}},Mb=function(t){function e(e){var n=void 0===e.imageSmoothing||e.imageSmoothing;void 0!==e.interpolate&&(n=e.interpolate);var r=e.layer.indexOf(\"-\"),i=-1==r?e.layer:e.layer.slice(0,r),o=Tb[i],s=Ib[e.layer],a=void 0!==e.url?e.url:\"https://stamen-tiles-{a-d}.a.ssl.fastly.net/\"+e.layer+\"/{z}/{x}/{y}.\"+s.extension;return t.call(this,{attributions:Pb,cacheSize:e.cacheSize,crossOrigin:\"anonymous\",interpolate:n,maxZoom:null!=e.maxZoom?e.maxZoom:o.maxZoom,minZoom:null!=e.minZoom?e.minZoom:o.minZoom,opaque:s.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:a,wrapX:e.wrapX,zDirection:e.zDirection})||this}return Ob(e,t),e}(wb),Ab=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lb=\"Point\",Rb=\"LineString\",Nb=\"Polygon\",Fb=\"Circle\",jb=\"drawstart\",Db=\"drawend\",kb=\"drawabort\",Gb=function(t){function e(e,n){var r=t.call(this,e)||this;return r.feature=n,r}return Ab(e,t),e}(Ia);var Bb=function(t){function e(e){var n=this,r=e;r.stopDown||(r.stopDown=ka),(n=t.call(this,r)||this).on,n.once,n.un,n.shouldHandle_=!1,n.downPx_=null,n.downTimeout_,n.lastDragTime_,n.pointerType_,n.freehand_=!1,n.source_=e.source?e.source:null,n.features_=e.features?e.features:null,n.snapTolerance_=e.snapTolerance?e.snapTolerance:12,n.type_=e.type,n.mode_=function(t){switch(t){case Yc:case Zc:return Lb;case Wc:case Jc:return Rb;case Kc:case Qc:return Nb;case eh:return Fb;default:throw new Error(\"Invalid type: \"+t)}}(n.type_),n.stopClick_=!!e.stopClick,n.minPoints_=e.minPoints?e.minPoints:n.mode_===Nb?3:2,n.maxPoints_=n.mode_===Fb?2:e.maxPoints?e.maxPoints:1/0,n.finishCondition_=e.finishCondition?e.finishCondition:Da;var i,o=e.geometryFunction;if(!o){var s,a=n.mode_;if(a===Fb)o=function(t,e,n){var r=e||new py([NaN,NaN]),i=Ap(t[0],n),o=Xl(i,Ap(t[t.length-1],n));r.setCenterAndRadius(i,Math.sqrt(o));var s=Tp();return s&&r.transform(n,s),r};else a===Lb?s=Ig:a===Rb?s=wg:a===Nb&&(s=Dg),o=function(t,e,n){return e?a===Nb?t[0].length?e.setCoordinates([t[0].concat([t[0][0]])]):e.setCoordinates([]):e.setCoordinates(t):e=new s(t),e}}return n.geometryFunction_=o,n.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,n.finishCoordinate_=null,n.sketchFeature_=null,n.sketchPoint_=null,n.sketchCoords_=null,n.sketchLine_=null,n.sketchLineCoords_=null,n.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,n.overlay_=new ig({source:new tf({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:(i=sh(),function(t,e){return i[t.getGeometry().getType()]}),updateWhileInteracting:!0}),n.geometryName_=e.geometryName,n.condition_=e.condition?e.condition:Gu,n.freehandCondition_,e.freehand?n.freehandCondition_=Fu:n.freehandCondition_=e.freehandCondition?e.freehandCondition:Bu,n.addChangeListener(lu,n.updateState_),n}return Ab(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===$a&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!==Lb&&this.freehandCondition_(e);var n=e.type===vu.POINTERMOVE,r=!0;!this.freehand_&&this.lastDragTime_&&e.type===vu.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&e.type===vu.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e.coordinate),r=!1):this.freehand_&&e.type===vu.POINTERDOWN?r=!1:n&&this.getPointerCount()<2?(r=e.type===vu.POINTERMOVE)&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):(\"mouse\"===e.originalEvent.pointerType||e.type===vu.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===vu.DBLCLICK&&(r=!1),t.prototype.handleEvent.call(this,e)&&r},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new t_(vu.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},e.prototype.handleUpEvent=function(t){var e=!0;if(0===this.getPointerCount())if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_){var n=!this.finishCoordinate_;n&&this.startDrawing_(t.coordinate),!n&&this.freehand_?this.finishDrawing():this.freehand_||n&&this.mode_!==Lb||(this.atFinish_(t.pixel)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),e=!1}else this.freehand_&&this.abortDrawing();return!e&&this.stopClick_&&t.preventDefault(),e},e.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,n=t.pixel,r=e[0]-n[0],i=e[1]-n[1],o=r*r+i*i;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t.coordinate.slice())},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var n=!1,r=[this.finishCoordinate_],i=this.mode_;if(i===Lb)e=!0;else if(i===Fb)e=2===this.sketchCoords_.length;else if(i===Rb)n=this.sketchCoords_.length>this.minPoints_;else if(i===Nb){var o=this.sketchCoords_;n=o[0].length>this.minPoints_,r=[o[0][0],o[0][o[0].length-2]]}if(n)for(var s=this.getMap(),a=0,u=r.length;a<u;a++){var l=r[a],c=s.getPixelFromCoordinate(l),h=t[0]-c[0],p=t[1]-c[1],f=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(h*h+p*p)<=f){this.finishCoordinate_=l;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(t):(this.sketchPoint_=new Ah(new Ig(t)),this.updateSketchFeatures_())},e.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new Ah);var e=t.getLinearRing(0),n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),n.changed()):(n=new wg(e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(n))},e.prototype.startDrawing_=function(t){var e=this.getMap().getView().getProjection();this.finishCoordinate_=t,this.mode_===Lb?this.sketchCoords_=t.slice():this.mode_===Nb?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Ah(new wg(this.sketchLineCoords_)));var n=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new Ah,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new Gb(jb,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,n,r=this.getMap(),i=this.sketchFeature_.getGeometry(),o=r.getView().getProjection();(this.mode_===Lb?n=this.sketchCoords_:this.mode_===Nb?(n=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(r.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):n=(e=this.sketchCoords_)[e.length-1],n[0]=t[0],n[1]=t[1],this.geometryFunction_(this.sketchCoords_,i,o),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(t);if(i.getType()===Kc&&this.mode_!==Nb)this.createOrUpdateCustomSketchLine_(i);else if(this.sketchLineCoords_){this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,n,r=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),o=this.mode_;o===Rb||o===Fb?(this.finishCoordinate_=t.slice(),(n=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(t.slice()),this.geometryFunction_(n,r,i)):o===Nb&&((n=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(t.slice()),e&&(this.finishCoordinate_=n[0]),this.geometryFunction_(this.sketchCoords_,r,i)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),r=this.mode_;if(r===Rb||r===Fb){if((t=this.sketchCoords_).splice(-2,1),t.length>=2){this.finishCoordinate_=t[t.length-2].slice();var i=this.finishCoordinate_.slice();t[t.length-1]=i,this.createOrUpdateSketchPoint_(i)}this.geometryFunction_(t,e,n),e.getType()===Kc&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if(r===Nb){(t=this.sketchCoords_[0]).splice(-2,1);var o=this.sketchLine_.getGeometry();if(t.length>=2){i=t[t.length-2].slice();t[t.length-1]=i,this.createOrUpdateSketchPoint_(i)}o.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e,n)}1===t.length&&this.abortDrawing(),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,n=t.getGeometry(),r=this.getMap().getView().getProjection();this.mode_===Rb?(e.pop(),this.geometryFunction_(e,n,r)):this.mode_===Nb&&(e[0].pop(),this.geometryFunction_(e,n,r),e=n.getCoordinates()),this.type_===Zc?t.setGeometry(new wm([e])):this.type_===Jc?t.setGeometry(new bm([e])):this.type_===Qc&&t.setGeometry(new Cm([e])),this.dispatchEvent(new Gb(Db,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},e.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new Gb(kb,t))},e.prototype.appendCoordinates=function(t){var e,n=this.mode_,r=!this.sketchFeature_;if(r&&this.startDrawing_(t[0]),n===Rb||n===Fb)e=this.sketchCoords_;else{if(n!==Nb)return;e=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}r&&e.shift(),e.pop();for(var i=0;i<t.length;i++)this.addToDrawing_(t[i]);var o=t[t.length-1];this.addToDrawing_(o),this.modifyDrawing_(o)},e.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.sketchPoint_=new Ah(new Ig(n)),this.updateSketchFeatures_(),this.dispatchEvent(new Gb(jb,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)},e}(bu),zb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vb=[0,0,0,0],qb=[],Ub=\"modifystart\",$b=\"modifyend\",Xb=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.features=n,i.mapBrowserEvent=r,i}return zb(e,t),e}(Ia);function Yb(t,e){return t.index-e.index}function Wb(t,e,n){var r=e.geometry;if(r.getType()===eh){var i=r;if(1===e.index){var o=Tp();o&&(i=i.clone().transform(o,n));var s=Xl(i.getCenter(),Ap(t,n)),a=Math.sqrt(s)-i.getRadius();return a*a}}var u=Ap(t,n);return qb[0]=Ap(e.segment[0],n),qb[1]=Ap(e.segment[1],n),Wl(u,qb)}function Hb(t,e,n){var r=e.geometry;if(r.getType()===eh&&1===e.index){var i=r,o=Tp();return o&&(i=i.clone().transform(o,n)),Mp(i.getClosestPoint(Ap(t,n)),n)}var s=Ap(t,n);return qb[0]=Ap(e.segment[0],n),qb[1]=Ap(e.segment[1],n),Mp(ql(s,qb),n)}var Kb=function(t){function e(e){var n,r,i=t.call(this,e)||this;if(i.on,i.once,i.un,i.boundHandleFeatureChange_=i.handleFeatureChange_.bind(i),i.condition_=e.condition?e.condition:qu,i.defaultDeleteCondition_=function(t){return function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey}(t)&&ku(t)},i.deleteCondition_=e.deleteCondition?e.deleteCondition:i.defaultDeleteCondition_,i.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:Fu,i.vertexFeature_=null,i.vertexSegments_=null,i.lastPixel_=[0,0],i.ignoreNextSingleClick_=!1,i.featuresBeingModified_=null,i.rBush_=new Bh,i.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,i.snappedToVertex_=!1,i.changingFeature_=!1,i.dragSegments_=[],i.overlay_=new ig({source:new tf({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:(n=sh(),function(t,e){return n[Yc]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),i.SEGMENT_WRITERS_={Point:i.writePointGeometry_.bind(i),LineString:i.writeLineStringGeometry_.bind(i),LinearRing:i.writeLineStringGeometry_.bind(i),Polygon:i.writePolygonGeometry_.bind(i),MultiPoint:i.writeMultiPointGeometry_.bind(i),MultiLineString:i.writeMultiLineStringGeometry_.bind(i),MultiPolygon:i.writeMultiPolygonGeometry_.bind(i),Circle:i.writeCircleGeometry_.bind(i),GeometryCollection:i.writeGeometryCollectionGeometry_.bind(i)},i.source_=null,i.hitDetection_=null,e.features?r=e.features:e.source&&(i.source_=e.source,r=new Dh(i.source_.getFeatures()),i.source_.addEventListener(kp,i.handleSourceAdd_.bind(i)),i.source_.addEventListener(zp,i.handleSourceRemove_.bind(i))),!r)throw new Error(\"The modify interaction requires features, a source or a layer\");return e.hitDetection&&(i.hitDetection_=e.hitDetection),i.features_=r,i.features_.forEach(i.addFeature_.bind(i)),i.features_.addEventListener(Lh,i.handleFeatureAdd_.bind(i)),i.features_.addEventListener(Rh,i.handleFeatureRemove_.bind(i)),i.lastPointerEvent_=null,i.delta_=[0,0],i.snapToPointer_=void 0===e.snapToPointer?!i.hitDetection_:e.snapToPointer,i}return zb(e,t),e.prototype.addFeature_=function(t){var e=t.getGeometry();if(e){var n=this.SEGMENT_WRITERS_[e.getType()];n&&n(t,e)}var r=this.getMap();r&&r.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,r),t.addEventListener(qa,this.boundHandleFeatureChange_)},e.prototype.willModifyFeatures_=function(t,e){if(!this.featuresBeingModified_){this.featuresBeingModified_=new Dh;for(var n=this.featuresBeingModified_.getArray(),r=0,i=e.length;r<i;++r)for(var o=e[r],s=0,a=o.length;s<a;++s){var u=o[s].feature;u&&-1===n.indexOf(u)&&this.featuresBeingModified_.push(u)}0===this.featuresBeingModified_.getLength()?this.featuresBeingModified_=null:this.dispatchEvent(new Xb(Ub,this.featuresBeingModified_,t))}},e.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.removeEventListener(qa,this.boundHandleFeatureChange_)},e.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,n=[];e.forEach((function(e){t===e.feature&&n.push(e)}));for(var r=n.length-1;r>=0;--r){for(var i=n[r],o=this.dragSegments_.length-1;o>=0;--o)this.dragSegments_[o][0]===i&&this.dragSegments_.splice(o,1);e.remove(i)}},e.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.overlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},e.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},e.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},e.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},e.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)},e.prototype.writePointGeometry_=function(t,e){var n=e.getCoordinates(),r={feature:t,geometry:e,segment:[n,n]};this.rBush_.insert(e.getExtent(),r)},e.prototype.writeMultiPointGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length;r<i;++r){var o=n[r],s={feature:t,geometry:e,depth:[r],index:r,segment:[o,o]};this.rBush_.insert(e.getExtent(),s)}},e.prototype.writeLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length-1;r<i;++r){var o=n.slice(r,r+2),s={feature:t,geometry:e,index:r,segment:o};this.rBush_.insert(tl(o),s)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length;r<i;++r)for(var o=n[r],s=0,a=o.length-1;s<a;++s){var u=o.slice(s,s+2),l={feature:t,geometry:e,depth:[r],index:s,segment:u};this.rBush_.insert(tl(u),l)}},e.prototype.writePolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length;r<i;++r)for(var o=n[r],s=0,a=o.length-1;s<a;++s){var u=o.slice(s,s+2),l={feature:t,geometry:e,depth:[r],index:s,segment:u};this.rBush_.insert(tl(u),l)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length;r<i;++r)for(var o=n[r],s=0,a=o.length;s<a;++s)for(var u=o[s],l=0,c=u.length-1;l<c;++l){var h=u.slice(l,l+2),p={feature:t,geometry:e,depth:[s,r],index:l,segment:h};this.rBush_.insert(tl(h),p)}},e.prototype.writeCircleGeometry_=function(t,e){var n=e.getCenter(),r={feature:t,geometry:e,index:0,segment:[n,n]},i={feature:t,geometry:e,index:1,segment:[n,n]},o=[r,i];r.featureSegments=o,i.featureSegments=o,this.rBush_.insert(hl(n),r);var s=e,a=Tp();if(a&&this.getMap()){var u=this.getMap().getView().getProjection();s=Gg(s=s.clone().transform(a,u)).transform(u,a)}this.rBush_.insert(s.getExtent(),i)},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var n=e.getGeometriesArray(),r=0;r<n.length;++r){var i=n[r];(0,this.SEGMENT_WRITERS_[i.getType()])(t,i)}},e.prototype.createOrUpdateVertexFeature_=function(t,e,n){var r=this.vertexFeature_;r?r.getGeometry().setCoordinates(t):(r=new Ah(new Ig(t)),this.vertexFeature_=r,this.overlay_.getSource().addFeature(r));return r.set(\"features\",e),r.set(\"geometries\",n),r},e.prototype.handleEvent=function(e){return!e.originalEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=vu.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(n=!(e.type!=vu.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==vu.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),t.prototype.handleEvent.call(this,e)&&!n);var n},e.prototype.handleDragEvent=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t,this.dragSegments_);for(var e=[t.coordinate[0]+this.delta_[0],t.coordinate[1]+this.delta_[1]],n=[],r=[],i=0,o=this.dragSegments_.length;i<o;++i){var s=this.dragSegments_[i],a=s[0],u=a.feature;-1===n.indexOf(u)&&n.push(u);var l=a.geometry;-1===r.indexOf(l)&&r.push(l);for(var c=a.depth,h=void 0,p=a.segment,f=s[1];e.length<l.getStride();)e.push(p[f][e.length]);switch(l.getType()){case Yc:h=e,p[0]=e,p[1]=e;break;case Zc:(h=l.getCoordinates())[a.index]=e,p[0]=e,p[1]=e;break;case Wc:(h=l.getCoordinates())[a.index+f]=e,p[f]=e;break;case Jc:case Kc:(h=l.getCoordinates())[c[0]][a.index+f]=e,p[f]=e;break;case Qc:(h=l.getCoordinates())[c[1]][c[0]][a.index+f]=e,p[f]=e;break;case eh:if(p[0]=e,p[1]=e,0===a.index)this.changingFeature_=!0,l.setCenter(e),this.changingFeature_=!1;else{this.changingFeature_=!0;var d=t.map.getView().getProjection(),g=Yl(Ap(l.getCenter(),d),Ap(e,d)),y=Tp();if(y){var v=l.clone().transform(y,d);v.setRadius(g),g=v.transform(d,y).getRadius()}l.setRadius(g),this.changingFeature_=!1}}h&&this.setGeometryCoordinates_(l,h)}this.createOrUpdateVertexFeature_(e,n,r)},e.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;var e=t.coordinate;this.handlePointerAtPixel_(t.pixel,t.map,e),this.dragSegments_.length=0,this.featuresBeingModified_=null;var n=this.vertexFeature_;if(n){var r=t.map.getView().getProjection(),i=[],o=n.getGeometry().getCoordinates(),s=tl([o]),a=this.rBush_.getInExtent(s),u={};a.sort(Yb);for(var l=0,c=a.length;l<c;++l){var h=a[l],p=h.segment,f=ou(h.geometry),d=h.depth;if(d&&(f+=\"-\"+d.join(\"-\")),u[f]||(u[f]=new Array(2)),h.geometry.getType()!==eh||1!==h.index)if(!Ul(p[0],o)||u[f][0])if(!Ul(p[1],o)||u[f][1])ou(p)in this.vertexSegments_&&!u[f][0]&&!u[f][1]&&this.insertVertexCondition_(t)&&i.push(h);else{if((h.geometry.getType()===Wc||h.geometry.getType()===Jc)&&u[f][0]&&0===u[f][0].index)continue;this.dragSegments_.push([h,1]),u[f][1]=h}else this.dragSegments_.push([h,0]),u[f][0]=h;else Ul(Hb(e,h,r),o)&&!u[f][0]&&(this.dragSegments_.push([h,0]),u[f][0]=h)}i.length&&this.willModifyFeatures_(t,[i]);for(var g=i.length-1;g>=0;--g)this.insertVertex_(i[g],o)}return!!this.vertexFeature_},e.prototype.handleUpEvent=function(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var n=this.dragSegments_[e][0],r=n.geometry;if(r.getType()===eh){var i=r.getCenter(),o=n.featureSegments[0],s=n.featureSegments[1];o.segment[0]=i,o.segment[1]=i,s.segment[0]=i,s.segment[1]=i,this.rBush_.update(hl(i),o);var a=r,u=Tp();if(u){var l=t.map.getView().getProjection();a=Gg(a=a.clone().transform(u,l)).transform(l,u)}this.rBush_.update(a.getExtent(),s)}else this.rBush_.update(tl(n.segment),n)}return this.featuresBeingModified_&&(this.dispatchEvent(new Xb($b,this.featuresBeingModified_,t)),this.featuresBeingModified_=null),!1},e.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map,t.coordinate)},e.prototype.handlePointerAtPixel_=function(t,e,n){var r,i,o=this,s=n||e.getCoordinateFromPixel(t),a=e.getView().getProjection();if(this.hitDetection_){var u=\"object\"==typeof this.hitDetection_?function(t){return t===o.hitDetection_}:void 0;e.forEachFeatureAtPixel(t,(function(t,e,n){if((n=n||t.getGeometry()).getType()===Yc&&La(o.features_.getArray(),t)){i=n;var s=n.getFlatCoordinates().slice(0,2);r=[{feature:t,geometry:n,segment:[s,s]}]}return!0}),{layerFilter:u})}if(!r){var l=Lp(el(Rp(hl(s,Vb),a),e.getView().getResolution()*this.pixelTolerance_,Vb),a);r=this.rBush_.getInExtent(l)}if(r&&r.length>0){var c=r.sort((function(t,e){return Wb(s,t,a)-Wb(s,e,a)}))[0],h=c.segment,p=Hb(s,c,a),f=e.getPixelFromCoordinate(p),d=Yl(t,f);if(i||d<=this.pixelTolerance_){var g={};if(g[ou(h)]=!0,this.snapToPointer_||(this.delta_[0]=p[0]-s[0],this.delta_[1]=p[1]-s[1]),c.geometry.getType()===eh&&1===c.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(p,[c.feature],[c.geometry]);else{var y=e.getPixelFromCoordinate(h[0]),v=e.getPixelFromCoordinate(h[1]),_=Xl(f,y),m=Xl(f,v);d=Math.sqrt(Math.min(_,m)),this.snappedToVertex_=d<=this.pixelTolerance_,this.snappedToVertex_&&(p=_>m?h[1]:h[0]),this.createOrUpdateVertexFeature_(p,[c.feature],[c.geometry]);var b={};b[ou(c.geometry)]=!0;for(var x=1,w=r.length;x<w;++x){var E=r[x].segment;if(!(Ul(h[0],E[0])&&Ul(h[1],E[1])||Ul(h[0],E[1])&&Ul(h[1],E[0])))break;var C=ou(r[x].geometry);C in b||(b[C]=!0,g[ou(E)]=!0)}}return void(this.vertexSegments_=g)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},e.prototype.insertVertex_=function(t,e){for(var n,r=t.segment,i=t.feature,o=t.geometry,s=t.depth,a=t.index;e.length<o.getStride();)e.push(0);switch(o.getType()){case Jc:case Kc:(n=o.getCoordinates())[s[0]].splice(a+1,0,e);break;case Qc:(n=o.getCoordinates())[s[1]][s[0]].splice(a+1,0,e);break;case Wc:(n=o.getCoordinates()).splice(a+1,0,e);break;default:return}this.setGeometryCoordinates_(o,n);var u=this.rBush_;u.remove(t),this.updateSegmentIndices_(o,a,s,1);var l={segment:[r[0],e],feature:i,geometry:o,depth:s,index:a};u.insert(tl(l.segment),l),this.dragSegments_.push([l,1]);var c={segment:[e,r[1]],feature:i,geometry:o,depth:s,index:a+1};u.insert(tl(c.segment),c),this.dragSegments_.push([c,0]),this.ignoreNextSingleClick_=!0},e.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=vu.POINTERDRAG){var t=this.lastPointerEvent_;this.willModifyFeatures_(t,this.dragSegments_);var e=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new Xb($b,this.featuresBeingModified_,t)),this.featuresBeingModified_=null,e}return!1},e.prototype.removeVertex_=function(){var t,e,n,r,i,o,s,a,u,l,c,h=this.dragSegments_,p={},f=!1;for(i=h.length-1;i>=0;--i)c=ou((l=(n=h[i])[0]).feature),l.depth&&(c+=\"-\"+l.depth.join(\"-\")),c in p||(p[c]={}),0===n[1]?(p[c].right=l,p[c].index=l.index):1==n[1]&&(p[c].left=l,p[c].index=l.index+1);for(c in p){switch(u=p[c].right,s=p[c].left,(a=(o=p[c].index)-1)<0&&(a=0),t=e=(r=(l=void 0!==s?s:u).geometry).getCoordinates(),f=!1,r.getType()){case Jc:e[l.depth[0]].length>2&&(e[l.depth[0]].splice(o,1),f=!0);break;case Wc:e.length>2&&(e.splice(o,1),f=!0);break;case Qc:t=t[l.depth[1]];case Kc:(t=t[l.depth[0]]).length>4&&(o==t.length-1&&(o=0),t.splice(o,1),f=!0,0===o&&(t.pop(),t.push(t[0]),a=t.length-1))}if(f){this.setGeometryCoordinates_(r,e);var d=[];if(void 0!==s&&(this.rBush_.remove(s),d.push(s.segment[0])),void 0!==u&&(this.rBush_.remove(u),d.push(u.segment[1])),void 0!==s&&void 0!==u){var g={depth:l.depth,feature:l.feature,geometry:l.geometry,index:a,segment:d};this.rBush_.insert(tl(g.segment),g)}this.updateSegmentIndices_(r,o,l.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),h.length=0}}return f},e.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},e.prototype.updateSegmentIndices_=function(t,e,n,r){this.rBush_.forEachInExtent(t.getExtent(),(function(i){i.geometry===t&&(void 0===n||void 0===i.depth||ja(i.depth,n))&&i.index>e&&(i.index+=r)}))},e}(bu),Zb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jb=\"select\",Qb=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.selected=n,o.deselected=r,o.mapBrowserEvent=i,o}return Zb(e,t),e}(Ia),tx={};var ex=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var r,i,o=e||{};if(n.boundAddFeature_=n.addFeature_.bind(n),n.boundRemoveFeature_=n.removeFeature_.bind(n),n.condition_=o.condition?o.condition:ku,n.addCondition_=o.addCondition?o.addCondition:Du,n.removeCondition_=o.removeCondition?o.removeCondition:Du,n.toggleCondition_=o.toggleCondition?o.toggleCondition:Bu,n.multi_=!!o.multi&&o.multi,n.filter_=o.filter?o.filter:Da,n.hitTolerance_=o.hitTolerance?o.hitTolerance:0,n.style_=void 0!==o.style?o.style:(Fa((r=sh())[Kc],r[Wc]),Fa(r[th],r[Wc]),function(t){return t.getGeometry()?r[t.getGeometry().getType()]:null}),n.features_=o.features||new Dh,o.layers)if(\"function\"==typeof o.layers)i=o.layers;else{var s=o.layers;i=function(t){return La(s,t)}}else i=Da;return n.layerFilter_=i,n.featureLayerAssociation_={},n}return Zb(e,t),e.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[ou(t)]=e},e.prototype.getFeatures=function(){return this.features_},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){return this.featureLayerAssociation_[ou(t)]},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),t.prototype.setMap.call(this,e),e?(this.features_.addEventListener(Lh,this.boundAddFeature_),this.features_.addEventListener(Rh,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(Lh,this.boundAddFeature_),this.features_.removeEventListener(Rh,this.boundRemoveFeature_))},e.prototype.addFeature_=function(t){var e=t.element;if(this.style_&&this.applySelectedStyle_(e),!this.getLayer(e)){var n=this.getMap().getAllLayers().find((function(t){if(t instanceof ig&&t.getSource()&&t.getSource().hasFeature(e))return t}));n&&this.addFeatureLayerAssociation_(e,n)}},e.prototype.removeFeature_=function(t){var e=t.element;this.style_&&this.restorePreviousStyle_(e)},e.prototype.getStyle=function(){return this.style_},e.prototype.applySelectedStyle_=function(t){var e=ou(t);e in tx||(tx[e]=t.getStyle()),t.setStyle(this.style_)},e.prototype.restorePreviousStyle_=function(t){for(var n=this.getMap().getInteractions().getArray(),r=n.length-1;r>=0;--r){var i=n[r];if(i!==this&&i instanceof e&&i.getStyle()&&-1!==i.getFeatures().getArray().lastIndexOf(t))return void t.setStyle(i.getStyle())}var o=ou(t);t.setStyle(tx[o]),delete tx[o]},e.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[ou(t)]},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),n=this.removeCondition_(t),r=this.toggleCondition_(t),i=!e&&!n&&!r,o=t.map,s=this.getFeatures(),a=[],u=[];if(i){wa(this.featureLayerAssociation_),o.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e))return this.addFeatureLayerAssociation_(t,e),u.push(t),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var l=s.getLength()-1;l>=0;--l){var c=s.item(l),h=u.indexOf(c);h>-1?u.splice(h,1):(s.remove(c),a.push(c))}0!==u.length&&s.extend(u)}else{o.forEachFeatureAtPixel(t.pixel,function(t,i){if(this.filter_(t,i))return!e&&!r||La(s.getArray(),t)?(n||r)&&La(s.getArray(),t)&&(a.push(t),this.removeFeatureLayerAssociation_(t)):(this.addFeatureLayerAssociation_(t,i),u.push(t)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var p=a.length-1;p>=0;--p)s.remove(a[p]);s.extend(u)}return(u.length>0||a.length>0)&&this.dispatchEvent(new Qb(Jb,u,a,t)),!0},e}(yu),nx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rx=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,r)||this).condition_=r.condition?r.condition:Bu,n.lastAngle_=void 0,n.lastMagnitude_=void 0,n.lastScaleDelta_=0,n.duration_=void 0!==r.duration?r.duration:400,n}return nx(e,t),e.prototype.handleDragEvent=function(t){if(Vu(t)){var e=t.map,n=e.getSize(),r=t.pixel,i=r[0]-n[0]/2,o=n[1]/2-r[1],s=Math.atan2(o,i),a=Math.sqrt(i*i+o*o),u=e.getView();if(void 0!==this.lastAngle_){var l=this.lastAngle_-s;u.adjustRotationInternal(l)}this.lastAngle_=s,void 0!==this.lastMagnitude_&&u.adjustResolutionInternal(this.lastMagnitude_/a),void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/a),this.lastMagnitude_=a}},e.prototype.handleUpEvent=function(t){if(!Vu(t))return!0;var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),this.lastScaleDelta_=0,!1},e.prototype.handleDownEvent=function(t){return!!Vu(t)&&(!!this.condition_(t)&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))},e}(bu),ix=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ox=\"extentchanged\",sx=function(t){function e(e){var n=t.call(this,ox)||this;return n.extent=e,n}return ix(e,t),e}(Ia);function ax(){var t=sh();return function(e,n){return t[Yc]}}function ux(t){return function(e){return tl([t,e])}}function lx(t,e){return t[0]==e[0]?function(n){return tl([t,[n[0],e[1]]])}:t[1]==e[1]?function(n){return tl([t,[e[0],n[1]]])}:null}var cx=function(t){function e(e){var n,r=this,i=e||{};return(r=t.call(this,i)||this).on,r.once,r.un,r.condition_=i.condition?i.condition:Fu,r.extent_=null,r.pointerHandler_=null,r.pixelTolerance_=void 0!==i.pixelTolerance?i.pixelTolerance:10,r.snappedToVertex_=!1,r.extentFeature_=null,r.vertexFeature_=null,e||(e={}),r.extentOverlay_=new ig({source:new tf({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:(n=sh(),function(t,e){return n[Kc]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),r.vertexOverlay_=new ig({source:new tf({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:ax(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&r.setExtent(e.extent),r}return ix(e,t),e.prototype.snapToVertex_=function(t,e){var n=e.getCoordinateFromPixelInternal(t),r=this.getExtentInternal();if(r){var i=function(t){return[[[t[0],t[1]],[t[0],t[3]]],[[t[0],t[3]],[t[2],t[3]]],[[t[2],t[3]],[t[2],t[1]]],[[t[2],t[1]],[t[0],t[1]]]]}(r);i.sort((function(t,e){return Wl(n,t)-Wl(n,e)}));var o=i[0],s=ql(n,o),a=e.getPixelFromCoordinateInternal(s);if(Yl(t,a)<=this.pixelTolerance_){var u=e.getPixelFromCoordinateInternal(o[0]),l=e.getPixelFromCoordinateInternal(o[1]),c=Xl(a,u),h=Xl(a,l),p=Math.sqrt(Math.min(c,h));return this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(s=c>h?o[1]:o[0]),s}}return null},e.prototype.handlePointerMove_=function(t){var e=t.pixel,n=t.map,r=this.snapToVertex_(e,n);r||(r=n.getCoordinateFromPixelInternal(e)),this.createOrUpdatePointerFeature_(r)},e.prototype.createOrUpdateExtentFeature_=function(t){var e=this.extentFeature_;return e?t?e.setGeometry(kg(t)):e.setGeometry(void 0):(e=new Ah(t?kg(t):{}),this.extentFeature_=e,this.extentOverlay_.getSource().addFeature(e)),e},e.prototype.createOrUpdatePointerFeature_=function(t){var e=this.vertexFeature_;e?e.getGeometry().setCoordinates(t):(e=new Ah(new Ig(t)),this.vertexFeature_=e,this.vertexOverlay_.getSource().addFeature(e));return e},e.prototype.handleEvent=function(e){return!e.originalEvent||!this.condition_(e)||(e.type!=vu.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),t.prototype.handleEvent.call(this,e),!1)},e.prototype.handleDownEvent=function(t){var e=t.pixel,n=t.map,r=this.getExtentInternal(),i=this.snapToVertex_(e,n),o=function(t){var e=null,n=null;return t[0]==r[0]?e=r[2]:t[0]==r[2]&&(e=r[0]),t[1]==r[1]?n=r[3]:t[1]==r[3]&&(n=r[1]),null!==e&&null!==n?[e,n]:null};if(i&&r){var s=i[0]==r[0]||i[0]==r[2]?i[0]:null,a=i[1]==r[1]||i[1]==r[3]?i[1]:null;null!==s&&null!==a?this.pointerHandler_=ux(o(i)):null!==s?this.pointerHandler_=lx(o([s,r[1]]),o([s,r[3]])):null!==a&&(this.pointerHandler_=lx(o([r[0],a]),o([r[2],a])))}else i=n.getCoordinateFromPixelInternal(e),this.setExtent([i[0],i[1],i[0],i[1]]),this.pointerHandler_=ux(i);return!0},e.prototype.handleDragEvent=function(t){if(this.pointerHandler_){var e=t.coordinate;this.setExtent(this.pointerHandler_(e)),this.createOrUpdatePointerFeature_(e)}},e.prototype.handleUpEvent=function(t){this.pointerHandler_=null;var e=this.getExtentInternal();return e&&0!==_l(e)||this.setExtent(null),!1},e.prototype.setMap=function(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getExtent=function(){return Lp(this.getExtentInternal(),this.getMap().getView().getProjection())},e.prototype.getExtentInternal=function(){return this.extent_},e.prototype.setExtent=function(t){this.extent_=t||null,this.createOrUpdateExtentFeature_(t),this.dispatchEvent(new sx(this.extent_))},e}(bu),hx={data:()=>({}),props:{properties:{type:Object}}},px={data:()=>({}),props:{options:{type:Object,default:()=>({})}}};const fx=(t,e)=>{for(let n in e)t.on(n,e[n])},dx=(t,e,n)=>{for(const i in n){const o=\"set\"+((r=i)&&\"function\"==typeof r.charAt?r.charAt(0).toUpperCase()+r.slice(1):r),s=!1;n[i].custom&&t[o]?t.$watch(i,(e,n)=>{t[o](e,n)},{deep:s}):e[o]&&t.$watch(i,(t,n)=>{e[o](t)},{deep:s})}var r},gx=t=>{let e=!1;for(;t&&!e;)void 0===t.mapObject||null===t.mapObject?t=t.$parent:e=!0;return t},yx=t=>{for(;t;){if(void 0!==t.mapObject&&null!==t.mapObject&&t.mapObject instanceof _m)return t;t=t.$parent}};const vx=t=>{const e={};for(const n in t){const r=t[n];null!=r&&(e[n]=r)}return e},_x=(t,e)=>{const n=e.options?e.options:{},r=vx(n);t=t&&t.constructor===Object?t:{},t=vx(t);const i=e.$options.props;for(const e in t){const n=i[e]?i[e].default&&\"function\"==typeof i[e].default?i[e].default.call():i[e].default:Symbol(\"unique\");let o=!1;o=Array.isArray(n)?JSON.stringify(n)===JSON.stringify(t[e]):n===t[e],r[e]&&!o?(console.warn(e+\" props is overriding the value passed in the options props\"),r[e]=t[e]):r[e]||(r[e]=t[e])}return Object.assign({},n,r)},mx=t=>{if(t.$listeners)return t.$listeners;{let e={};for(let n in t.$attrs)if(n.startsWith(\"on\")&&t.$attrs[n]instanceof Function){let r=n.substring(2);r=r.substring(0,1).toLowerCase()+r.substring(1),e[r]=t.$attrs[n]}return e}};var bx={mixins:[{data:()=>({mapObject:null,ready:!1,parent:null}),mixins:[hx,px],props:{parentMap:{type:Object},name:{type:String},extent:{type:Array},maxResolution:{type:Number},maxZoom:{type:Number},minResolution:{type:Number},minZoom:{type:Number},opacity:{type:Number},visible:{type:Boolean,default:!0},zIndex:{type:Number}},mounted(){this.parentMap?this.parent=this.parentMap:this.parent=gx(this.$parent).mapObject,this.baseLayerOptions={extent:this.extent,maxResolution:this.maxResolution,maxZoom:this.maxZoom,minResolution:this.minResolution,minZoom:this.minZoom,opacity:this.opacity,visible:this.visible,zIndex:this.zIndex,name:this.name}},destroyed(){this.parent.removeLayer(this.mapObject),this.mapObject=null}}],props:{source:{type:Object}},mounted(){this.layerOptions={...this.baseLayerOptions||{},source:this.source}}},xx={mixins:[bx],props:{preload:{type:Number},useInterimTilesOnError:{type:Boolean}},mounted(){this.baseTileLayerOptions={...this.layerOptions||{},preload:this.preload,useInterimTilesOnError:this.useInterimTilesOnError}}},wx={mixins:[{data:()=>({mapObject:null,ready:!1,parent:null}),mixins:[hx,px],props:{feature:{type:Object},opt_layout:{type:Object}},mounted(){this.feature?this.parent=this.feature:this.parent=gx(this.$parent).mapObject},destroyed(){this.parent.setGeometry(null),this.mapObject=null}}],mounted(){}},Ex={data:()=>({mapObject:null,ready:!1,parent:null}),mixins:[hx,px],props:{parentLayer:{type:Object},attributes:{type:Object},projection:{type:[String,Object]}},mounted(){this.parentLayer?this.parent=this.parentLayer:this.parent=gx(this.$parent).mapObject,this.sourceOptions={attributes:this.attributes,projection:this.projection}},destroyed(){this.parent.setSource(null),this.mapObject=null}},Cx={mixins:[{mixins:[{mixins:[Ex],mounted(){this.tileSourceOptions=this.sourceOptions}}],props:{tileLoadFunction:{type:Function},tileUrlFunction:{type:Function},url:{type:String},urls:{type:Array}},mounted(){this.urlTileSourceOptions={...this.tileSourceOptions||{},tileLoadFunction:this.tileLoadFunction,tileUrlFunction:this.tileUrlFunction,url:this.url,urls:this.urls}}}],props:{},mounted(){this.tileImageSourceOptions={...this.urlTileSourceOptions||{}}}},Sx={mixins:[{mixins:[bx],props:{styleObj:{type:[Object,Function],custom:!0}},mounted(){this.baseVectorLayerOptions={...this.layerOptions||{},styleObj:this.styleObj}},methods:{setStyleObj(t,e){this.mapObject.setStyle(t)}}}],props:{},mounted(){this.vectorLayerOptions={...this.baseVectorLayerOptions||{}}}},Ox={mixins:[Ex],props:{loader:{type:Object},url:{type:String}},mounted(){this.vectorSourceOptions={...this.sourceOptions||{},loader:this.loader,url:this.url}}},Px={mixins:[Cx],mounted(){this.xyzSourceOptions=this.tileImageSourceOptions}},Ix={name:\"Vue2olMap\",inheritAttrs:!1,mixins:[hx,px],emits:[\"init\",\"ready\"],data:()=>({mapObject:null,ready:!1,attrs:null}),props:{layerGroup:{type:Object},layers:{type:Array},size:{type:Array},view:{type:Object}},beforeMount(){this.attrs=(t=>{if(t.$listeners)return t.$attrs;{let e=Object.assign({},t.$attrs);for(let n in e)n.startsWith(\"on\")&&t.$attrs[n]instanceof Function&&delete e[n];return e}})(this)},mounted(){let t=_x({layers:this.layers,view:this.view,target:this.$el},this);this.mapObject=new _m(t),this.layerGroup&&this.mapObject.setLayerGroup(this.layerGroup),this.properties&&this.mapObject.setProperties(this.properties),this.size&&this.mapObject.setSize(this.size),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})},destroyed(){this.mapObject.dispose(),this.mapObject=null}};function Tx(t,e,n,r,i,o,s,a,u,l){\"boolean\"!=typeof s&&(u=a,a=s,s=!1);const c=\"function\"==typeof n?n.options:n;let h;if(t&&t.render&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,i&&(c.functional=!0)),r&&(c._scopeId=r),o?(h=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=h):e&&(h=s?function(t){e.call(this,l(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),h)if(c.functional){const t=c.render;c.render=function(e,n){return h.call(n),t(e,n)}}else{const t=c.beforeCreate;c.beforeCreate=t?[].concat(t,h):[h]}return n}const Mx=\"undefined\"!=typeof navigator&&/msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());function Ax(t){return(t,e)=>function(t,e){const n=Mx?e.media||\"default\":t,r=Rx[n]||(Rx[n]={ids:new Set,styles:[]});if(!r.ids.has(t)){r.ids.add(t);let n=e.source;if(e.map&&(n+=\"\\n/*# sourceURL=\"+e.map.sources[0]+\" */\",n+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+\" */\"),r.element||(r.element=document.createElement(\"style\"),r.element.type=\"text/css\",e.media&&r.element.setAttribute(\"media\",e.media),void 0===Lx&&(Lx=document.head||document.getElementsByTagName(\"head\")[0]),Lx.appendChild(r.element)),\"styleSheet\"in r.element)r.styles.push(n),r.element.styleSheet.cssText=r.styles.filter(Boolean).join(\"\\n\");else{const t=r.ids.size-1,e=document.createTextNode(n),i=r.element.childNodes;i[t]&&r.element.removeChild(i[t]),i.length?r.element.insertBefore(e,i[t]):r.element.appendChild(e)}}}(t,e)}let Lx;const Rx={};const Nx=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\",this._b({staticClass:\"vue2ol-map\"},\"div\",this.attrs,!1),[this.ready?this._t(\"default\"):this._e()],2)},staticRenderFns:[]},(function(t){t&&t(\"data-v-0e1da05e_0\",{source:\".vue2ol-map[data-v-0e1da05e]{width:100%;height:100%;margin:0;padding:0}\",map:void 0,media:void 0})}),Ix,\"data-v-0e1da05e\",!1,void 0,!1,Ax,void 0,void 0);const Fx=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\")},staticRenderFns:[]},void 0,{name:\"Vue2olView\",mixins:[hx,px],emits:[\"init\",\"append\",\"ready\"],data:()=>({mapObject:null,ready:!1,parent:null}),props:{parentMap:{type:Object},center:{type:Array},constrainResolution:{type:Boolean},maxZoom:{type:Number},minZoom:{type:Number},resolution:{type:Number},rotation:{type:Number},zoom:{type:Number}},mounted(){this.parentMap?this.parent=this.parentMap:this.parent=gx(this.$parent).mapObject;let t=_x({center:this.center,constrainResolution:this.constrainResolution,minZoom:this.minZoom,maxZoom:this.maxZoom,resolution:this.resolution,rotation:this.rotation,zoom:this.zoom},this);this.mapObject=new T_(t),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"ready\",this.mapObject),this.parent.setView(this.mapObject),this.$emit(\"append\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})},destroyed(){this.parent.setView(null),this.mapObject=null}},\"data-v-5eadbb96\",!1,void 0,!1,void 0,void 0,void 0);const jx=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\",{ref:\"element\",staticClass:\"vue2ol-overlay\"},[this.ready?this._t(\"default\"):this._e()],2)},staticRenderFns:[]},void 0,{name:\"Vue2olOverlay\",mixins:[hx,px],emits:[\"init\",\"append\",\"ready\"],data:()=>({mapObject:null,ready:!1,parent:null}),props:{parentMap:{type:Object},offset:{type:Array},position:{type:Array},positioning:{type:String}},mounted(){this.parentMap?this.parent=this.parentMap:this.parent=gx(this.$parent).mapObject;let t=_x({element:this.$refs.element,positioning:this.positioning,position:this.position,offset:this.offset},this);this.mapObject=new ay(t),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.addOverlay(this.mapObject),this.$emit(\"append\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})},destroyed(){this.parent.removeOverlay(this.mapObject),this.mapObject=null}},\"data-v-30814da3\",!1,void 0,!1,void 0,void 0,void 0);const Dx=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\",[this.ready?this._t(\"default\"):this._e()],2)},staticRenderFns:[]},void 0,{name:\"Vue2olFeature\",mixins:[hx,px],data:()=>({mapObject:null,ready:!1,parent:null}),emits:[\"init\",\"append\",\"ready\"],props:{parentLayer:{type:Object},geometry:{type:Object},geometryName:{type:String,custom:!0},id:{type:[Number,String]},styleObj:{type:Object,custom:!0}},methods:{setStyleObj(t){this.mapObject.setStyle(t)},setGeometryName(t){let e=this.mapObject.getGeometry();this.mapObject.setGeometryName(t),this.mapObject.setGeometry(e)}},mounted(){this.parentLayer?this.parent=this.parentLayer:this.parent=gx(this.$parent).mapObject;let t=_x({geometry:this.geometry},this);this.mapObject=new Ah(t),this.geometryName&&this.setGeometryName(this.geometryName),this.id&&this.mapObject.setId(this.id),this.styleObj&&this.mapObject.setStyle(this.styleObj),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.addFeature(this.mapObject),this.$emit(\"append\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})},destroyed(){this.parent.removeFeature(this.mapObject),this.mapObject=null}},\"data-v-9ef97130\",!1,void 0,!1,void 0,void 0,void 0);const kx=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\",[this.ready?this._t(\"default\"):this._e()],2)},staticRenderFns:[]},void 0,{name:\"Vue2olGeomCircle\",mixins:[wx],emits:[\"init\",\"append\",\"ready\"],data:()=>({}),props:{center:{require:!0,type:Array},radius:{type:Number}},watch:{},mounted(){this.mapObject=new py(this.center,this.radius,this.opt_layout),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.setGeometry(this.mapObject),this.$emit(\"append\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}},\"data-v-3ccdba1a\",!1,void 0,!1,void 0,void 0,void 0);const Gx=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\",[this.ready?this._t(\"default\"):this._e()],2)},staticRenderFns:[]},void 0,{name:\"Vue2olGeomLinestring\",mixins:[wx],emits:[\"init\",\"append\",\"ready\"],data:()=>({}),props:{coordinates:{require:!0,type:Array}},watch:{},mounted(){this.mapObject=new wg(this.coordinates,this.opt_layout),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.setGeometry(this.mapObject),this.$emit(\"append\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}},\"data-v-463be97a\",!1,void 0,!1,void 0,void 0,void 0);const Bx=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\",[this.ready?this._t(\"default\"):this._e()],2)},staticRenderFns:[]},void 0,{name:\"Vue2olGeomMultilinestring\",mixins:[wx],emits:[\"init\",\"append\",\"ready\"],data:()=>({}),props:{coordinates:{require:!0,type:Array}},watch:{},mounted(){this.mapObject=new bm(this.coordinates,this.opt_layout),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.setGeometry(this.mapObject),this.$emit(\"append\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}},\"data-v-84de5888\",!1,void 0,!1,void 0,void 0,void 0);const zx=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\",[this.ready?this._t(\"default\"):this._e()],2)},staticRenderFns:[]},void 0,{name:\"Vue2olGeomMultipoint\",mixins:[wx],emits:[\"init\",\"append\",\"ready\"],data:()=>({}),props:{coordinates:{require:!0,type:Array}},watch:{},mounted(){this.mapObject=new wm(this.coordinates,this.opt_layout),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.setGeometry(this.mapObject),this.$emit(\"append\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}},\"data-v-01a36f3b\",!1,void 0,!1,void 0,void 0,void 0);const Vx=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\",[this.ready?this._t(\"default\"):this._e()],2)},staticRenderFns:[]},void 0,{name:\"Vue2olGeomMultipolygon\",mixins:[wx],emits:[\"init\",\"append\",\"ready\"],data:()=>({}),props:{coordinates:{require:!0,type:Array}},watch:{},mounted(){this.mapObject=new Cm(this.coordinates,this.opt_layout),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.setGeometry(this.mapObject),this.$emit(\"append\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}},\"data-v-12a96208\",!1,void 0,!1,void 0,void 0,void 0);const qx=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\",[this.ready?this._t(\"default\"):this._e()],2)},staticRenderFns:[]},void 0,{name:\"Vue2olGeomPoint\",mixins:[wx],emits:[\"init\",\"append\",\"ready\"],data:()=>({}),props:{coordinates:{require:!0,type:Array}},watch:{},mounted(){this.mapObject=new Ig(this.coordinates,this.opt_layout),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.setGeometry(this.mapObject),this.$emit(\"append\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}},\"data-v-64803f32\",!1,void 0,!1,void 0,void 0,void 0);const Ux=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\",[this.ready?this._t(\"default\"):this._e()],2)},staticRenderFns:[]},void 0,{name:\"Vue2olGeomPolygon\",mixins:[wx],emits:[\"init\",\"append\",\"ready\"],data:()=>({}),props:{coordinates:{require:!0,type:Array}},watch:{},mounted(){this.mapObject=new Dg(this.coordinates,this.opt_layout),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.setGeometry(this.mapObject),this.$emit(\"append\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}},\"data-v-c12bfc14\",!1,void 0,!1,void 0,void 0,void 0);const $x=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\",[this.ready?this._t(\"default\"):this._e()],2)},staticRenderFns:[]},void 0,{name:\"Vue2olLayerTile\",mixins:[xx],emits:[\"init\",\"append\",\"ready\"],data:()=>({}),props:{},mounted(){let t=_x({...this.baseTileLayerOptions||{}},this);this.mapObject=new Hm(t),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.addLayer(this.mapObject),this.$emit(\"append\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}},\"data-v-29d543ca\",!1,void 0,!1,void 0,void 0,void 0);const Xx=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\",[this.ready?this._t(\"default\"):this._e()],2)},staticRenderFns:[]},void 0,{name:\"Vue2olLayerVector\",mixins:[Sx],data:()=>({}),props:{},watch:{},mounted(){let t=_x({...this.vectorLayerOptions||{}},this);t.style=t.styleObj,this.mapObject=new ig(t),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.addLayer(this.mapObject),this.$emit(\"append\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})},destroyed(){this.parent.removeLayer(this.mapObject),this.mapObject=null}},\"data-v-3f6ed64f\",!1,void 0,!1,void 0,void 0,void 0);const Yx=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\",[this.ready?this._t(\"default\"):this._e()],2)},staticRenderFns:[]},void 0,{name:\"Vue2olSourceOsm\",mixins:[Px],emits:[\"init\",\"append\",\"ready\"],data:()=>({}),props:{},methods:{},mounted(){let t=_x({...this.XYZSourceMixin||{}},this);this.mapObject=new Sb(t),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.setSource(this.mapObject),this.$emit(\"append\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}},\"data-v-0ff93e6c\",!1,void 0,!1,void 0,void 0,void 0);const Wx=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\",[this.ready?this._t(\"default\"):this._e()],2)},staticRenderFns:[]},void 0,{name:\"Vue2olSourceStamen\",mixins:[Px],data:()=>({}),props:{layer:{type:String,default:\"terrain\"}},methods:{},mounted(){let t=_x({...this.XYZSourceMixin||{},layer:this.layer},this);this.mapObject=new Mb(t),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.setSource(this.mapObject),this.$emit(\"append\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}},\"data-v-29a1a596\",!1,void 0,!1,void 0,void 0,void 0);const Hx=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\",[this.ready?this._t(\"default\"):this._e()],2)},staticRenderFns:[]},void 0,{name:\"Vue2olSourceVector\",mixins:[Ox],data:()=>({}),props:{features:{type:Array,custom:!0}},methods:{setFeatures(t,e){this.mapObject.clear(),this.mapObject.addFeatures(t)}},mounted(){let t=_x({...this.vectorSourceOptions||{},features:this.features},this);this.mapObject=new tf(t),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.setSource(this.mapObject),this.$emit(\"append\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}},\"data-v-6720377d\",!1,void 0,!1,void 0,void 0,void 0);const Kx=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\",[this.ready?this._t(\"default\"):this._e()],2)},staticRenderFns:[]},void 0,{name:\"Vue2olSourceXyz\",mixins:[Px],emits:[\"init\",\"append\",\"ready\"],data:()=>({}),props:{},methods:{},mounted(){let t=_x(this.xyzSourceOptions,this);this.mapObject=new wb(t),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.setSource(this.mapObject),this.$emit(\"append\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}},\"data-v-30beef60\",!1,void 0,!1,void 0,void 0,void 0);const Zx=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\")},staticRenderFns:[]},void 0,{name:\"Vue2olInteractionDraw\",mixins:[hx,hx],data:()=>({mapObject:null,parent:null,ready:!1,map:null}),props:{parentMap:{type:Object},parentSource:{type:Object},active:{type:Boolean},type:{type:String,custom:!0}},mounted(){this.parentSource?this.parent=this.parentSource:this.parent=gx(this.$parent).mapObject,this.parentMap?this.map=this.parentMap:this.map=yx(this.$parent).mapObject,this.initInteraction()},destroyed(){this.mapObject.setActive(!1),this.map.removeInteraction(this.mapObject)},methods:{setType(){this.initInteraction()},initInteraction(){this.mapObject&&(this.mapObject.setActive(!1),this.map.removeInteraction(this.mapObject),this.mapObject=null);let t=_x({source:this.parent,type:this.type},this);this.mapObject=new Bb(t),this.mapObject.setActive(this.active),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.map.addInteraction(this.mapObject),this.$emit(\"ready\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const Jx=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\")},staticRenderFns:[]},void 0,{name:\"Vue2olInteractionModify\",mixins:[hx,hx],data:()=>({mapObject:null,parent:null,ready:!1,map:null}),props:{parentMap:{type:Object},parentSource:{type:Object},active:{type:Boolean}},mounted(){this.parentSource?this.parent=this.parentSource:this.parent=gx(this.$parent).mapObject,this.parentMap?this.map=this.parentMap:this.map=yx(this.$parent).mapObject,this.initInteraction()},destroyed(){this.mapObject.setActive(!1),this.map.removeInteraction(this.mapObject)},methods:{initInteraction(){this.ready=!1,this.mapObject&&(this.mapObject.setActive(!1),this.map.removeInteraction(this.mapObject),this.mapObject=null);let t=_x({source:this.parent},this);this.mapObject=new Kb(t),this.mapObject.setActive(this.active),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.map.addInteraction(this.mapObject),this.$emit(\"ready\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const Qx=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\")},staticRenderFns:[]},void 0,{name:\"Vue2olInteractionSelect\",mixins:[hx,hx],data:()=>({mapObject:null,parent:null,ready:!1,map:null}),props:{parentMap:{type:Object},parentLayers:{type:Object},active:{type:Boolean},hitTolerance:{type:Number}},mounted(){this.parentLayers?this.parent=this.parentLayers:this.parent=[gx(this.$parent).mapObject],this.parentMap?this.map=this.parentMap:this.map=yx(this.$parent).mapObject,this.initInteraction()},destroyed(){this.mapObject.setActive(!1),this.map.removeInteraction(this.mapObject)},methods:{initInteraction(){this.ready=!1,this.mapObject&&(this.mapObject.setActive(!1),this.map.removeInteraction(this.mapObject),this.mapObject=null);let t=_x({layers:this.parent,hitTolerance:this.hitTolerance},this);this.mapObject=new ex(t),this.mapObject.setActive(this.active),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.map.addInteraction(this.mapObject),this.$emit(\"ready\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const tw=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\")},staticRenderFns:[]},void 0,{name:\"Vue2olInteractionDragpan\",mixins:[hx,hx],data:()=>({mapObject:null,parent:null,ready:!1}),props:{parentMap:{type:Object},active:{type:Boolean}},mounted(){this.parentMap?this.parent=this.parentMap:this.parent=yx(this.$parent).mapObject,this.initInteraction()},destroyed(){this.mapObject.setActive(!1),this.parent.removeInteraction(this.mapObject)},methods:{initInteraction(){this.ready=!1,this.mapObject&&(this.mapObject.setActive(!1),this.parent.removeInteraction(this.mapObject),this.mapObject=null);let t=_x({hitTolerance:this.hitTolerance},this);this.mapObject=new Jl(t),this.mapObject.setActive(this.active),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.addInteraction(this.mapObject),this.$emit(\"ready\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const ew=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\")},staticRenderFns:[]},void 0,{name:\"Vue2olInteractionDragzoom\",mixins:[hx,hx],data:()=>({mapObject:null,parent:null,ready:!1}),props:{parentMap:{type:Object},active:{type:Boolean}},mounted(){this.parentMap?this.parent=this.parentMap:this.parent=yx(this.$parent).mapObject,this.initInteraction()},destroyed(){this.mapObject.setActive(!1),this.parent.removeInteraction(this.mapObject)},methods:{initInteraction(){this.ready=!1,this.mapObject&&(this.mapObject.setActive(!1),this.parent.removeInteraction(this.mapObject),this.mapObject=null);let t=_x({hitTolerance:this.hitTolerance},this);this.mapObject=new Q_(t),this.mapObject.setActive(this.active),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.addInteraction(this.mapObject),this.$emit(\"ready\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const nw=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\")},staticRenderFns:[]},void 0,{name:\"Vue2olInteractionDragrotate\",mixins:[hx,hx],data:()=>({mapObject:null,parent:null,ready:!1}),props:{parentMap:{type:Object},active:{type:Boolean}},mounted(){this.parentMap?this.parent=this.parentMap:this.parent=yx(this.$parent).mapObject,this.initInteraction()},destroyed(){this.mapObject.setActive(!1),this.parent.removeInteraction(this.mapObject)},methods:{initInteraction(){this.ready=!1,this.mapObject&&(this.mapObject.setActive(!1),this.parent.removeInteraction(this.mapObject),this.mapObject=null);let t=_x({},this);this.mapObject=new V_(t),this.mapObject.setActive(this.active),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.addInteraction(this.mapObject),console.log(this.parent.getInteractions()),this.$emit(\"ready\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const rw=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\")},staticRenderFns:[]},void 0,{name:\"Vue2olInteractionDragrotateandzoom\",mixins:[hx,hx],data:()=>({mapObject:null,parent:null,ready:!1}),props:{parentMap:{type:Object},active:{type:Boolean}},mounted(){this.parentMap?this.parent=this.parentMap:this.parent=yx(this.$parent).mapObject,this.initInteraction()},destroyed(){this.mapObject.setActive(!1),this.parent.removeInteraction(this.mapObject)},methods:{initInteraction(){this.ready=!1,this.mapObject&&(this.mapObject.setActive(!1),this.parent.removeInteraction(this.mapObject),this.mapObject=null);let t=_x({},this);this.mapObject=new rx(t),this.mapObject.setActive(this.active),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.addInteraction(this.mapObject),console.log(this.parent.getInteractions()),this.$emit(\"ready\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const iw=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\")},staticRenderFns:[]},void 0,{name:\"Vue2olInteractionMousewheelzoom\",mixins:[hx,hx],data:()=>({mapObject:null,parent:null,ready:!1}),props:{parentMap:{type:Object},active:{type:Boolean},mouseAnchor:{type:Boolean}},mounted(){this.parentMap?this.parent=this.parentMap:this.parent=yx(this.$parent).mapObject,this.initInteraction()},destroyed(){this.mapObject.setActive(!1),this.parent.removeInteraction(this.mapObject)},methods:{initInteraction(){this.ready=!1,this.mapObject&&(this.mapObject.setActive(!1),this.parent.removeInteraction(this.mapObject),this.mapObject=null);let t=_x({useAnchor:this.mouseAnchor},this);this.mapObject=new pm(t),this.mapObject.setActive(this.active),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.addInteraction(this.mapObject),this.$emit(\"ready\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const ow=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\")},staticRenderFns:[]},void 0,{name:\"Vue2olInteractionExtent\",mixins:[hx,hx],data:()=>({mapObject:null,parent:null,ready:!1}),props:{parentMap:{type:Object},active:{type:Boolean},extent:{type:Boolean}},mounted(){this.parentMap?this.parent=this.parentMap:this.parent=yx(this.$parent).mapObject,this.initInteraction()},destroyed(){this.mapObject.setActive(!1),this.parent.removeInteraction(this.mapObject)},methods:{initInteraction(){this.ready=!1,this.mapObject&&(this.mapObject.setActive(!1),this.parent.removeInteraction(this.mapObject),this.mapObject=null);let t=_x({useAnchor:this.mouseAnchor},this);this.mapObject=new cx(t),this.mapObject.setActive(this.active),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.addInteraction(this.mapObject),this.$emit(\"ready\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const sw=Tx({render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\")},staticRenderFns:[]},void 0,{name:\"Vue2olInteractionDoubleclickzoom\",mixins:[hx,hx],data:()=>({mapObject:null,parent:null,ready:!1}),props:{parentMap:{type:Object},active:{type:Boolean}},mounted(){this.parentMap?this.parent=this.parentMap:this.parent=yx(this.$parent).mapObject,this.initInteraction()},destroyed(){this.mapObject.setActive(!1),this.parent.removeInteraction(this.mapObject)},methods:{initInteraction(){this.ready=!1,this.mapObject&&(this.mapObject.setActive(!1),this.parent.removeInteraction(this.mapObject),this.mapObject=null);let t=_x({},this);this.mapObject=new tc(t),this.mapObject.setActive(this.active),this.properties&&this.mapObject.setProperties(this.properties),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.$emit(\"init\",this.mapObject),this.parent.addInteraction(this.mapObject),this.$emit(\"ready\",this.mapObject),this.ready=!0,this.$nextTick(()=>{this.$emit(\"ready\",this.mapObject)})}}},void 0,!1,void 0,!1,void 0,void 0,void 0);var aw=Object.freeze({__proto__:null,Vue2olMap:Nx,Vue2olView:Fx,Vue2olOverlay:jx,Vue2olFeature:Dx,Vue2olGeomCircle:kx,Vue2olGeomLinestring:Gx,Vue2olGeomMultilinestring:Bx,Vue2olGeomMultipoint:zx,Vue2olGeomMultipolygon:Vx,Vue2olGeomPoint:qx,Vue2olGeomPolygon:Ux,Vue2olLayerTile:$x,Vue2olLayerVector:Xx,Vue2olSourceOsm:Yx,Vue2olSourceStamen:Wx,Vue2olSourceVector:Hx,Vue2olSourceXyz:Kx,Vue2olInteractionDraw:Zx,Vue2olInteractionModify:Jx,Vue2olInteractionSelect:Qx,Vue2olInteractionDragpan:tw,Vue2olInteractionDragzoom:ew,Vue2olInteractionDragrotate:nw,Vue2olInteractionDragrotateandzoom:rw,Vue2olInteractionMousewheelzoom:iw,Vue2olInteractionExtent:ow,Vue2olInteractionDoubleclickzoom:sw});const uw=function(t){uw.installed||Object.keys(aw).forEach(e=>{t.component(aw[e].name,aw[e])})};\"undefined\"!=typeof window&&window.Vue&&uw(window.Vue);const lw={install:uw};var cw={name:\"Vue2olAnimationArrowline\",components:{},mixins:[lw],props:{parentSource:{type:Object},coordinates:{type:Array},lineStyle:{type:Object|Function},arrowStyle:{type:Object|Function},speed:{type:Number,default:1},interval:{type:Number,default:20}},data:function(){return{parent:null,mapObject:null}},mounted:function(){var t=this;this.parentSource?this.parent=this.parentSource:this.parent=gx(this.$parent).mapObject;var e=_x({coordinates:this.coordinates,lineStyle:this.lineStyle,arrowStyle:this.arrowStyle,interval:this.interval,speed:this.speed,source:this.parent},this);this.mapObject=new zv.ArrowLine(e),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.mapObject.start(),this.ready=!0,this.$nextTick((function(){t.$emit(\"ready\",t.mapObject)}))},destroyed:function(){this.mapObject.dispose()},methods:{setParentSource:function(t,e){this.mapObject.setSource(t)}}},hw=Object(va.a)(cw,(function(){var t=this.$createElement;return(this._self._c||t)(\"div\")}),[],!1,null,\"9723e8f8\",null).exports,pw={name:\"Vue2olAnimationDynamicline\",components:{},mixins:[lw],props:{parentSource:{type:Object},coordinates:{type:Array},outlineColor:{type:String,default:\"#ff0000\"},outlineWidth:{type:Number,default:8},innerlineColor:{type:String,default:\"#ffffff\"},innerlineWidth:{type:Number,default:6},innerlineDash:{type:Array,default:function(){return[0,12]}},innerlineDashOffset:{type:Number,default:0}},data:function(){return{parent:null,mapObject:null}},mounted:function(){var t=this;this.parentSource?this.parent=this.parentSource:this.parent=gx(this.$parent).mapObject;var e=_x({coordinates:this.coordinates,outlineColor:this.outlineColor,outlineWidth:this.outlineWidth,innerlineColor:this.innerlineColor,innerlineWidth:this.innerlineWidth,innerlineDash:this.innerlineDash,innerlineDashOffset:this.innerlineDashOffset,source:this.parent},this);this.mapObject=new zv.DynamicLine(e),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.mapObject.start(),this.ready=!0,this.$nextTick((function(){t.$emit(\"ready\",t.mapObject)}))},destroyed:function(){this.mapObject.dispose()},methods:{setParentSource:function(t,e){this.mapObject.setSource(t)}}},fw=Object(va.a)(pw,(function(){var t=this.$createElement;return(this._self._c||t)(\"div\")}),[],!1,null,\"48da8816\",null).exports,dw={name:\"Vue2olAnimationFlight\",components:{},mixins:[lw],props:{parentSource:{type:Object},from:{type:Array},to:{type:Array},radius:{type:Number},angle:{type:Number},loop:{type:Boolean,default:!0},space:{type:Number},smooth:{type:Number},endArrow:{type:[Object,Boolean,Function],default:!0},animationArrow:{type:[Object,Boolean,Function],default:!0},lineStyle:{type:[Function,Array]},lineAnimationStyle:{type:[Function,Array]},pointAnimationStyle:{type:[Function,Array]}},data:function(){return{parent:null,mapObject:null}},mounted:function(){var t=this;this.parentSource?this.parent=this.parentSource:this.parent=gx(this.$parent).mapObject;var e=_x({from:this.from,to:this.to,radius:this.radius,angle:this.angle,loop:this.loop,space:this.space,smooth:this.smooth,endArrow:this.endArrow,animationArrow:this.animationArrow,lineStyle:this.lineStyle,lineAnimationStyle:this.lineAnimationStyle,pointAnimationStyle:this.pointAnimationStyle,source:this.parent},this);this.mapObject=new zv.Flight(e),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.mapObject.start(),this.ready=!0,this.$nextTick((function(){t.$emit(\"ready\",t.mapObject)}))},destroyed:function(){this.mapObject.dispose()},methods:{setParentSource:function(t,e){this.mapObject.setSource(t)}}},gw=Object(va.a)(dw,(function(){var t=this.$createElement;return(this._self._c||t)(\"div\")}),[],!1,null,\"732e5bba\",null).exports,yw={name:\"Vue2olAnimationRadar\",components:{},mixins:[lw],props:{parentSource:{type:Object},center:{type:Array},radius:{type:Number},startAngle:{type:Number},arcAngle:{type:Number},period:{type:Number,default:10},loop:{type:Boolean,default:!0},centerStyle:{type:[Function,Object,Array]},circleStyle:{type:[Function,Object,Array]},arcStyle:{type:[Function,Object,Array]}},data:function(){return{parent:null,mapObject:null}},mounted:function(){var t=this;this.parentSource?this.parent=this.parentSource:this.parent=gx(this.$parent).mapObject;var e=_x({center:this.center,radius:this.radius,startAngle:this.startAngle,period:this.period,loop:this.loop,centerStyle:this.centerStyle,circleStyle:this.circleStyle,arcStyle:this.arcStyle,arcAngle:this.arcAngle,source:this.parent},this);this.mapObject=new zv.Radar(e),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.mapObject.start(),this.ready=!0,this.$nextTick((function(){t.$emit(\"ready\",t.mapObject)}))},destroyed:function(){this.mapObject.dispose()},methods:{setParentSource:function(t,e){this.mapObject.setSource(t)}}},vw=Object(va.a)(yw,(function(){var t=this.$createElement;return(this._self._c||t)(\"div\")}),[],!1,null,\"f2612a26\",null).exports,_w={name:\"Vue2olAnimationScatter\",components:{},mixins:[lw],props:{parentSource:{type:Object},coordinate:{type:Array},innerRadius:{type:Number,default:10},outerRadius:{type:Number,default:50},innerOpacity:{type:Number,default:0},outerOpacity:{type:Number,default:.3},loop:{type:Boolean,default:!0},centerStyle:{type:[Function,Object,Array]},rippleStyle:{type:[Function,Object,Array]},period:{type:Number}},data:function(){return{parent:null,mapObject:null}},mounted:function(){var t=this;this.parentSource?this.parent=this.parentSource:this.parent=gx(this.$parent).mapObject;var e=_x({coordinate:this.coordinate,innerRadius:this.innerRadius,outerRadius:this.outerRadius,innerOpacity:this.innerOpacity,outerOpacity:this.outerOpacity,loop:this.loop,centerStyle:this.centerStyle,rippleStyle:this.rippleStyle,period:this.period,source:this.parent},this);this.mapObject=new zv.Scatter(e),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.mapObject.start(),this.ready=!0,this.$nextTick((function(){t.$emit(\"ready\",t.mapObject)}))},destroyed:function(){this.mapObject.dispose()},methods:{setParentSource:function(t,e){this.mapObject.setSource(t)}}},mw=Object(va.a)(_w,(function(){var t=this.$createElement;return(this._self._c||t)(\"div\")}),[],!1,null,\"49f3b258\",null).exports,bw={name:\"Vue2olAnimationTrack\",components:{},mixins:[lw],props:{parentSource:{type:Object},coordinates:{type:Array},loop:{type:Boolean,default:!0},lineStyle:{type:[Function,Array]},lineAnimationStyle:{type:[Function,Array]},pointAnimationStyle:{type:[Function,Array]}},data:function(){return{parent:null,mapObject:null}},mounted:function(){var t=this;this.parentSource?this.parent=this.parentSource:this.parent=gx(this.$parent).mapObject;var e=_x({coordinates:this.coordinates,loop:this.loop,lineStyle:this.lineStyle,lineAnimationStyle:this.lineAnimationStyle,pointAnimationStyle:this.pointAnimationStyle,source:this.parent},this);this.mapObject=new zv.Track(e),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.mapObject.start(),this.ready=!0,this.$nextTick((function(){t.$emit(\"ready\",t.mapObject)}))},destroyed:function(){this.mapObject.dispose()},methods:{setParentSource:function(t,e){this.mapObject.setSource(t)}}},xw=Object(va.a)(bw,(function(){var t=this.$createElement;return(this._self._c||t)(\"div\")}),[],!1,null,\"629fa32c\",null).exports,ww=(n(388),{name:\"Vue2olControlMousetips\",inheritAttrs:!1,components:{Vue2olOverlay:jx},props:{parentMap:{type:Object},message:{type:String}},data:function(){return{parent:null,position:void 0}},mounted:function(){this.parentMap?this.parent=this.parentMap:this.parent=gx(this.$parent).mapObject,this.parent.on(\"pointermove\",this.onPointerMove)},destory:function(){this.parent.un(\"pointermove\",this.onPointerMove)},methods:{onPointerMove:function(t){this.position=this.parent.getCoordinateFromPixel([t.originalEvent.layerX,t.originalEvent.layerY])}}}),Ew=(n(389),Object(va.a)(ww,(function(){var t=this.$createElement;return(this._self._c||t)(\"vue2ol-overlay\",this._b({staticClass:\"vue2ol-control-mousetips\",attrs:{position:this.position}},\"vue2ol-overlay\",this.$attrs,!1),[this._v(\"\\n  \"+this._s(this.message)+\"\\n\")])}),[],!1,null,\"2c9ddf4a\",null).exports),Cw={name:\"Vue2olControlMouseinfo\",inheritAttrs:!1,components:{Vue2olControlMousetips:Ew},props:{format:{type:String,default:\"{x},{y},{z}\"}},data:function(){return{message:\"\"}},mounted:function(){this.parentMap?this.parent=this.parentMap:this.parent=gx(this.$parent).mapObject,this.parent.on(\"pointermove\",this.onPointerMove)},destory:function(){this.parent.un(\"pointermove\",this.onPointerMove)},methods:{onPointerMove:function(t){var e=this.parent.getCoordinateFromPixel([t.originalEvent.layerX,t.originalEvent.layerY]);this.message=this.format.replaceAll(\"{x}\",e[0]).replaceAll(\"{y}\",e[1]).replaceAll(\"{z}\",this.parent.getView().getZoom())}}},Sw=(n(390),Object(va.a)(Cw,(function(){var t=this.$createElement;return(this._self._c||t)(\"vue2ol-control-mousetips\",{staticClass:\"vue2ol-control-mouseinfo\",attrs:{message:this.message}})}),[],!1,null,\"0cecea55\",null).exports),Ow={name:\"Vue2olControlPopup\",inheritAttrs:!1,components:{Vue2olOverlay:jx},props:{parentMap:{type:Object},direction:{type:String,default:\"top\"},position:{type:Array},showClose:{type:Boolean,default:!0}},data:function(){return{parent:null,visible:!1}},watch:{position:function(){this.visible=!0}},computed:{positioning:function(){return\"top\"==this.direction?\"bottom-center\":\"bottom\"==this.direction?\"top-center\":\"left\"==this.direction?\"center-right\":\"right\"==this.direction?\"center-left\":void 0},offset:function(){return\"top\"==this.direction?[0,-10]:\"bottom\"==this.direction?[0,10]:\"left\"==this.direction?[-10,0]:\"right\"==this.direction?[10,0]:void 0}},mounted:function(){this.parentMap?this.parent=this.parentMap:this.parent=gx(this.$parent).mapObject},methods:{close:function(){this.visible=!1}}},Pw=(n(391),Object(va.a)(Ow,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"vue2ol-overlay\",t._b({directives:[{name:\"show\",rawName:\"v-show\",value:t.visible,expression:\"visible\"}],staticClass:\"vue2ol-control-popup\",class:[\"vue2ol-control-popup-\"+t.direction],attrs:{position:t.position,positioning:t.positioning,offset:t.offset}},\"vue2ol-overlay\",t.$attrs,!1),[n(\"div\",{staticClass:\"vue2ol-control-popup-content-wrapper\"},[n(\"div\",{staticClass:\"vue2ol-control-popup-content\"},[t._t(\"default\")],2)]),t._v(\" \"),n(\"div\",{staticClass:\"vue2ol-control-popup-tip-container\"},[n(\"div\",{staticClass:\"vue2ol-control-popup-tip\"})]),t._v(\" \"),t.showClose?n(\"span\",{staticClass:\"vue2ol-control-popup-close-button\",on:{click:t.close}},[t._v(\"×\")]):t._e()])}),[],!1,null,\"614266c4\",null).exports),Iw=n(133),Tw={name:\"Vue2olSourceBaidu\",mixins:[Cx],data:function(){return{newUrl:\"\"}},props:{layer:{type:String,default:\"normal_map\"},projection:{type:[String,Object],default:\"EPSG:3857\"}},mounted:function(){var t=this;\"normal_map\"==this.layer?this.newUrl=\"http://online0.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles=pl&scaler=1&p=1\":\"satellite_map\"==this.layer?this.newUrl=\"http://shangetu0.map.bdimg.com/it/u=x={x};y={y};z={z};v=009;type=sate&fm=46\":\"satellite_annotion\"==this.layer&&(this.newUrl=\"http://online0.map.bdimg.com/tile/?qt=tile&x={x}&y={y}&z={z}&styles=sl&v=020\");for(var e=[],n=0;n<19;n++)e[n]=Math.pow(2,18-n);var r=new sb({origin:[0,0],resolutions:e}),i=_x(Object(Iw.a)(Object(Iw.a)({},this.tileImageSourceOptions||{}),{},{tileGrid:r,projection:this.projection,tileUrlFunction:function(e,n,r){if(!e)return\"\";var i=e[0],o=e[1],s=-e[2]-1;return o<0&&(o=\"M\"+-o),s<0&&(s=\"M\"+-s),t.newUrl.replace(\"{x}\",o).replace(\"{y}\",s).replace(\"{z}\",i)}}),this);this.mapObject=new bb(i),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.parent.setSource(this.mapObject),this.ready=!0,this.$nextTick((function(){t.$emit(\"ready\",t.mapObject)}))}},Mw=Object(va.a)(Tw,(function(){var t=this.$createElement;return(this._self._c||t)(\"div\")}),[],!1,null,null,null).exports,Aw=(n(394),n(225),{name:\"Vue2olSourceBind\",mixins:[Px],components:{Vue2olSourceXyz:Kx},data:function(){return{}},props:{},mounted:function(){},methods:{tileUrlFunction2:function(t,e,n){return this.getVETileUrl(\"http://t0.dynamic.tiles.ditu.live.com/comp/ch/\",t[0],t[1],t[2])},getVETileUrl:function(t,e,n,r){for(var i=\"\",o=n,s=r,a=0;a<e;a++)i=((1&o)+2*(1&s)).toString()+i,o>>=1,s>>=1;return t+i+\"?it=G,VE,BX,L,LA&mkt=zh-cn,syr&n=z&og=111&ur=CN\"}}}),Lw=Object(va.a)(Aw,(function(){var t=this.$createElement;return(this._self._c||t)(\"vue2ol-source-xyz\",{attrs:{tileUrlFunction:this.tileUrlFunction2}})}),[],!1,null,null,null).exports,Rw={name:\"Vue2olSourceGaode\",mixins:[Px],components:{Vue2olSourceXyz:Kx},data:function(){return{newUrl:\"\"}},props:{layer:{type:String,default:\"normal_map\"}},mounted:function(){\"normal_map\"==this.layer?this.newUrl=\"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}\":\"satellite_map\"==this.layer?this.newUrl=\"http://webst0{1-4}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}\":\"satellite_annotion\"==this.layer&&(this.newUrl=\"http://webst0{1-4}.is.autonavi.com/appmaptile?style=8&x={x}&y={y}&z={z}\")}},Nw=Object(va.a)(Rw,(function(){var t=this.$createElement;return(this._self._c||t)(\"vue2ol-source-xyz\",{attrs:{url:this.newUrl}})}),[],!1,null,null,null).exports,Fw={name:\"Vue2olSourceGeoq\",mixins:[Px],components:{Vue2olSourceXyz:Kx},data:function(){return{newUrl:\"\"}},props:{layer:{type:String,default:\"normal_map\"},projection:{type:[String,Object],default:\"EPSG:3857\"}},mounted:function(){\"normal_map\"==this.layer?this.newUrl=\"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineCommunity/MapServer/tile/{z}/{y}/{x}\":\"normal_purplishblue\"==this.layer?this.newUrl=\"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}\":\"normal_gray\"==this.layer?this.newUrl=\"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetGray/MapServer/tile/{z}/{y}/{x}\":\"normal_warm\"==this.layer?this.newUrl=\"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetWarm/MapServer/tile/{z}/{y}/{x}\":\"theme_hydro\"==this.layer&&(this.newUrl=\"http://thematic.geoq.cn/arcgis/rest/services/ThematicMaps/WorldHydroMap/MapServer/tile/{z}/{y}/{x}\")}},jw=Object(va.a)(Fw,(function(){var t=this.$createElement;return(this._self._c||t)(\"vue2ol-source-xyz\",{attrs:{url:this.newUrl}})}),[],!1,null,null,null).exports,Dw={name:\"Vue2olSourceTdt\",mixins:[Px],components:{Vue2olSourceXyz:Kx},data:function(){return{newUrl:\"\"}},props:{layer:{type:String,default:\"img\"},tk:{type:String,default:function(){return\"cc4ded9c8fa65c654611568acc889439\"}},projection:{type:[String,Object],default:\"EPSG:4326\"}},mounted:function(){this.newUrl=\"http://t0.tianditu.gov.cn/\".concat(this.layer,\"_c/wmts?layer=\").concat(this.layer,\"&style=default&tilematrixset=c&Service=WMTS&Request=GetTile&Version=1.0.0&Format=tiles&TileMatrix={z}&TileCol={x}&TileRow={y}&tk=\").concat(this.tk)}},kw=Object(va.a)(Dw,(function(){var t=this.$createElement;return(this._self._c||t)(\"vue2ol-source-xyz\",{attrs:{url:this.newUrl,projection:this.projection}})}),[],!1,null,null,null).exports,Gw=(n(395),{name:\"Vue2olRendererCanvasclip\",props:{parentMap:null,geometry:{require:!0}},data:function(){return{parent:null}},mounted:function(){this.parentMap?this.parent=this.parentMap:this.parent=gx(this.$parent).mapObject,this.parent.on(\"postcompose\",this.onPostRender)},beforeDestroy:function(){this.parent.un(\"postcompose\",this.onPostRender)},methods:{onPostRender:function(t){var e=this;if(this.geometry){var n=t.target;n.renderer_&&n.renderer_.children_.length>0&&n.renderer_.children_.forEach((function(t){for(var r=t.getElementsByTagName(\"canvas\"),i=0;i<r.length;i++){var o=r[i].getContext(\"2d\");e.createclip(o,e.geometry,n)}}))}},createclip:function(t,e,n){t.save();for(var r=e.getCoordinates(),i=[],o=0;o<r.length;o++){for(var s=r[o],a=[],u=0;u<s.length;u++)a.push(n.getPixelFromCoordinate(s[u]));i.push(a)}t.globalCompositeOperation=\"destination-in\",t.beginPath();for(var l=0;l<i.length;l++)for(var c=i[l],h=0;h<c.length;h++)0==h?t.moveTo(c[h][0],c[h][1]):t.lineTo(c[h][0],c[h][1]);t.closePath(),t.fillStyle=\"#ff0000ff\",t.fill(),t.restore()}}}),Bw=Object(va.a)(Gw,(function(){var t=this.$createElement;return(this._self._c||t)(\"div\")}),[],!1,null,null,null).exports,zw={name:\"Vue2olInteractionPlotdraw\",data:function(){return{mapObject:null,ready:!1,parent:null,map:null}},props:{parentMap:{type:Object},parentSource:{type:Object},type:{type:String,custom:!0},params:{type:Object,custom:!0},styleObj:{type:Object,custom:!0}},watch:{},mounted:function(){this.parentSource?this.parent=this.parentSource:this.parent=gx(this.$parent).mapObject,this.parentMap?this.map=this.parentMap:this.map=yx(this.$parent).mapObject;var t=_x({map:this.map,styleObj:this.styleObj},this);t.styleObj&&(t.style=t.styleObj),this.mapObject=new fv.tool.PlotDraw(t),this.mapObject.on(\"draw_end\",this.onDrawEnd),fx(this.mapObject,mx(this)),dx(this,this.mapObject,this.$options.props),this.type&&this.mapObject.activate(this.type,this.params)},destroyed:function(){this.mapObject.deactivate(),this.mapObject.un(\"draw_end\",this.onDrawEnd)},methods:{onDrawEnd:function(t){var e=t.target.feature;this.parent.addFeature(e),this.mapObject.activate(this.type,this.params),this.$emit(\"drawend\",this.mapObject)},setType:function(t){t?this.mapObject.activate(t,this.params):this.mapObject.deactivate()},setParams:function(t){this.mapObject.activate(this.type,t)},setStyleObj:function(t){this.mapObject.setStyle(t)}}},Vw=Object(va.a)(zw,(function(){var t=this.$createElement;return(this._self._c||t)(\"div\")}),[],!1,null,null,null).exports,qw=function t(e){t.installed||Object.keys(r).forEach((function(t){e.component(r[t].name,r[t])}))};\"undefined\"!=typeof window&&window.Vue&&qw(window.Vue);var Uw={install:qw};Fi.use(Uw);n(397);Fi.component(\"Badge\",(function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,464))})),Fi.component(\"CodeGroup\",(function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,459))})),Fi.component(\"CodeBlock\",(function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,460))}));n(398),n(226);var $w=n(219),Xw={data:function(){return{hovering:!1,copied:!1,isExpanded:!1,fixedControl:!1,codeContentWidth:0,scrollParent:null}},props:{options:{type:Object,default:function(){return{}}}},computed:{compoLang:function(){return this.options.locales||$w},langConfig:function(){var t=this;return this.compoLang.filter((function(e){return e.lang===t.$lang}))[0][\"demo-block\"]},blockClass:function(){return\"demo-\".concat(this.$lang,\" demo-\").concat(this.$router.currentRoute.path.split(\"/\").pop())},iconClass:function(){return this.isExpanded?\"caret-top\":\"caret-bottom\"},controlText:function(){return this.isExpanded?this.langConfig[\"hide-text\"]:this.langConfig[\"show-text\"]},copiedText:function(){return this.copied?this.langConfig[\"copy-success\"]:this.langConfig[\"copy-text\"]},codeArea:function(){return this.$el.getElementsByClassName(\"meta\")[0]},codeAreaHeight:function(){return this.$el.getElementsByClassName(\"description\").length>0?this.$el.getElementsByClassName(\"description\")[0].clientHeight+this.$el.getElementsByClassName(\"code-content\")[0].clientHeight+20:this.$el.getElementsByClassName(\"code-content\")[0].clientHeight}},methods:{copyCode:function(){var t=this;if(!this.copied){var e=this.$el.querySelectorAll(\"pre\")[0];e.setAttribute(\"contenteditable\",\"true\"),e.focus(),document.execCommand(\"selectAll\",!1,null),this.copied=document.execCommand(\"copy\"),e.removeAttribute(\"contenteditable\"),setTimeout((function(){t.copied=!1}),1500)}},scrollHandler:function(){var t=this.$refs.meta.getBoundingClientRect(),e=t.top,n=t.bottom,r=t.left;this.fixedControl=n>document.documentElement.clientHeight&&e+44<=document.documentElement.clientHeight,this.$refs.control.style.left=this.fixedControl?\"\".concat(r,\"px\"):\"0\"},removeScrollHandler:function(){this.scrollParent&&this.scrollParent.removeEventListener(\"scroll\",this.scrollHandler)}},watch:{isExpanded:function(t){var e=this;if(this.codeArea.style.height=t?\"\".concat(this.codeAreaHeight+1,\"px\"):\"0\",!t)return this.fixedControl=!1,this.$refs.control.style.left=\"0\",void this.removeScrollHandler();setTimeout((function(){e.scrollParent=document,e.scrollParent&&e.scrollParent.addEventListener(\"scroll\",e.scrollHandler),e.scrollHandler()}),200)}},mounted:function(){var t=this;this.$nextTick((function(){var e=t.$el.getElementsByClassName(\"code-content\")[0];t.codeContentWidth=t.$el.offsetWidth,0===t.$el.getElementsByClassName(\"description\").length&&(e.style.width=\"100%\",e.borderRight=\"none\")}))},beforeDestroy:function(){this.removeScrollHandler()}},Yw=(n(399),Object(va.a)(Xw,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"demo-block\",class:[t.blockClass,{hover:t.hovering}],on:{mouseenter:function(e){t.hovering=!0},mouseleave:function(e){t.hovering=!1}}},[n(\"div\",{staticClass:\"demo-content\"},[t._t(\"demo\")],2),t._v(\" \"),n(\"div\",{ref:\"meta\",staticClass:\"meta\"},[t.$slots.description?n(\"div\",{staticClass:\"description\"},[t._t(\"description\")],2):t._e(),t._v(\" \"),n(\"div\",{staticClass:\"code-content\"},[t._t(\"source\")],2)]),t._v(\" \"),n(\"div\",{ref:\"control\",staticClass:\"demo-block-control\",class:{\"is-fixed\":t.fixedControl},style:{width:t.fixedControl?t.codeContentWidth+\"px\":\"unset\"},on:{click:function(e){t.isExpanded=!t.isExpanded}}},[n(\"transition\",{attrs:{name:\"arrow-slide\"}},[n(\"i\",{class:[t.iconClass,{hovering:t.hovering},\"icon\"]})]),t._v(\" \"),n(\"transition\",{attrs:{name:\"text-slide\"}},[n(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.hovering,expression:\"hovering\"}]},[t._v(t._s(t.controlText))])]),t._v(\" \"),n(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:!t.copied,expression:\"!copied\"}],class:[\"copy-action\",{\"copying \":t.copied}],on:{click:function(e){return e.stopPropagation(),t.copyCode.apply(null,arguments)}}},[t._v(t._s(t.copiedText))]),t._v(\" \"),n(\"transition\",{attrs:{name:\"bounce\"}},[n(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.copied,expression:\"copied\"}],staticClass:\"copy-action copy-action-success\"},[t._v(t._s(t.copiedText))])])],1)])}),[],!1,null,\"df9dcd1c\",null).exports),Ww=[function(t){t.Vue,t.options,t.router,t.siteData,t.isServer},{},function(t){t.Vue.mixin({computed:{$dataBlock:function(){return this.$options.__data__block__}}})},{},{},function(t){t.Vue.component(\"DemoBlock\",Yw)}],Hw=[];n(220);n(211);function Kw(t,e){return(Kw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(212),n(213);function Zw(t){return(Zw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jw(t,e){if(e&&(\"object\"===Ps(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function Qw(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Zw(t);if(e){var i=Zw(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Jw(this,n)}}var tE=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Kw(t,e)}(n,t);var e=Qw(n);function n(){return ha(this,n),e.apply(this,arguments)}return fa(n)}(function(){function t(){ha(this,t),this.store=new Fi({data:{state:{}}})}return fa(t,[{key:\"$get\",value:function(t){return this.store.state[t]}},{key:\"$set\",value:function(t,e){Fi.set(this.store.state,t,e)}},{key:\"$emit\",value:function(){var t;(t=this.store).$emit.apply(t,arguments)}},{key:\"$on\",value:function(){var t;(t=this.store).$on.apply(t,arguments)}}]),t}());Object.assign(tE.prototype,{getPageAsyncComponent:qs,getLayoutAsyncComponent:Us,getAsyncComponent:$s,getVueComponent:Xs});var eE={install:function(t){var e=new tE;t.$vuepress=e,t.prototype.$vuepress=e}};function nE(t){t.beforeEach((function(e,n,r){if(rE(t,e.path))r();else if(/(\\/|\\.html)$/.test(e.path))if(/\\/$/.test(e.path)){var i=e.path.replace(/\\/$/,\"\")+\".html\";rE(t,i)?r(i):r()}else r();else{var o=e.path+\"/\",s=e.path+\".html\";rE(t,s)?r(s):rE(t,o)?r(o):r()}}))}function rE(t,e){var n=e.toLowerCase();return t.options.routes.some((function(t){return t.path.toLowerCase()===n}))}var iE={props:{pageKey:String,slotKey:{type:String,default:\"default\"}},render:function(t){var e=this.pageKey||this.$parent.$page.key;return Ws(\"pageKey\",e),Fi.component(e)||Fi.component(e,qs(e)),Fi.component(e)?t(e):t(\"\")}},oE={functional:!0,props:{slotKey:String,required:!0},render:function(t,e){var n=e.props,r=e.slots;return t(\"div\",{class:[\"content__\".concat(n.slotKey)]},r()[n.slotKey])}},sE={computed:{openInNewWindowTitle:function(){return this.$themeLocaleConfig.openNewWindowText||\"(opens new window)\"}}},aE=(n(401),n(402),Object(va.a)(sE,(function(){var t=this.$createElement,e=this._self._c||t;return e(\"span\",[e(\"svg\",{staticClass:\"icon outbound\",attrs:{xmlns:\"http://www.w3.org/2000/svg\",\"aria-hidden\":\"true\",focusable:\"false\",x:\"0px\",y:\"0px\",viewBox:\"0 0 100 100\",width:\"15\",height:\"15\"}},[e(\"path\",{attrs:{fill:\"currentColor\",d:\"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z\"}}),this._v(\" \"),e(\"polygon\",{attrs:{fill:\"currentColor\",points:\"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9\"}})]),this._v(\" \"),e(\"span\",{staticClass:\"sr-only\"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports);function uE(){return(uE=o(regeneratorRuntime.mark((function t(e){var n,r,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=\"undefined\"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:ba.routerBase||ba.base,nE(r=new Ss({base:n,mode:\"history\",fallback:!1,routes:ma,scrollBehavior:function(t,e,n){return n||(t.hash?!Fi.$vuepress.$get(\"disableScrollBehavior\")&&{selector:decodeURIComponent(t.hash)}:{x:0,y:0})}})),i={},t.prev=4,t.next=7,Promise.all(Ww.filter((function(t){return\"function\"==typeof t})).map((function(t){return t({Vue:Fi,options:i,router:r,siteData:ba,isServer:e})})));case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(4),console.error(t.t0);case 12:return o=new Fi(Object.assign(i,{router:r,render:function(t){return t(\"div\",{attrs:{id:\"app\"}},[t(\"RouterView\",{ref:\"layout\"}),t(\"div\",{class:\"global-ui\"},Hw.map((function(e){return t(e)})))])}})),t.abrupt(\"return\",{app:o,router:r});case 14:case\"end\":return t.stop()}}),t,null,[[4,9]])})))).apply(this,arguments)}Fi.config.productionTip=!1,Fi.use(Ss),Fi.use(eE),Fi.mixin(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fi;Os(e),n.$vuepress.$set(\"siteData\",e);var r=t(n.$vuepress.$get(\"siteData\")),i=new r,o=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(i)),s={};return Object.keys(o).reduce((function(t,e){return e.startsWith(\"$\")&&(t[e]=o[e].get),t}),s),{computed:s}}((function(t){return function(){function e(){ha(this,e)}return fa(e,[{key:\"setPage\",value:function(t){this.__page=t}},{key:\"$site\",get:function(){return t}},{key:\"$themeConfig\",get:function(){return this.$site.themeConfig}},{key:\"$frontmatter\",get:function(){return this.$page.frontmatter}},{key:\"$localeConfig\",get:function(){var t,e,n=this.$site.locales,r=void 0===n?{}:n;for(var i in r)\"/\"===i?e=r[i]:0===this.$page.path.indexOf(i)&&(t=r[i]);return t||e||{}}},{key:\"$siteTitle\",get:function(){return this.$localeConfig.title||this.$site.title||\"\"}},{key:\"$canonicalUrl\",get:function(){var t=this.$page.frontmatter.canonicalUrl;return\"string\"==typeof t&&t}},{key:\"$title\",get:function(){var t=this.$page,e=this.$page.frontmatter.metaTitle;if(\"string\"==typeof e)return e;var n=this.$siteTitle,r=t.frontmatter.home?null:t.frontmatter.title||t.title;return n?r?r+\" | \"+n:n:r||\"VuePress\"}},{key:\"$description\",get:function(){var t=function(t){if(t){var e=t.filter((function(t){return\"description\"===t.name}))[0];if(e)return e.content}}(this.$page.frontmatter.meta);return t||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||\"\")}},{key:\"$lang\",get:function(){return this.$page.frontmatter.lang||this.$localeConfig.lang||\"en-US\"}},{key:\"$localePath\",get:function(){return this.$localeConfig.path||\"/\"}},{key:\"$themeLocaleConfig\",get:function(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}},{key:\"$page\",get:function(){return this.__page?this.__page:function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.path.toLowerCase()===e.toLowerCase())return r}return{path:\"\",frontmatter:{}}}(this.$site.pages,this.$route.path)}}]),e}()}),ba)),Fi.component(\"Content\",iE),Fi.component(\"ContentSlotsDistributor\",oE),Fi.component(\"OutboundLink\",aE),Fi.component(\"ClientOnly\",{functional:!0,render:function(t,e){var n=e.parent,r=e.children;if(n._isMounted)return r;n.$once(\"hook:mounted\",(function(){n.$forceUpdate()}))}}),Fi.component(\"Layout\",Us(\"Layout\")),Fi.component(\"NotFound\",Us(\"NotFound\")),Fi.prototype.$withBase=function(t){var e=this.$site.base;return\"/\"===t.charAt(0)?e+t.slice(1):t},window.__VUEPRESS__={version:\"1.9.7\",hash:\"862bff7\"},function(t){return uE.apply(this,arguments)}(!1).then((function(t){var e=t.app;t.router.onReady((function(){e.$mount(\"#app\")}))}))}]);","extractedComments":[]}